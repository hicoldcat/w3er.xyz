---
title: Web3æ•™ç¨‹ï¼šä½¿ç”¨ Solidity æ„å»º Web3 åº”ç”¨ç¨‹åºï¼ˆ1ï¼‰
description: null
author: æç•™ç™½
weight: 0
date: 2022-11-20T02:22:26.417Z
lastmod: 2022-11-20T03:02:47.668Z
tags: []
categories:
  - åŒºå—é“¾
  - WEB3.0
featuredImage: https://hicoldcat.oss-cn-hangzhou.aliyuncs.com/img/202211201025786.png
---

## ç›®å½•

```text
åˆ›å»ºç¬¬ä¸€ä¸ªåˆçº¦
	è®©ä½ çš„æœ¬åœ°ä»¥å¤ªåŠç½‘ç»œè¿è¡Œèµ·æ¥
	ç”¨ Solidity ç¼–å†™æ‚¨çš„ç¬¬ä¸€ä¸ªæ™ºèƒ½åˆçº¦
	åœ¨æœ¬åœ°ç¼–è¯‘åˆçº¦å¹¶è¿è¡Œ
	å°†æ•°æ®å­˜å‚¨åœ¨æˆ‘ä»¬çš„æ™ºèƒ½åˆçº¦ä¸­
	åœ¨æœ¬åœ°éƒ¨ç½²ï¼Œä»¥ä¾¿æˆ‘ä»¬å¯ä»¥å¼€å§‹æ„å»ºç½‘ç«™
è¿æ¥åˆ°é’±åŒ…
	è®¾ç½®ä¸€ä¸ªåŸºæœ¬çš„ React åº”ç”¨ç¨‹åºï¼Œè®¾ç½® Metamask
	å°†æ™ºèƒ½åˆçº¦éƒ¨ç½²åˆ°çœŸå®çš„æµ‹è¯•ç½‘
	å°†æˆ‘ä»¬çš„é’±åŒ…è¿æ¥åˆ°æˆ‘ä»¬çš„ç½‘ç»œåº”ç”¨ç¨‹åº
	ä»æˆ‘ä»¬çš„ç½‘ç»œåº”ç”¨ç¨‹åºè°ƒç”¨å·²éƒ¨ç½²çš„æ™ºèƒ½åˆçº¦
ä¸åˆçº¦äº¤äº’
	å°†æ¥è‡ªç”¨æˆ·çš„æ¶ˆæ¯å­˜å‚¨åœ¨åŒºå—é“¾ä¸Š
	åŸºé‡‘åˆçº¦ï¼Œè®¾ç½®å¥–å“ï¼Œå‘é€ç”¨æˆ·ä»¥å¤ªå¸
ä¼˜åŒ– UI å¹¶éƒ¨ç½²
	éšæœºé€‰æ‹©è·èƒœè€…å¹¶é˜²æ­¢åƒåœ¾é‚®ä»¶å‘é€è€…
	å®Œæˆå¹¶åº†ç¥ï¼
```

## åˆ›å»ºç¬¬ä¸€ä¸ªåˆçº¦

### è®©ä½ çš„æœ¬åœ°ä»¥å¤ªåŠç½‘ç»œè¿è¡Œèµ·æ¥

#### âœ… è®¾ç½®ä½ çš„ç¯å¢ƒä»¥å¼€å§‹ä½¿ç”¨åŒºå—é“¾

é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦è®©æˆ‘ä»¬çš„æœ¬åœ°ä»¥å¤ªåŠç½‘ç»œæ­£å¸¸å·¥ä½œã€‚è¿™æ˜¯æˆ‘ä»¬ç¼–è¯‘å’Œæµ‹è¯•æ™ºèƒ½åˆçº¦ä»£ç çš„æ–¹å¼ï¼æ‚¨çŸ¥é“å¦‚ä½•å¯åŠ¨æœ¬åœ°ç¯å¢ƒæ¥å¤„ç†å®ƒå—ï¼Ÿè¿™é‡Œä¹Ÿä¸€æ ·ï¼

ç°åœ¨ï¼Œä½ æ‰€éœ€è¦çŸ¥é“çš„æ˜¯ï¼Œæ™ºèƒ½åˆçº¦æ˜¯ä¸€æ®µç”Ÿæ´»åœ¨åŒºå—é“¾ä¸Šçš„ä»£ç ã€‚åŒºå—é“¾æ˜¯ä¸€ä¸ªå…¬å…±åœºæ‰€ï¼Œä»»ä½•äººéƒ½å¯ä»¥å®‰å…¨åœ°è¯»å–å’Œå†™å…¥æ•°æ®ï¼Œå¹¶æ”¶å–è´¹ç”¨ã€‚æƒ³æƒ³çœ‹ï¼Œå®ƒæœ‰ç‚¹åƒAWSæˆ–Herokuï¼Œåªæ˜¯æ²¡æœ‰äººçœŸæ­£æ‹¥æœ‰å®ƒï¼

æ‰€ä»¥åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¸Œæœ›äººä»¬å¯¹æˆ‘ä»¬ğŸ‘‹ã€‚è¿™é‡Œçš„å¤§èƒŒæ™¯æ˜¯ï¼š

1.**æˆ‘ä»¬è¦å†™ä¸€ä¸ªæ™ºèƒ½åˆçº¦ã€‚**è¯¥åˆåŒåŒ…å«æœ‰å…³å¦‚ä½•å¤„ç† ğŸ‘‹ çš„æ‰€æœ‰é€»è¾‘ã€‚è¿™å°±åƒæ‚¨çš„æœåŠ¡å™¨ä»£ç ã€‚

2.**æˆ‘ä»¬çš„æ™ºèƒ½åˆçº¦å°†è¢«éƒ¨ç½²åˆ°åŒºå—é“¾ä¸Šã€‚**è¿™æ ·ï¼Œä¸–ç•Œä¸Šä»»ä½•äººéƒ½å¯ä»¥è®¿é—®å’Œè¿è¡Œæˆ‘ä»¬çš„æ™ºèƒ½åˆçº¦ï¼ˆå¦‚æœæˆ‘ä»¬å…è®¸ä»–ä»¬è¿™æ ·åšï¼‰ã€‚æ‰€ä»¥ï¼Œéå¸¸åƒä¸€ä¸ªæœåŠ¡å™¨ :)ã€‚

3.**æˆ‘ä»¬å°†å»ºç«‹ä¸€ä¸ªå®¢æˆ·ç½‘ç«™**ï¼Œè®©äººä»¬å¯ä»¥è½»æ¾åœ°ä¸æˆ‘ä»¬åœ¨åŒºå—é“¾ä¸Šçš„æ™ºèƒ½åˆçº¦è¿›è¡Œäº¤äº’ã€‚

æˆ‘å°†æ ¹æ®éœ€è¦æ·±å…¥è§£é‡ŠæŸäº›äº‹æƒ…ï¼ˆä¾‹å¦‚æŒ–çŸ¿å¦‚ä½•å·¥ä½œï¼Œæ™ºèƒ½åˆçº¦å¦‚ä½•ç¼–è¯‘å’Œè¿è¡Œç­‰ï¼‰ï¼Œ*ä½†ç°åœ¨è®©æˆ‘ä»¬åªä¸“æ³¨äºè®©ä¸œè¥¿è¿è¡Œ*ã€‚

å¦‚æœæ‚¨åœ¨è¿™é‡Œæœ‰ä»»ä½•é—®é¢˜ï¼Œåªéœ€åœ¨ Discord ä¸­çš„  `#section-1-help`ç•™è¨€. 

#### âœ¨Hardhatçš„é­”åŠ›

1. æˆ‘ä»¬å°†ç»å¸¸ä½¿ç”¨åä¸º Hardhat çš„å·¥å…·ã€‚è¿™å°†ä½¿æˆ‘ä»¬èƒ½å¤Ÿè½»æ¾å¯åŠ¨æœ¬åœ°ä»¥å¤ªåŠç½‘ç»œï¼Œå¹¶ä¸ºæˆ‘ä»¬æä¾›å‡æµ‹è¯• ETH å’Œå‡æµ‹è¯•è´¦æˆ·ã€‚è¯·è®°ä½ï¼Œå®ƒå°±åƒä¸€ä¸ªæœ¬åœ°æœåŠ¡å™¨ï¼Œé™¤äº†â€œæœåŠ¡å™¨â€æ˜¯åŒºå—é“¾ã€‚

2. å¿«é€Ÿç¼–è¯‘æ™ºèƒ½åˆçº¦å¹¶åœ¨æˆ‘ä»¬æœ¬åœ°çš„åŒºå—é“¾ä¸Šè¿›è¡Œæµ‹è¯•ã€‚

é¦–å…ˆï¼Œæ‚¨éœ€è¦è·å– Node/NPMã€‚å¦‚æœä½ æ²¡æœ‰å®ƒï¼Œè¯·åˆ°[è¿™é‡Œæ¥](https://hardhat.org/tutorial/setting-up-the-environment.html?utm_source=buildspace.so&utm_medium=buildspace_project)ã€‚

æˆ‘ä»¬å»ºè®®ä½¿ç”¨å½“å‰çš„ LTS Node.js ç‰ˆæœ¬è¿è¡Œ Hardhatï¼Œå¦åˆ™æ‚¨å¯èƒ½ä¼šé‡åˆ°ä¸€äº›é—®é¢˜ï¼[æ‚¨å¯ä»¥åœ¨æ­¤å¤„](https://nodejs.org/en/about/releases/?utm_source=buildspace.so&utm_medium=buildspace_project)æ‰¾åˆ°å½“å‰ç‰ˆæœ¬ã€‚**ç¡®ä¿ä½ çš„ NodeJs ç‰ˆæœ¬æ˜¯æ­£ç¡®çš„ï¼Œå¦åˆ™ä½ ä¼šé‡åˆ°é—®é¢˜ï¼**æˆ‘ä»¬ç°åœ¨æ¨èç‰ˆæœ¬ 16ã€‚

æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬å‰å¾€ç»ˆç«¯ï¼ˆGit Bash å°†æ— æ³•è¿è¡Œï¼‰ã€‚ç»§ç»­å¹¶ cd åˆ°ä½ æƒ³è¦å·¥ä½œçš„ç›®å½•ã€‚ä¸€æ—¦ä½ åœ¨é‚£é‡Œè¿è¡Œè¿™äº›å‘½ä»¤ï¼š

```bash
mkdir my-wave-portal
cd my-wave-portal
npm init -y
npm install --save-dev hardhat@latest
```

#### ğŸ‘ å¼€å§‹ç¤ºä¾‹é¡¹ç›®

å¤ªæ£’äº†ï¼Œç°åœ¨æˆ‘ä»¬åº”è¯¥æœ‰Hardhatäº†ã€‚è®©æˆ‘ä»¬å¼€å§‹ä¸€ä¸ªç¤ºä¾‹é¡¹ç›®ã€‚

è¿è¡Œï¼š

```bash
npx hardhat
```

*æ³¨æ„ï¼šå¦‚æœä½ å®‰è£…äº† yarn å’Œ npmï¼Œä½ å¯èƒ½ä¼šå¾—åˆ°è¯¸å¦‚`npm ERR! could not determine executable to run`. åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ å¯ä»¥è¿™æ ·åšï¼šè¿è¡Œ`yarn add hardhat`ã€‚*

é€‰æ‹©**åˆ›å»º JavaScript é¡¹ç›®**é€‰é¡¹ï¼Œå¯¹ä¸€åˆ‡éƒ½é€‰Yesã€‚

![](https://hicoldcat.oss-cn-hangzhou.aliyuncs.com/img/202211201029238.png)

ç¤ºä¾‹é¡¹ç›®å°†è¦æ±‚æ‚¨å®‰è£… hardhat-waffle å’Œ hardhat-ethersã€‚è¿™äº›æ˜¯æˆ‘ä»¬ç¨åä¼šç”¨åˆ°çš„å…¶ä»–å¥½ä¸œè¥¿:)ã€‚

ç»§ç»­å®‰è£…è¿™äº›å…¶ä»–ä¾èµ–é¡¹ï¼Œä»¥é˜²å®ƒæ²¡æœ‰è‡ªåŠ¨æ‰§è¡Œã€‚

```bash
npm install --save-dev chai @nomiclabs/hardhat-ethers ethers @nomicfoundation/hardhat-toolbox @nomicfoundation/hardhat-chai-matchers
```

ä½ çš„`hardhat.config.js`åº”è¯¥çœ‹èµ·æ¥åƒè¿™æ ·ã€‚

```javascript
require("@nomicfoundation/hardhat-toolbox");

// This is a sample Hardhat task. To learn how to create your own go to
// https://hardhat.org/guides/create-task.html
task("accounts", "Prints the list of accounts", async (taskArgs, hre) => {
    const accounts = await hre.ethers.getSigners();

    for (const account of accounts) {
        console.log(account.address);
    }
});

// You need to export an object to set up your config
// Go to https://hardhat.org/config/ to learn more

/**
 * @type import('hardhat/config').HardhatUserConfig
 */
module.exports = {
    solidity: "0.8.17",
};
```

æœ€åï¼Œè¿è¡Œ`npx hardhat node`ï¼Œè¿™åº”è¯¥ä¼šæ‰“å°å‡ºä¸€å †å¦‚ä¸‹æ‰€ç¤ºçš„å¸æˆ·ï¼š

```
0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266
0x70997970C51812dc3A010C7d01b50e0d17dc79C8
0x3C44CdDdB6a900fa2b585dd299e03d12FA4293BC
0x90F79bf6EB2c4f870365E785982E1f101E93b906
0x15d34AAf54267DB7D7c367839AAf71A00a2C6A65
0x9965507D1a55bcC2695C58ba16FB37d819B0A4dc
0x976EA74026E726554dB657fA54763abd0C3a0aa9
0x14dC79964da2C08b23698B3D3cc7Ca32193d9955
0x23618e81E3f5cdF7f54C3d65f7FBc0aBf5B21E8f
0xa0Ee7A142d267C1f36714E4a8F75612F20a79720
0xBcd4042DE499D14e55001CcbB24a551F3b954096
0x71bE63f3384f5fb98995898A86B02Fb2426c5788
0xFABB0ac9d68B0B445fB7357272Ff202C5651694a
0x1CBd3b2770909D4e10f157cABC84C7264073C9Ec
0xdF3e18d64BC6A983f673Ab319CCaE4f1a57C7097
0xcd3B766CCDd6AE721141F452C550Ca635964ce71
0x2546BcD3c84621e976D8185a91A922aE77ECEc30
0xbDA5747bFD65F08deb54cb465eB87D40e51B197E
0xdD2FD4581271e230360230F9337D5c0430Bf44C0
0x8626f6940E2eb28930eFb4CeF49B2d1F2C9C1199
```

è¿™äº›æ˜¯ Hardhat ä¸ºæˆ‘ä»¬ç”Ÿæˆçš„ä»¥å¤ªåŠåœ°å€ï¼Œç”¨äºæ¨¡æ‹ŸåŒºå—é“¾ä¸Šçš„çœŸå®ç”¨æˆ·ã€‚åœ¨é¡¹ç›®åæœŸï¼Œå½“æˆ‘ä»¬æƒ³æ¨¡æ‹Ÿç”¨æˆ·ğŸ‘‹åœ¨æˆ‘ä»¬èº«è¾¹æ—¶ï¼Œè¿™å°†å¯¹æˆ‘ä»¬æœ‰å¾ˆå¤§çš„å¸®åŠ©ï¼

#### ğŸŒŸ è¿è¡Œå®ƒ

ä¸ºç¡®ä¿ä¸€åˆ‡æ­£å¸¸ï¼Œè¯·è¿è¡Œï¼š

```bash
 npx hardhat compile
```

ç„¶åè¿è¡Œï¼š

```bash
npx hardhat test
```

ä½ åº”è¯¥çœ‹åˆ°è¿™æ ·çš„ä¸œè¥¿ï¼š

![](https://hicoldcat.oss-cn-hangzhou.aliyuncs.com/img/202211201030863.png)

è®©æˆ‘ä»¬åšä¸€ä¸ªå°å°çš„æ¸…ç†ã€‚

ç°åœ¨å°±å»ç”¨ä½ å–œæ¬¢çš„ä»£ç ç¼–è¾‘å™¨æ‰“å¼€è¿™ä¸ªé¡¹ç›®çš„ä»£ç ã€‚æˆ‘æœ€å–œæ¬¢VSCode! æˆ‘ä»¬è¦åˆ é™¤æ‰€æœ‰ä¸ºæˆ‘ä»¬ç”Ÿæˆçš„è¹©è„šçš„å¯åŠ¨ä»£ç ã€‚æˆ‘ä»¬ä¸éœ€è¦ä»»ä½•è¿™äº›ä¸œè¥¿ã€‚æˆ‘ä»¬æ˜¯ä¸“ä¸šäººå‘˜;)ï¼

ç»§ç»­ï¼Œåˆ é™¤`test` ä¸‹çš„`Lock.js`æ–‡ä»¶ã€‚å¦å¤–ï¼Œåˆ é™¤`scripts` ä¸‹`deploy.js`ã€‚ç„¶åï¼Œåˆ é™¤`contracts`ä¸‹`Lock.sol`ã€‚ä¸è¦åˆ é™¤å®é™…çš„æ–‡ä»¶å¤¹ï¼

### ç”¨ Solidity ç¼–å†™æ‚¨çš„ç¬¬ä¸€ä¸ªæ™ºèƒ½åˆçº¦

#### ğŸ‘©â€ğŸ’» å†™ä¸ªåˆçº¦å§

å¤ªæ£’äº†ï¼Œæˆ‘ä»¬åšåˆ°äº†ã€‚

æˆ‘ä»¬å°†ç›´æ¥è¿›å…¥æˆ‘ä»¬çš„é¡¹ç›®ã€‚

è®©æˆ‘ä»¬æ„å»ºä¸€ä¸ªæ™ºèƒ½åˆçº¦ï¼Œè®©æˆ‘ä»¬å‘åˆçº¦å‘é€ğŸ‘‹ å¹¶è·Ÿè¸ªæ€»æ³¢æ•°ã€‚è¿™å°†å¾ˆæœ‰ç”¨ï¼Œå› ä¸ºåœ¨æ‚¨çš„ç½‘ç«™ä¸Šï¼Œæ‚¨å¯èƒ½æƒ³è¦è·Ÿè¸ªè¿™ä¸ª #! è¯·éšæ„æ›´æ”¹å®ƒä»¥é€‚åˆæ‚¨çš„ç”¨ä¾‹ã€‚

åœ¨`contracts`ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º`WavePortal.sol`çš„æ–‡ä»¶ã€‚ä½¿ç”¨ Hardhat æ—¶æ–‡ä»¶ç»“æ„éå¸¸é‡è¦ï¼Œæ‰€ä»¥ï¼Œè¯·æ³¨æ„ï¼

æˆ‘ä»¬å°†ä»æ¯ä¸ªåˆåŒå¼€å§‹çš„ç»“æ„å¼€å§‹ã€‚

```solidity
// SPDX-License-Identifier: UNLICENSED

pragma solidity ^0.8.17;

import "hardhat/console.sol";

contract WavePortal {
    constructor() {
        console.log("Yo yo, I am a contract and I am smart");
    }
}
```

æ³¨æ„ï¼šæ‚¨å¯èƒ½éœ€è¦åœ¨[æ­¤å¤„](https://marketplace.visualstudio.com/items?itemName=JuanBlanco.solidity&utm_source=buildspace.so&utm_medium=buildspace_project)ä¸‹è½½ VS Code Solidity æ‰©å±•ä»¥è½»æ¾çªå‡ºæ˜¾ç¤ºè¯­æ³•ã€‚

```solidity
// SPDX-License-Identifier: UNLICENSED
```

åªæ˜¯ä¸€ä¸ªèŠ±å“¨çš„æ³¨é‡Šã€‚å®ƒè¢«ç§°ä¸ºâ€œSPDX è®¸å¯è¯æ ‡è¯†ç¬¦â€ï¼Œè¯·éšæ„è°·æ­Œå®ƒæ˜¯ä»€ä¹ˆ:)ã€‚

```solidity
pragma solidity ^0.8.17;
```

è¿™æ˜¯æˆ‘ä»¬å¸Œæœ›åˆçº¦ä½¿ç”¨çš„ Solidity ç¼–è¯‘å™¨çš„ç‰ˆæœ¬ã€‚å®ƒåŸºæœ¬ä¸Šæ˜¯è¯´â€œè¿è¡Œæ—¶ï¼Œæˆ‘åªæƒ³ä½¿ç”¨ 0.8.17 ç‰ˆæœ¬çš„ Solidity ç¼–è¯‘å™¨ï¼Œä¸è¦å†ä½äº†ã€‚æ³¨æ„ï¼Œç¡®ä¿ç¼–è¯‘å™¨ç‰ˆæœ¬ä¸`hardhat.config.js`ä¸­æ˜¯ç›¸åŒçš„.

```solidity
import "hardhat/console.sol";
```

Hardhat ç»™äº†æˆ‘ä»¬ä¸€äº›é­”æ³•ï¼Œå¯ä»¥åœ¨æˆ‘ä»¬çš„åˆçº¦ä¸­åšä¸€äº›æ§åˆ¶å°æ—¥å¿—ã€‚è°ƒè¯•æ™ºèƒ½åˆçº¦å®é™…ä¸Šå…·æœ‰æŒ‘æˆ˜æ€§ï¼Œä½†è¿™æ˜¯Hardhatç»™æˆ‘ä»¬çš„å¥½ä¸œè¥¿ä¹‹ä¸€ï¼Œä½¿å¼€å‘æ›´å®¹æ˜“ã€‚

```solidity
contract WavePortal {
    constructor() {
        console.log("Yo yo, I am a contract and I am smart");
    }
}
```

æ‰€ä»¥ï¼Œæ™ºèƒ½åˆçº¦æœ‰ç‚¹åƒå…¶ä»–è¯­è¨€ä¸­çš„`class` ï¼Œå¦‚æœä½ è§è¿‡çš„è¯ï¼ä¸€æ—¦æˆ‘ä»¬ç¬¬ä¸€æ¬¡åˆå§‹åŒ–è¿™ä¸ªåˆçº¦ï¼Œæ„é€ å‡½æ•°å°±ä¼šè¿è¡Œå¹¶æ‰“å°å‡ºé‚£ä¸€è¡Œã€‚è¯·è®©é‚£ä¸€è¡Œå†™ä¸Šä½ æƒ³å†™çš„ä¸œè¥¿:)!

åœ¨ä¸‹ä¸€è¯¾ä¸­ï¼Œæˆ‘ä»¬å°†è¿è¡Œå®ƒï¼Œçœ‹çœ‹ä¼šå¾—åˆ°ä»€ä¹ˆï¼

### åœ¨æœ¬åœ°ç¼–è¯‘åˆçº¦å¹¶è¿è¡Œ

#### ğŸ”¥ æ¨¡ä»¿åŒºå—é“¾ç¯å¢ƒè¿›è¡Œæµ‹è¯•

ä½ å·²ç»åšåˆ°äº†ã€‚ä½ å·²ç»å†™äº†ä¸€ä¸ªæ™ºèƒ½åˆçº¦ã€‚ä½ æ˜¯å† å†›ï¼

ç°åœ¨æˆ‘ä»¬å®é™…ä¸Šéœ€è¦

1. ç¼–è¯‘å®ƒã€‚
2. å°†å…¶éƒ¨ç½²åˆ°æˆ‘ä»¬çš„æœ¬åœ°åŒºå—é“¾ã€‚
3. ä¸€æ—¦å®ƒåœ¨é‚£é‡Œï¼Œconsole.log å°±ä¼šè¿è¡Œ :)ã€‚

æˆ‘ä»¬éœ€è¦è¿™æ ·åšï¼Œå› ä¸ºåœ¨ç°å®ä¸–ç•Œä¸­ï¼Œæ™ºèƒ½åˆçº¦å­˜åœ¨äºåŒºå—é“¾ä¸Šã€‚è€Œä¸”ï¼Œæˆ‘ä»¬å¸Œæœ›æˆ‘ä»¬çš„ç½‘ç«™å’Œæ™ºèƒ½åˆçº¦èƒ½å¤Ÿè¢«çœŸå®çš„äººä½¿ç”¨ï¼Œè¿™æ ·ä»–ä»¬å°±å¯ä»¥ğŸ‘‹ åœ¨æˆ‘ä»¬è¿™é‡Œæˆ–åšä»»ä½•ä½ æƒ³è®©ä»–ä»¬åšçš„äº‹ï¼

æ‰€ä»¥ï¼Œå³ä½¿æˆ‘ä»¬åœ¨æœ¬åœ°å·¥ä½œæ—¶ï¼Œæˆ‘ä»¬ä¹Ÿæƒ³æ¨¡ä»¿è¿™ç§ç¯å¢ƒã€‚ä»æŠ€æœ¯ä¸Šè®²ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ç¼–è¯‘å’Œè¿è¡ŒSolidityä»£ç ï¼Œä½†Solidityçš„ç¥å¥‡ä¹‹å¤„åœ¨äºå®ƒå¯ä»¥ä¸åŒºå—é“¾å’ŒEthereumé’±åŒ…äº’åŠ¨ï¼ˆæˆ‘ä»¬å°†åœ¨ä¸‹ä¸€è¯¾ä¸­çœ‹åˆ°æ›´å¤šï¼‰ã€‚æ‰€ä»¥ï¼Œæœ€å¥½ç°åœ¨å°±æŠŠè¿™ä¸ªæ•²å‡ºæ¥ã€‚

æˆ‘ä»¬åªæ˜¯è¦ç¼–å†™ä¸€ä¸ªè‡ªå®šä¹‰è„šæœ¬æ¥ä¸ºæˆ‘ä»¬å¤„ç†è¿™ 3 ä¸ªæ­¥éª¤ã€‚

è®©æˆ‘ä»¬å¼€å§‹å§ï¼

### ğŸ“ æ„å»ºä¸€ä¸ªè„šæœ¬æ¥è¿è¡Œæˆ‘ä»¬çš„åˆçº¦

è¿›å…¥`scripts`ç›®å½•å¹¶åˆ›å»ºä¸€ä¸ªåä¸º`run.js`çš„æ–‡ä»¶ã€‚

æ‰€ä»¥ï¼Œä¸ºäº†æµ‹è¯•æ™ºèƒ½åˆçº¦ï¼Œæˆ‘ä»¬å¿…é¡»åšå¾ˆå¤šæ­£ç¡®çš„äº‹æƒ…ã€‚æ¯”å¦‚ï¼šç¼–è¯‘ã€éƒ¨ç½²ï¼Œç„¶åæ‰§è¡Œã€‚

æˆ‘ä»¬çš„è„šæœ¬å°†ä½¿æˆ‘ä»¬éå¸¸å®¹æ˜“åœ°å¿«é€Ÿè¿­ä»£æˆ‘ä»¬çš„åˆçº¦ :)ã€‚

æ‰€ä»¥ï¼Œè¿™å°±æ˜¯`run.js`å°†è¦æ‹¥æœ‰çš„ï¼š

```javascript
const main = async () => {
  const waveContractFactory = await hre.ethers.getContractFactory("WavePortal");
  const waveContract = await waveContractFactory.deploy();
  await waveContract.deployed();
  console.log("Contract deployed to:", waveContract.address);
};

const runMain = async () => {
  try {
    await main();
    process.exit(0); // exit Node process without error
  } catch (error) {
    console.log(error);
    process.exit(1); // exit Node process while indicating 'Uncaught Fatal Exception' error
  }
  // Read more about Node exit ('process.exit(num)') status codes here: https://stackoverflow.com/a/47163396/7974948
};

runMain();
```

çœŸæ£’ã€‚

#### ğŸ¤” æ•ˆæœå¦‚ä½•ï¼Ÿ

å†æ¬¡åœ¨è¿™é‡Œé€è¡Œè¿›è¡Œã€‚

```javascript
const waveContractFactory = await hre.ethers.getContractFactory("WavePortal");
```

è¿™å®é™…ä¸Šå°†ç¼–è¯‘æˆ‘ä»¬çš„åˆçº¦å¹¶ç”Ÿæˆæˆ‘ä»¬åœ¨`artifacts`ç›®å½•ä¸‹ä½¿ç”¨æˆ‘ä»¬çš„åˆçº¦æ‰€éœ€çš„å¿…è¦æ–‡ä»¶ã€‚è¿è¡Œåå»æ£€æŸ¥å®ƒ:)ã€‚

```javascript
const waveContract = await waveContractFactory.deploy();
```

è¿™å¾ˆèŠ±å“¨:)ã€‚ 

è¿™é‡Œå‘ç”Ÿçš„äº‹æƒ…æ˜¯Hardhatå°†ä¸ºæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæœ¬åœ°Ethereumç½‘ç»œï¼Œä½†åªæ˜¯ä¸ºäº†è¿™ä¸ªåˆçº¦ã€‚ç„¶åï¼Œåœ¨è„šæœ¬å®Œæˆåï¼Œå®ƒå°†é”€æ¯è¿™ä¸ªæœ¬åœ°ç½‘ç»œã€‚æ‰€ä»¥ï¼Œæ¯æ¬¡ä½ è¿è¡Œåˆçº¦æ—¶ï¼Œå®ƒéƒ½æ˜¯ä¸€ä¸ªæ–°çš„åŒºå—é“¾ã€‚è¿™æœ‰ä»€ä¹ˆæ„ä¹‰å‘¢ï¼Ÿè¿™æœ‰ç‚¹åƒæ¯æ¬¡åˆ·æ–°ä½ çš„æœ¬åœ°æœåŠ¡å™¨ï¼Œæ‰€ä»¥ä½ æ€»æ˜¯ä»ä¸€ä¸ªå¹²å‡€çš„æ¿å—å¼€å§‹ï¼Œè¿™ä½¿å¾—å®ƒå¾ˆå®¹æ˜“è°ƒè¯•é”™è¯¯ã€‚ã€‚

```javascript
await waveContract.deployed();
```

æˆ‘ä»¬å°†ç­‰åˆ°æˆ‘ä»¬çš„åˆçº¦æ­£å¼éƒ¨ç½²åˆ°æˆ‘ä»¬çš„æœ¬åœ°åŒºå—é“¾ï¼æˆ‘ä»¬çš„`constructor`å‡½æ•°åœ¨å®é™…éƒ¨ç½²æ—¶è¿è¡Œã€‚

```javascript
console.log("Contract deployed to:", waveContract.address);
```

æœ€åï¼Œä¸€æ—¦å®ƒè¢«éƒ¨ç½²ï¼Œ`waveContract.address`åŸºæœ¬ä¸Šä¼šç»™æˆ‘ä»¬å·²éƒ¨ç½²åˆçº¦çš„åœ°å€ã€‚è¿™ä¸ªåœ°å€æ˜¯æˆ‘ä»¬å¦‚ä½•åœ¨åŒºå—é“¾ä¸Šå®é™…æ‰¾åˆ°æˆ‘ä»¬çš„åˆçº¦ã€‚åœ¨å®é™…çš„åŒºå—é“¾ä¸Šæœ‰æ•°ä»¥ç™¾ä¸‡è®¡çš„åˆçº¦ã€‚æ‰€ä»¥ï¼Œè¿™ä¸ªåœ°å€è®©æˆ‘ä»¬å¾ˆå®¹æ˜“å°±èƒ½æ‰¾åˆ°æˆ‘ä»¬æ„Ÿå…´è¶£çš„åˆçº¦ï¼è¿™ä¸€ç‚¹åœ¨åé¢ä¼šæ›´é‡è¦ã€‚ä¸€æ—¦æˆ‘ä»¬éƒ¨ç½²åˆ°çœŸæ­£çš„Ethereumç½‘ç»œä¸Šï¼Œè¿™å°†æ˜¯æ›´é‡è¦çš„ã€‚ã€‚

è®©æˆ‘ä»¬è¿è¡Œå§ï¼

```bash
npx hardhat run scripts/run.js
```

æ‚¨åº”è¯¥ä»åˆçº¦ä¸­çœ‹åˆ°æ‚¨çš„`console.log`è¿è¡Œï¼Œç„¶åæ‚¨è¿˜åº”è¯¥çœ‹åˆ°æ‰“å°å‡ºçš„åˆçº¦åœ°å€ï¼ï¼ï¼è¿™æ˜¯æˆ‘å¾—åˆ°çš„ï¼š

![](https://hicoldcat.oss-cn-hangzhou.aliyuncs.com/img/202211201044435.png)

#### ğŸ© Hardhatå’Œ HRE

åœ¨è¿™äº›ä»£ç å—ä¸­ï¼Œæ‚¨ä¼šç»å¸¸æ³¨æ„åˆ°æˆ‘ä»¬ä½¿ç”¨`hre.ethers`, ä½†`hre`ä»æœªåœ¨ä»»ä½•åœ°æ–¹å¯¼å…¥ï¼Ÿè¿™æ˜¯ä»€ä¹ˆé­”æœ¯ï¼Ÿ

ç›´æ¥ä» Hardhat æ–‡æ¡£æœ¬èº«ï¼Œæ‚¨ä¼šæ³¨æ„åˆ°è¿™ä¸€ç‚¹ï¼š

> Hardhat è¿è¡Œæ—¶ç¯å¢ƒï¼Œç®€ç§° HREï¼Œæ˜¯ä¸€ä¸ªåŒ…å« Hardhat åœ¨è¿è¡Œä»»åŠ¡ã€æµ‹è¯•æˆ–è„šæœ¬æ—¶å…¬å¼€çš„æ‰€æœ‰åŠŸèƒ½çš„å¯¹è±¡ã€‚å®é™…ä¸Šï¼ŒHardhat å°±æ˜¯ HREã€‚

é‚£ä¹ˆè¿™æ„å‘³ç€ä»€ä¹ˆå‘¢ï¼Ÿå¥½å§ï¼Œæ¯æ¬¡ä½ è¿è¡Œä¸€ä¸ªä»¥`npx hardhat`å¼€å¤´çš„ç»ˆç«¯å‘½ä»¤æ—¶ï¼Œä½ éƒ½ä¼šå¾—åˆ°è¿™ä¸ª`HRE`å¯¹è±¡ï¼Œå®ƒæ˜¯ä½¿ç”¨ä½ çš„ä»£ç ä¸­`hardhat.config.js`æŒ‡å®šçš„é…ç½®å»ºç«‹çš„ï¼è¿™æ„å‘³ç€ä½ æ°¸è¿œä¸å¿…å®é™…æ“ä½œHardhatã€‚è¿™æ„å‘³ç€ä½ å°†æ°¸è¿œä¸å¿…åœ¨ä½ çš„æ–‡ä»¶ä¸­è¿›è¡ŒæŸç§å¯¼å…¥ï¼Œæ¯”å¦‚:

```
const hre = require("hardhat")
```

ä½ ä¼šåœ¨æˆ‘ä»¬çš„ä»£ç ä¸­çœ‹åˆ°å¾ˆå¤š`hre`ï¼Œä½†ä»æœªå¯¼å…¥ä»»ä½•åœ°æ–¹ï¼æŸ¥çœ‹è¿™ä¸ªå¾ˆæ£’çš„[Hardhat æ–‡æ¡£](https://hardhat.org/advanced/hardhat-runtime-environment.html?utm_source=buildspace.so&utm_medium=buildspace_project)ä»¥äº†è§£æ›´å¤šä¿¡æ¯ï¼

```
æœªå®Œå¾…ç»­...

åŸæ–‡åœ°å€ï¼šhttps://buildspace.so/p/build-solidity-web3-app
```

![](https://hicoldcat.oss-cn-hangzhou.aliyuncs.com/img/profile.jpg)

