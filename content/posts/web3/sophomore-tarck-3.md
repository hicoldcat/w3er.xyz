---
title: Web3系列教程之入门篇---3：什么是挖矿？
description: null
author: 李留白
weight: 0
date: 2022-07-03T13:24:43.514Z
lastmod: 2022-07-03T13:54:05.519Z
tags: []
categories:
  - 区块链
  - WEB3.0
featuredImage: https://hicoldcat.oss-cn-hangzhou.aliyuncs.com/img/20220703215340.png
---

挖矿是帮助创建新的交易区块以添加到以太坊区块链网络的过程。它还有助于保持网络的安全，使其免受攻击。

就像比特币一样，以太坊目前使用工作证明（PoW）共识机制，这在很大程度上依赖于采矿。以太坊矿工利用他们的时间和计算能力来处理新进入的交易并产生新的区块。

> 以太坊2.0（计划于2022年中后期）将用权益证明取代工作证明，这将大大改变新区块的生产方式。我们将在后面讨论Eth2。

## 矿工为什么会存在？

 大多数人认为挖矿只是添加新交易和创造新硬币的一种方式。但是，我们在上面提到过，挖矿也有助于保持网络安全。这是为什么？

在像以太坊这样的去中心化系统中，我们需要确保世界上的每个人都同意交易的顺序。

例如，如果 Alice 向 Bob 发送了 1 ETH，他又发送给 Charlie，则交易的顺序需要如下

 Alice --> Bob 1 ETH

Bob -->  Charlie 1 ETH

任何其他交易订单都不起作用，重要的是每个人都同意这一点。

因此，矿工还负责验证区块链网络上的加密货币交易并将其添加到分类账中。重要的是，这个过程可以防止数字货币的双重支出。

## 为什么有人会成为矿工？

就像实物货币一样，当有人执行交易时，必须更新区块链的状态以反映所涉及的每个账户的借方/贷方。

然而，数字平台容易受到攻击，并且可以被操纵。因此，矿工不仅提出新区块并验证所有交易，他们还需要出示合法性证书，证明他们提议的区块中的所有交易都是有效的。

生成此证书是一项计算难度大且复杂的挑战。这就是所有工作量证明的内容。我们将在稍后的教程中对此进行更深入的讨论，但现在，只知道生成此证书非常困难。

但是，有了合法性证书，第三方就很容易验证它是否有效。

对于在生产这些证书和执行交易方面辛勤工作的矿工，他们以新币的形式获得奖励。在以太坊中，当矿工成功挖出一个区块时，他们会因辛勤工作而获得 2 ETH。以太坊以 5 ETH 的整体奖励开始，但随着 2017 年拜占庭升级而降低到 3 ETH，然后随着 2019 年君士坦丁堡升级再次降至 2 ETH。

由于去中心化系统缺乏中央权威，因此挖矿过程对网络的安全性和有效性至关重要。因此，挖矿奖励作为参与交易验证过程的激励。

## 谁能成为矿工？

从技术上讲，任何人都可以通过运行以太坊节点软件成为以太坊上的矿工。然而，并不是每个人都能从以太坊中获利。

在大多数情况下，矿工购买专门的硬件来开采有利可图。普通计算机不太可能获得足够的采矿奖励来支付采矿相关的电气和硬件成本。

### 采矿成本

- 构建和维护硬件所需的硬件成本
- 为采矿设备供电的电力成本
- 支持采矿设备的潜在设备成本（冷却器、通风机、能量监视器、电线、太阳能农场等）

要探索采矿盈利能力，您可以使用这样的[计算器](https://etherscan.io/ether-mining-calculator)

## 以太坊交易是如何开采的？

1.用户从他们的账户签署交易请求
2.交易通过节点广播到以太坊网络
3.在听到新交易后，网络中的每个节点都会将交易添加到它们的本地 mempool（内存池）中。内存池是节点已经听说但尚未包含在区块中的交易列表。
4.在某些时候，矿工将大量交易分组到一个潜在的区块中，以最大限度地提高他们赚取的交易费用，同时保持在区块气体限制之下。然后，
  - 矿工验证每笔交易的有效性。这包括检查没有人试图转移他们不拥有的以太，或者签名无效，或者请求格式不正确等。
  - 然后矿工在他们的以太坊虚拟机（EVM）的本地副本上执行交易。它将每个此类请求的交易费用奖励给他们自己的账户。
  - 在区块中的所有交易都经过验证并在其本地 EVM 上执行之后，矿工开始为整个区块创建工作证明合法性证明。
5.最终，矿工完成为区块生成合法性证书，其中包括用户的交易。然后矿工将完成的区块广播给全世界，其中包括证书和区块链的新状态信息。
6.其他节点听到有关新块的消息。他们验证证书（这很容易做到），在他们的 EVM 本地副本上执行区块中的所有交易，并验证他们的 EVM 状态是否与矿工提议的状态相匹配。
7.一旦其他节点验证了矿工提出的所有建议，他们就会将此块添加到他们的区块链节点，并接受新的 EVM 状态作为“区块链的当前状态”。
8.每个节点都会从其本地内存池中删除块中包含的交易。
9.这个过程重复。

## 不同的采矿方法

在该技术的早期，当成为一名矿工非常容易时，大多数矿工使用在台式机和笔记本电脑上运行的基于 CPU 的挖矿。然而，在当今时代，CPU 挖矿非常缓慢且不切实际，因为即使是少量的挖矿奖励也可能需要几个月的时间，同时不断以 100% 的容量运行 CPU 并支付高昂的电力成本。

基于 GPU 的挖掘是当今最常见的方法。这种方法可以通过将多个 GPU 放在一个采矿设备下，使它们全部并行工作，从而提高一个设备的整体容量和吞吐量，从而最大限度地提高计算能力。

专用集成电路（ASIC）挖矿也很受欢迎。这些是专门为挖掘以太坊而设计的硬件芯片。您可以在线为最流行的区块链网络购买 ASIC。然而，它们很昂贵，而且随着越来越多的矿工加入网络并且挖矿变得更加困难，硬件很快就会过时。一个全新的 ASIC 通常最多只能使用 1-2 年。

目前正在增长的另一个选择是云挖矿，它允许个人矿工利用专用挖矿设施的力量，而无需拥有任何硬件。

## 矿池

大多数个体矿工没有足够的资源来建立拥有数千个 GPU 和 ASIC 的大型采矿设施。矿池允许矿工组合他们的计算资源，以增加他们挖掘区块的机会。如果矿池中的任何人成功开采了一个区块，则奖励将根据他们为矿池贡献的计算能力按比例分配给矿池中的每个人。

## 资源

以下是额外推荐的但可选的阅读和查看，以了解有关采矿的更多信息：

- [挖以太坊意味着什么？](https://docs.ethhub.io/using-ethereum/mining/)
- [顶级以太坊矿工](https://etherscan.io/stat/miner?range=7&blocktype=blocks)
- [Etherscan 挖矿计算器](https://etherscan.io/ether-mining-calculator)

![](https://hicoldcat.oss-cn-hangzhou.aliyuncs.com/img/my.png)

