---
title: Web3ç³»åˆ—æ•™ç¨‹ä¹‹å…¥é—¨ç¯‡---1ï¼šäº†è§£React (Next.js)
description: null
author: æç•™ç™½
weight: 0
date: 2022-07-03T09:23:00.012Z
lastmod: 2022-07-10T06:35:48.476Z
tags: []
categories:
  - åŒºå—é“¾
  - WEB3.0
featuredImage: https://hicoldcat.oss-cn-hangzhou.aliyuncs.com/img/20220703215340.png
---

> ä¼ é€é—¨: [WEB3ç³»åˆ—æ•™ç¨‹ä¹‹æ–°æ‰‹ç¯‡](https://hicoldcat.com/posts/web3/freshman-track-sumary/)

åœ¨æ–°æ‰‹è¯¾ç¨‹ä¸­ï¼Œæˆ‘ä»¬å»ºç«‹äº†ä¸€ä¸ªéå¸¸ç®€å•çš„dAppï¼Œä½¿ç”¨HTMLã€CSSå’Œä¸€äº›JavaScriptã€‚ç„¶è€Œï¼Œåœ¨ç°å®ä¸–ç•Œä¸­ï¼Œè¿™äº›ç±»å‹çš„"vanilla"ç½‘ç«™å®ç°å·²ç»æ˜¯è¿‡å»å¼äº†ã€‚

ä»Šå¤©ï¼Œæˆ‘ä»¬ä½¿ç”¨webæ¡†æ¶æ¥ç®€åŒ–webå¼€å‘è¿‡ç¨‹ã€‚ä½†å®ƒæ›´ç®€å•å—ï¼Ÿå–å†³äºä½ ä»è°çš„è§’åº¦çœ‹é—®é¢˜ã€‚å¦‚æœä½ åˆšåˆšå¼€å§‹ï¼Œä»¥å‰ä»æœªåšè¿‡è¿™ä»¶äº‹ï¼Œé‚£ä¹ˆä½ å¯èƒ½éœ€è¦ä¸€æ®µæ—¶é—´æ‰èƒ½ç†è§£æ‰€æœ‰å¿…è¦çš„æ¦‚å¿µã€‚ä½†æ˜¯ï¼Œä»é•¿è¿œæ¥çœ‹ï¼Œä½ ä¼šæ„Ÿè°¢è‡ªå·±ï¼Œå¹¶ä¸ºè‡ªå·±èŠ±æ—¶é—´å­¦ä¹ è€Œæ„Ÿåˆ°é«˜å…´ã€‚

ç°åœ¨æœ€å¤§å’Œæœ€å¸¸ç”¨çš„ç½‘ç»œæ¡†æ¶æ˜¯ï¼š

- [React](https://reactjs.org/)
- [Angular](https://angular.io/)
- [Vue](https://vuejs.org/)

è™½ç„¶å®ƒä»¬å„æœ‰ä¼˜ç¼ºç‚¹ï¼Œä½†åˆ°ç›®å‰ä¸ºæ­¢ï¼ŒReactå·²ç»åœ¨Webå¼€å‘é¢†åŸŸæ€èµ·äº†é£æš´ã€‚åœ¨Web3é¢†åŸŸä¹Ÿæ˜¯å¦‚æ­¤ï¼ŒReactæ˜¯æ„å»ºdAppsæœ€å¸¸ç”¨çš„ç½‘ç»œæ¡†æ¶ã€‚åœ¨æ•´ä¸ªæ–°æ‰‹è¯¾ç¨‹ä¸­ï¼Œä»¥åŠæ‰€æœ‰ä»¥åçš„è¯¾ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨å¤§é‡çš„Reactï¼Œæ‰€ä»¥å¯ä»¥æŠŠè¿™ä¸ªçº§åˆ«çœ‹ä½œæ˜¯Reactçš„é€Ÿæˆè¯¾ç¨‹ï¼Œå®ƒå°†æ•™ä¼šä½ è¶³å¤Ÿçš„ä¸œè¥¿æ¥å¼€å§‹ã€‚è¿™å¹¶ä¸æ˜¯è¦å–ä»£åœ¨ä¸“æ³¨äºWeb2æ•™å­¦çš„å¹³å°ä¸Šå­¦ä¹ Reactï¼Œè€Œæ˜¯ä½œä¸ºä¸€ä¸ªæŒ‡å—ï¼Œè®©ä½ äº†è§£æœ‰å¤šå°‘ä¸œè¥¿æ˜¯å¿…é¡»å¼€å§‹å­¦ä¹ çš„ï¼Œè¿™æ ·ä½ å°±ä¸ä¼šé™·å…¥æ•™ç¨‹çš„åœ°ç‹±ã€‚ğŸ˜…

> å®é™…ä¸Šï¼Œæˆ‘ä»¬å°†ä½¿ç”¨Next.js--å®ƒæ˜¯Reactæœ¬èº«çš„ä¸€ä¸ªæ‰©å±•--ä½†åé¢ä¼šæœ‰æ›´å¤šçš„å†…å®¹ã€‚è®©æˆ‘ä»¬å…ˆå­¦ä¹ ä¸€äº›Reactã€‚

## ä»€ä¹ˆæ˜¯React?

Reactæ˜¯ä¸€ä¸ªç½‘ç»œæ¡†æ¶ï¼Œå®ƒä½¿å¾—æ„å»ºå’Œå“åº”ä½ çš„ç½‘ç»œåº”ç”¨çš„ "è§†å›¾ "å˜å¾—å®¹æ˜“ã€‚è§†å›¾ "æ˜¯åœ¨å±å¹•ä¸Šæ˜¾ç¤ºçš„å†…å®¹ï¼Œå®ƒå¦‚ä½•å˜åŒ–ï¼Œå¦‚ä½•æ›´æ–°ï¼Œç­‰ç­‰ã€‚Reactæœ¬è´¨ä¸Šåªæ˜¯ç»™ä½ ä¸€ä¸ªæ¨¡æ¿è¯­è¨€ï¼Œä½ å¯ä»¥åˆ›å»ºè¿”å›HTMLçš„Javascriptå‡½æ•°ã€‚

æ­£å¸¸çš„Javascriptå‡½æ•°ä¼šè¿”å›Javascriptç›¸å…³çš„ä¸œè¥¿--å­—ç¬¦ä¸²ã€æ•°å­—ã€å¸ƒå°”å€¼ã€å¯¹è±¡ç­‰ç­‰ã€‚ReactåŸºæœ¬ä¸Šç»“åˆäº†Javascriptå’ŒHTMLï¼Œäº§ç”Ÿäº†ä¸€ç§ä»–ä»¬ç§°ä¹‹ä¸ºJSXçš„è¯­è¨€ã€‚åœ¨JSXä¸­ï¼Œç±»ä¼¼Javascriptçš„å‡½æ•°è¿”å›HTMLï¼Œè€Œä¸æ˜¯å¸¸è§„çš„Javascriptäº‹ç‰©ã€‚åŸºæœ¬ä¸Šå°±æ˜¯è¿™æ ·äº†ã€‚

è¿”å›HTMLçš„Javascriptå‡½æ•°çš„ç»„åˆè¢«ç§°ä¸ºç»„ä»¶ã€‚ç»„ä»¶æ˜¯ç”¨JSXç¼–å†™çš„ã€‚è™½ç„¶ä¸€å¼€å§‹çœ‹èµ·æ¥å¾ˆç¬¨æ‹™ï¼Œä½†ä¸€æ—¦ä½ ä¹ æƒ¯äº†ï¼Œå®ƒä»¬å®é™…ä¸Šæ˜¯å¾ˆå®¹æ˜“æ“ä½œçš„ã€‚

ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•ç»„ä»¶çš„ä¾‹å­ã€‚

```jsx
function ShoppingList() {
    return (
      <div className="shopping-list">
        <h1>Shopping List</h1>
        <ul>
          <li>Apples</li>
          <li>Bananas</li>
          <li>Grapes</li>
        </ul>
      </div>
    );
}
```

[è¿è¡Œä»£ç ](https://codesandbox.io/s/icy-water-xrm2ch?file=/src/App.js)

å¾ˆå¥½ï¼Œä½†è¿™ä¸HTMLæ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ã€‚ä½†æ˜¯ï¼Œå¦‚æœä½ æƒ³æ ¹æ®ä¸€ä¸ªæ•°ç»„æ¥å‘ˆç°ä¸€ä¸ªé¡¹ç›®çš„åˆ—è¡¨å‘¢ï¼Ÿ

```jsx
function ShoppingList() {
    const items = ["Apples", "Bananas", "Grapes"]
    
    return (
      <div className="shopping-list">
        <h1>Shopping List</h1>
        <ul>
            {items.map((item, index) => <li key={index}>{item}</li>)}
        </ul>
      </div>
    );
}
```

[è¿è¡Œä»£ç ](https://codesandbox.io/s/confident-tesla-5l3k1t?file=/src/App.js)

å“‡ï¼Œçœ‹çœ‹è¿™ä¸ª! æˆ‘ä»¬åˆšåˆšåœ¨HTMLä¸­ä½¿ç”¨äº†Javascriptã€‚åœ¨JSXä¸­ï¼Œä½ å¯ä»¥é€šè¿‡ç”¨å¤§æ‹¬å·`{`å’Œ`}`åŒ…è£¹JSä»£ç åœ¨HTMLä¸­ç¼–å†™Javascriptã€‚å®é™…ä¸Šï¼Œå¦‚æœä½ å¤šæƒ³ä¸€ä¸‹ï¼Œä½ å°±ä¼šæ˜ç™½å‘ç”Ÿäº†ä»€ä¹ˆã€‚`.map()`æ˜¯ä¸€ä¸ªJavascriptå‡½æ•°ï¼Œå®ƒåœ¨ä¸€ä¸ªæ•°ç»„ä¸Šå¾ªç¯ï¼Œå¹¶ä¸ºæ¯ä¸ªé¡¹ç›®è¿”å›ä¸€äº›ä¸œè¥¿ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®ƒåœ¨ `items `æ•°ç»„ä¸Šå¾ªç¯ï¼Œå¹¶è¿”å›ä¸€ä¸ª `li `å…ƒç´ ï¼Œå…¶ä¸­æœ‰ Javascript å˜é‡ `item` çš„å€¼ï¼Œä¹Ÿå°±æ˜¯ HTMLã€‚æ˜ç™½äº†å—ï¼ŸğŸ¤”

åœ¨æˆ‘ä»¬çš„ç»„ä»¶ä¸­ï¼Œæˆ‘ä»¬åŸºæœ¬ä¸ŠåµŒå…¥äº†å¦ä¸€ä¸ªç»„ä»¶ã€‚mapå‡½æ•°æ˜¯ä¸€ä¸ªè¿”å›HTMLçš„JSå‡½æ•°ã€‚å®ƒæ˜¯ä¸€ä¸ªç»„ä»¶ã€‚å°½ç®¡å®ƒæ²¡æœ‰è¢«æ˜ç¡®å®šä¹‰ä¸ºé¡¶çº§å‡½æ•°ï¼Œå®ƒä»ç„¶æ˜¯ä¸€ä¸ªç»„ä»¶ã€‚

å°†ç»„ä»¶åµŒå…¥åˆ°å…¶ä»–ç»„ä»¶ä¸­æ˜¯ React çš„å¼ºå¤§åŠŸèƒ½ã€‚è¿™ç§°ä¸ºç»„åˆã€‚æˆ‘ä»¬å°†å¤šä¸ªè¿”å› HTML çš„ Javascript å‡½æ•°ç»„åˆåœ¨ä¸€èµ·ï¼Œå¹¶ä»ä¸­æ„å»ºä¸€ä¸ªç»„åˆçš„ HTML æ–‡æ¡£ï¼Œè¯¥æ–‡æ¡£å°†æ˜¾ç¤ºåœ¨ Web åº”ç”¨ç¨‹åºä¸Šã€‚

## ç»„ä»¶ä¹‹é—´çš„æ•°æ®ä¼ é€’

å¦‚æœç»„ä»¶åªæ˜¯é™æ€çš„ï¼Œå®ƒä»¬å°±ä¸æ˜¯å¾ˆæœ‰ç”¨ã€‚å½“ç„¶ï¼Œéå†æ•°ç»„å’Œå…¶ä»–ä¸œè¥¿éƒ½å¾ˆå¥½ï¼Œä½†å½“ä»Šå¤§å¤šæ•° Web åº”ç”¨ç¨‹åºéƒ½ä¸æ˜¯é™æ€æ–‡æ¡£ã€‚ä»Šå¤©çš„å¤§å¤šæ•° Web åº”ç”¨ç¨‹åºéƒ½ä¼šä»â€‹â€‹æŸç§æœåŠ¡å™¨ã€æ•°æ®åº“æˆ–åŒºå—é“¾ä¸­åŠ¨æ€è·å–æ•°æ®ã€‚è¿™æ„å‘³ç€ç»å¸¸éœ€è¦ç›¸åŒçš„ç»„ä»¶æ¥æ˜¾ç¤ºä¸åŒçš„æ•°æ®ã€‚

æ‹¥æœ‰ç»„ä»¶çš„ä¸»è¦ç”¨ä¾‹æ˜¯èƒ½å¤Ÿç¼–å†™å¯é‡ç”¨çš„ä»£ç ï¼Œå¹¶ä¸”å¯ä»¥åœ¨å…¶ä¸­åŒ…å«ä¸åŒçš„ä¿¡æ¯ï¼Œè€Œæ— éœ€å†æ¬¡é‡å†™æ•´ä¸ªä»£ç ã€‚

è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªä¾‹å­ã€‚è¿™ä¸¤ä¸ªä»£ç å“ªä¸ªæ›´æ˜“è¯»ï¼Ÿ

```jsx
<div class="cards">
    <div class="card">
      <img src="img_avatar.png" alt="Avatar">
      <div class="container">
        <h4><b>Alice</b></h4>
        <p>Frontend Developer</p>
      </div>
    </div> 

    <div class="card">
      <img src="img_avatar.png" alt="Avatar">
      <div class="container">
        <h4><b>Bob</b></h4>
        <p>Backend Developer</p>
      </div>
    </div> 

    <div class="card">
      <img src="img_avatar.png" alt="Avatar">
      <div class="container">
        <h4><b>Charlie</b></h4>
        <p>Full Stack Developer</p>
      </div>
    </div>
</div>
```

```jsx
function Cards() {
    return (
        <div className="cards">
            <!--Data is passed to children through HTML attributes-->
            <Card name="Alice" job="Frontend Developer" />
            <Card name="Bob" job="Backend Developer" />
            <Card name="Charlie" job="Full Stack Developer" />
        </div>
    )
}

// Card receives an object as an argument
// We can destructure the object to get specific variables
// from inside the object - name and job
function Card({name, job}) {
    return (
        <div className="card">
            <img src="img_avatar.png" />
            <div className="container">
                <h4><b>{name}</b></h4>
                <p>{job}</p>
            </div>
        </div>
    )
}
```

[è¿è¡Œä»£ç ](https://codesandbox.io/s/zealous-carson-44om2s?file=/src/App.js)

çº¯ HTML ç¤ºä¾‹é‡å¤ä½¿ç”¨ç›¸åŒçš„ä»£ç  3 æ¬¡ï¼Œå°½ç®¡çœŸæ­£æ”¹å˜çš„åªæ˜¯äººåå’Œä»–ä»¬çš„èŒä½ã€‚

åœ¨ JSX ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ¯ä¸ªç»„ä»¶æŠ½è±¡`Card`ä¸ºä¸€ä¸ªç»„ä»¶ï¼Œè¯¥ç»„ä»¶ä»å…¶çˆ¶ç»„ä»¶ï¼ˆåœ¨æœ¬ä¾‹ä¸­ä¸º ï¼‰è·å–æŸäº›æ•°æ®`Cards`ã€‚çˆ¶ç»„ä»¶é€šè¿‡ç±»ä¼¼ HTML çš„å±æ€§`name="Alice"`ï¼ˆç„¶åï¼Œ`Card`ç»„ä»¶å¯ä»¥æ ¹æ®ä»çˆ¶çº§æ¥æ”¶åˆ°çš„å†…å®¹è¿”å›å¸¦æœ‰å¯å˜æ•°æ®çš„ HTMLã€‚

è¿™æ®µä»£ç æ›´å®¹æ˜“é‡ç”¨å’Œæ‰©å±•ã€‚æƒ³è¦ç¨å¾®æ”¹å˜æ‰€æœ‰å¡ç‰‡çš„å¤–è§‚å—ï¼Ÿåªéœ€ä¿®æ”¹ä¸€ä¸ªç»„ä»¶ï¼å¹¶éæ‰€æœ‰å¤åˆ¶ç²˜è´´çš„ HTMLã€‚

## äº¤äº’å¼ç»„ä»¶

å¥½çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬ç°åœ¨å¯ä»¥åœ¨ç»„ä»¶ä¹‹é—´ä¼ é€’æ•°æ®ã€‚è¿™ä¸€åˆ‡éƒ½å¾ˆå¥½ï¼Œä½†æˆ‘ä»¬è¿˜æ²¡æœ‰æ·»åŠ äº¤äº’æ€§ã€‚è¯¸å¦‚åœ¨å•å‡»æŒ‰é’®æˆ–åœ¨è¾“å…¥æ¡†ä¸­é”®å…¥æ–‡æœ¬æ—¶èƒ½å¤Ÿè¿è¡Œä¸€äº›ä»£ç ç­‰ã€‚

å€¼å¾—åº†å¹¸çš„æ˜¯ï¼Œåœ¨ Javascript ä¸­ï¼Œå‡½æ•°å¯ä»¥åœ¨å…¶ä¸­åŒ…å«å‡½æ•°ã€‚ä¾‹å¦‚ï¼Œ

```jsx
function someFunc() {
    
    function otherFunc() {
        console.log("Hello!")
    }
    
    otherFunc();
}

someFunc(); // will print "Hello!"

otherFunc(); // will throw an error! undefined here
```

`otherFunc`åªèƒ½åœ¨`someFunc`è‡ªèº«å†…éƒ¨ä½¿ç”¨ã€‚è¿™æ˜¯å¸¸è§„ Javascript ä¸­å¾ˆå°‘ä½¿ç”¨çš„åŠŸèƒ½ï¼Œä½†åœ¨ä½¿ç”¨ React æ—¶ä½¿ç”¨éå¸¸é¢‘ç¹ã€‚è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªä¾‹å­æ¥çœ‹çœ‹ä¸ºä»€ä¹ˆã€‚

```jsx
function Button() {
    
    function handleClick() {
        console.log("Hello")
    }
    
    return (
        <button 
            className="button" 
            onClick={handleClick}>
            Click Me!
        </button>
    )
    
}
```

[è¿è¡Œä»£ç ](https://codesandbox.io/s/quizzical-sammet-59fi5i?file=/src/App.js)

æˆ‘ä»¬æœ‰ä¸€ä¸ªåä¸º`Button`. åœ¨è¿™ä¸ªå‡½æ•°ä¸­ï¼Œæˆ‘ä»¬æœ‰å¦ä¸€ä¸ªå‡½æ•°å«åš`handleClick`ã€‚åœ¨ HTML`<button>`æ ‡è®°ä¸­ï¼Œæˆ‘ä»¬æŒ‡å®š`onClick={handleClick}`å½“å•å‡»æŒ‰é’®æ—¶`handleClick`è°ƒç”¨è¯¥å‡½æ•°ã€‚æ­¤åŠŸèƒ½ä»…åœ¨`Button`ç»„ä»¶å†…éƒ¨å¯ç”¨ã€‚å•å‡» Web åº”ç”¨ç¨‹åºä¸Šçš„æŒ‰é’®å°†`Hello`åœ¨æµè§ˆå™¨æ§åˆ¶å°ä¸­æ‰“å°ã€‚è¿™å°±æ˜¯æˆ‘ä»¬ä½¿ç”¨ React æ„å»ºäº¤äº’å¼ç½‘ç«™çš„æ–¹å¼ï¼

è¿™ä¸ªä¾‹å­ä»ç„¶ç›¸å½“ç®€å•ï¼Œå› ä¸º`handleClick`æ²¡æœ‰å‚æ•°ã€‚å¦‚æœæˆ‘ä»¬æƒ³åœ¨ç”¨æˆ·è¾“å…¥è¾“å…¥æ¡†æ—¶åœ¨æ§åˆ¶å°ä¸­æ‰“å°æ–‡æœ¬æ€ä¹ˆåŠï¼Ÿæˆ‘ä»¬å¦‚ä½•å°†æ–‡æœ¬ä¼ é€’ç»™å‡½æ•°ï¼Ÿ

å°±æ˜¯è¿™æ ·ã€‚

```jsx
function PrintTypedText() {
    
    function handleOnChange(text) {
        console.log(text);
    }
    
    return (
        <input 
            type="text" 
            onChange={(e) => handleOnChange(e.target.value)}
        />
    )
}
```

[è¿è¡Œä»£ç ](https://codesandbox.io/s/mutable-feather-el4sbe?file=/src/App.js)

HTML`input`å…ƒç´ æä¾›äº†ä¸€ä¸ªæ–¹ä¾¿çš„äº‹ä»¶ä¾¦å¬å™¨ -`onChange`æ¯æ¬¡è¾“å…¥æ¡†ä¸­çš„æ–‡æœ¬å‘ç”Ÿæ›´æ”¹ï¼ˆé”®å…¥æ–°å­—ç¬¦ã€åˆ é™¤å­—ç¬¦ç­‰ï¼‰æ—¶éƒ½ä¼šè§¦å‘è¯¥äº‹ä»¶ä¾¦å¬å™¨ã€‚

ä½†æ˜¯ï¼Œé™¤äº†è§¦å‘ä¸€ä¸ªå‡½æ•°ä¹‹å¤–ï¼Œå®ƒè¿˜ä¼ é€’äº†æ›´æ”¹çš„ HTML å…ƒç´ ï¼ˆåœ¨`e`æ­¤å¤„å¼•ç”¨ï¼‰ã€‚ç„¶åæˆ‘ä»¬å¯ä»¥è·å– HTML å…ƒç´ `e`å¹¶ä½¿ç”¨æå–æ–‡æœ¬`e.target.value`å¹¶å°†å…¶ä½œä¸ºå‚æ•°ä¼ é€’ç»™è¯¥å‚æ•°ï¼Œè¯¥å‚æ•°`handleOnChange`ä¼šå°†æ–‡æœ¬è®°å½•åˆ°æµè§ˆå™¨æ§åˆ¶å°ã€‚

ä¸åŒçš„ HTML å…ƒç´ æœ‰ä¸åŒçš„äº‹ä»¶å¤„ç†ç¨‹åº -è¿™æ˜¯ä¸¤ä¸ªç¤ºä¾‹`onChange`ï¼Œ`onClick`ä½†è¿˜æœ‰æ›´å¤šï¼[æ‚¨å¯ä»¥åœ¨æ­¤å¤„](https://www.w3schools.com/jsref/dom_obj_event.asp)æ‰¾åˆ°æ‰€æœ‰ HTML äº‹ä»¶çš„åˆ—è¡¨ã€‚

é€šè¿‡å°† HTML äº‹ä»¶ä¸å‡½æ•°å¤„ç†ç¨‹åºç›¸ç»“åˆï¼Œæˆ‘ä»¬å¯ä»¥åšå„ç§å¾ˆé…·çš„äº‹æƒ…ï¼ä»æœåŠ¡å™¨åŠ è½½æ•°æ®ã€å‘æœåŠ¡å™¨å‘é€æ•°æ®ã€æ›´æ–°æˆ‘ä»¬çš„è§†å›¾ç­‰ã€‚

## React Hooks - useState å’Œ useEffect

å¥½çš„ï¼Œæˆ‘ä»¬å·²ç»è®¨è®ºäº†ç»„åˆã€æ•°æ®ä¼ é€’å’Œäº¤äº’æ€§ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºä»ç„¶å¾ˆæ„šè ¢ã€‚äº¤äº’æ€§å°†å…è®¸æ‚¨åœ¨å•å‡»æŒ‰é’®ç­‰æ—¶è¿è¡Œä¸€äº›ä»£ç ï¼Œä½†æ˜¯å¦‚æœæ‚¨æƒ³æ›´æ–°ä¸€äº›å˜é‡æ€ä¹ˆåŠï¼Ÿ

ä¸å¹¸çš„æ˜¯ï¼Œä»¥ä¸‹ä¸èµ·ä½œç”¨

```jsx
function DoesNotWork() {
    let myNumber = 0;
    
    function increment() {
        myNumber++;
    }
    
    return (
        <div>
            <p>{myNumber}</p>
            <button onClick={increment}>Increment!</button>
        </div>
    )
}
```

[è¿è¡Œä»£ç ](https://codesandbox.io/s/romantic-euclid-44hh8x)

æ— è®ºç‚¹å‡»å¤šå°‘æ¬¡`Increment`ï¼Œå±å¹•ä¸Šæ˜¾ç¤ºçš„æ•°å­—éƒ½ä¼šå¡åœ¨`0`ã€‚è¿™æ˜¯å› ä¸ºå½“æ‚¨åƒ`myNumber`ä» React ç»„ä»¶ä¸­æ›´æ–°å¸¸è§„å˜é‡æ—¶ï¼Œå³ä½¿å€¼å·²æ›´æ–°ï¼ŒReact å®é™…ä¸Šä¹Ÿä¸ä¼šé‡æ–°æ¸²æŸ“ Web åº”ç”¨ç¨‹åºçš„è§†å›¾ã€‚å®ƒä¸ä¼šè‡ªåŠ¨æ›´æ–°é¡µé¢çš„ HTML è§†å›¾ã€‚

React Hooks æ˜¯â€œæŒ‚é’©â€åˆ° React ç»„ä»¶çš„ä¸åŒéƒ¨åˆ†çš„å‡½æ•°ï¼Œå…è®¸æ‚¨æ‰§è¡Œè¯¸å¦‚åœ¨å˜é‡å€¼æ›´æ”¹æ—¶æ›´æ–°è§†å›¾ï¼Œæˆ–åœ¨æ¯æ¬¡åŠ è½½é¡µé¢æˆ–æ›´æ”¹å˜é‡æ—¶è‡ªåŠ¨è¿è¡Œä¸€äº› JS ä»£ç ç­‰æ“ä½œï¼Œä»¥åŠè®¸å¤šæ›´é…·çš„ä¸œè¥¿ï¼æˆ‘ä»¬å°†ä¸»è¦å…³æ³¨ 95% çš„æ—¶é—´ä½¿ç”¨çš„ä¸‰ä¸ª React é’©å­ - `useState`ã€`useEffect`å’Œ`useRef`ã€‚

## useState

å¾ˆå¤šæ—¶å€™ï¼Œæ‚¨å¸Œæœ› HTML è§†å›¾æ ¹æ®æŸäº›å˜é‡çš„å€¼å˜åŒ–è¿›è¡Œæ›´æ–°ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¯¥`useState`é’©å­æ¥ç»´æŠ¤ä¸€ä¸ªå˜é‡ï¼Œè¯¥å˜é‡ä¼šåœ¨æ¯æ¬¡æ›´æ”¹å…¶å€¼æ—¶è‡ªåŠ¨é‡æ–°æ¸²æŸ“å±å¹•ä¸Šæ˜¾ç¤ºçš„ HTMLã€‚è¿™æ˜¯ä¸€ä¸ªä¾‹å­ï¼š

```jsx
function ThisWorks() {
    // myNumber is the variable itself
    // setMyNumber is a function that lets us update the value
    // useState(0) initializes the React Hook 
    // with the starting value of 0
    const [myNumber, setMyNumber] = useState(0);
    
    function increment() {
        // Sets the new value to the old value + 1
        setMyNumber(myNumber + 1);
    }
    
    return (
        <div>
            <p>{myNumber}</p>
            <button onClick={increment}>Increment!</button>
        </div>
    )
}
```

[è¿è¡Œä»£ç ](https://codesandbox.io/s/intelligent-hoover-31bwmg)

å¦‚æœæ‚¨å°è¯•è¿è¡Œä¸Šè¿°ä»£ç ï¼Œæ‚¨å°†çœ‹åˆ° Web åº”ç”¨ç¨‹åºçš„è§†å›¾è‡ªåŠ¨æ›´æ–°ä»¥åæ˜ å˜é‡çš„æ–°å€¼ã€‚

`useState`åœ¨ React ä¸­ä½¿ç”¨åˆ›å»ºçš„å˜é‡ç§°ä¸ºçŠ¶æ€å˜é‡ã€‚çŠ¶æ€å˜é‡å¯ä»¥æ›´æ–°å¹¶è‡ªåŠ¨æ›´æ–°åº”ç”¨ç¨‹åºçš„è§†å›¾ã€‚è¿™æ˜¯å¦ä¸€ä¸ªåœ¨è¾“å…¥æ¡†ä¸­ä½¿ç”¨çŠ¶æ€å˜é‡çš„ç¤ºä¾‹ã€‚

```jsx
function StateWithInput() {
    // myName is the variable
    // setMyName is the updater function
    // Create a state variable with initial value
    // being an empty string ""
    const [myName, setMyName] = useState("");
    
    function handleOnChange(text) {
        setMyName(text);
    }
    
    return (
        <div>
            <input type="text" onChange={(e) => handleOnChange(e.target.value)} />
            <p>Hello, {myName}!</p>
        </div>
    )
}
```

[è¿è¡Œä»£ç ](https://codesandbox.io/s/young-microservice-c1e5be?file=/src/App.js)

æˆ‘ä»¬çœ‹åˆ° HTML ä¸Šæ˜¾ç¤ºçš„æ–‡æœ¬éšç€è¾“å…¥æ¡†å†…å®¹çš„å˜åŒ–è€Œå˜åŒ–ã€‚ä¼Ÿå¤§çš„ï¼

å…³äº useStateï¼Œæˆ‘æƒ³è¯´çš„æœ€åä¸€ä»¶äº‹æ˜¯ï¼Œæ‚¨è¿˜å¯ä»¥å°†å®ƒç”¨äºå­—ç¬¦ä¸²å’Œæ•°å­—ç­‰åŸºæœ¬ç±»å‹ã€‚æ‚¨è¿˜å¯ä»¥ä½¿ç”¨å®ƒä»¬æ¥å­˜å‚¨æ•°ç»„å’Œå¯¹è±¡ã€‚ä½†æ˜¯ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªè­¦å‘Šã€‚è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªä¾‹å­ï¼š

```jsx
function StateArrayDoesNotWork() {
  const [fruits, setFruits] = useState([]);
  const [currentFruit, setCurrentFruit] = useState("");

  function updateCurrentFruit(text) {
    setCurrentFruit(text);
  }

  function addFruitToArray() {
    fruits.push(currentFruit);
  }

  return (
    <div>
      <input type="text" onChange={(e) => updateCurrentFruit(e.target.value)} />
      <button onClick={addFruitToArray}>Add Fruit</button>

      <ul>
        {fruits.map((fruit, index) => (
          <li key={index}>{fruit}</li>
        ))}
      </ul>
    </div>
  );
}
```

[è¿è¡Œä»£ç ](https://codesandbox.io/s/kind-jasper-vbs0f9?file=/src/App.js)

å¦‚æœæ‚¨å°è¯•è¿è¡Œå®ƒï¼Œæ‚¨å°†çœ‹åˆ°å±å¹•ä¸Šæ²¡æœ‰æ˜¾ç¤ºä»»ä½•æ°´æœã€‚å¦è¯·æ³¨æ„ï¼Œæˆ‘ä»¬æ²¡æœ‰åœ¨`setFruits`ä»»ä½•åœ°æ–¹ä½¿ç”¨è¯¥å‡½æ•°ï¼Œè€Œåªæ˜¯å°è¯•`.push`ä½¿ç”¨`fruits`æ•°ç»„ã€‚

å½“æˆ‘ä»¬å°è¯•ç›´æ¥æ›´æ–°æ•°ç»„æ—¶ï¼ŒReact ä¸ä¼šæ³¨å†ŒçŠ¶æ€æ›´æ”¹ï¼Œè¿™ä¹Ÿè¢«è®¤ä¸ºæ˜¯æ— æ•ˆçš„çŠ¶æ€æ›´æ–°ï¼Œå¯èƒ½å¯¼è‡´åº”ç”¨ç¨‹åºå‡ºç°æ„å¤–è¡Œä¸ºã€‚æˆ‘ä»¬çŸ¥é“æˆ‘ä»¬éœ€è¦ä»¥æŸç§æ–¹å¼ä½¿ç”¨`setFruits`ï¼Œä½†æ˜¯å¦‚ä½•ä½¿ç”¨å‘¢ï¼Ÿç­”æ¡ˆæ˜¯æˆ‘ä»¬å®é™…ä¸Šéœ€è¦åˆ›å»ºæ°´æœæ•°ç»„çš„å‰¯æœ¬ï¼Œå°†æ°´æœæ·»åŠ åˆ°å…¶ä¸­ï¼Œå¹¶å°†çŠ¶æ€å˜é‡å®Œå…¨è®¾ç½®ä¸ºæ–°æ•°ç»„ã€‚ä¸‹é¢çš„ä¾‹å­ï¼š

```jsx
function StateArray() {
  const [fruits, setFruits] = useState([]);
  const [currentFruit, setCurrentFruit] = useState("");

  function updateCurrentFruit(text) {
    setCurrentFruit(text);
  }

  function addFruitToArray() {
      // The spread operator `...fruits` adds all elements
      // from the `fruits` array to the `newFruits` array
      // and then we add the `currentFruit` to the array as well
      const newFruits = [...fruits, currentFruit]
      setFruits(newFruits);
  }

  return (
    <div>
      <input type="text" onChange={(e) => updateCurrentFruit(e.target.value)} />
      <button onClick={addFruitToArray}>Add Fruit</button>

      <ul>
        {fruits.map((fruit, index) => (
          <li key={index}>{fruit}</li>
        ))}
      </ul>
    </div>
  );
}
```

[è¿è¡Œæ•ˆæœ](https://codesandbox.io/s/suspicious-monad-gpes3r?file=/src/App.js)

å¦‚æœæ‚¨å°è¯•è¿è¡Œä¸Šè¿°ä»£ç ï¼Œæ‚¨å°†çœ‹åˆ°å®ƒæŒ‰é¢„æœŸå·¥ä½œã€‚æ¯æ¬¡æŒ‰ä¸‹æŒ‰é’®æ—¶ï¼Œè¾“å…¥æ¡†ä¸­çš„å½“å‰æ–‡æœ¬éƒ½ä¼šæ·»åŠ åˆ°æ•°ç»„ä¸­ï¼Œè¿™ä¼šå¯¼è‡´ HTML ä¸Šæ˜¾ç¤ºçš„æ°´æœåˆ—è¡¨æ›´æ–°ã€‚æ‚¨å¯ä»¥ç»§ç»­æ·»åŠ ä»»æ„æ•°é‡çš„æ°´æœï¼

> å¯¹è±¡ä¹Ÿæ˜¯å¦‚æ­¤ã€‚å¦‚æœæ‚¨çš„çŠ¶æ€å˜é‡åŒ…å«ä¸€ä¸ªå¯¹è±¡ï¼Œæ‚¨éœ€è¦å…ˆåˆ›å»ºè¯¥å¯¹è±¡çš„å‰¯æœ¬ï¼Œæ›´æ–°ä¸€ä¸ªå€¼ï¼Œç„¶åå°†çŠ¶æ€å˜é‡å®Œå…¨è®¾ç½®ä¸ºæ–°å¯¹è±¡ã€‚

## useEffect

æ‰€ä»¥æˆ‘ä»¬ç°åœ¨å¯ä»¥ç®¡ç†çŠ¶æ€ï¼Œå¤ªå¥½äº†ï¼çŠ¶æ€å˜åŒ–ä¹Ÿä¼šå½±å“æˆ‘ä»¬æ¸²æŸ“çš„ HTMLï¼Œä¹Ÿå¾ˆæ£’ï¼

ä½†æ˜¯ï¼Œé€šå¸¸éœ€è¦åœ¨ç¬¬ä¸€æ¬¡åŠ è½½é¡µé¢æ—¶è‡ªåŠ¨è¿è¡Œä¸€äº›ä»£ç â€”â€”å¯èƒ½æ˜¯ä»æœåŠ¡å™¨æˆ–åŒºå—é“¾è·å–æ•°æ®â€”â€”å¹¶ä¸”è¿˜éœ€è¦åœ¨æŸä¸ªçŠ¶æ€å˜é‡å‘ç”Ÿå˜åŒ–æ—¶è‡ªåŠ¨è¿è¡Œä¸€äº›ä»£ç ã€‚

è¿™äº›ç±»å‹çš„åŠŸèƒ½ç§°ä¸ºå‰¯ä½œç”¨ã€‚React ä¸ºæˆ‘ä»¬æä¾›äº†`useEffect`å…è®¸æˆ‘ä»¬ç¼–å†™è¿™äº›æ•ˆæœçš„é’©å­ã€‚`useEffect`æ¥å—ä¸¤ä¸ªå‚æ•° - ä¸€ä¸ªå‡½æ•°å’Œä¸€ä¸ªä¾èµ–æ•°ç»„ã€‚å‡½æ•°æ˜¯è¿è¡Œæ•ˆæœæ—¶è¿è¡Œçš„ä»£ç ï¼Œä¾èµ–æ•°ç»„æŒ‡å®šä½•æ—¶è§¦å‘å‰¯ä½œç”¨ã€‚

è€ƒè™‘ä¸€ä¸ªç¤ºä¾‹ï¼Œå½“ç½‘ç«™é¦–æ¬¡åŠ è½½æ—¶ï¼Œå®ƒæƒ³ä»æœåŠ¡å™¨åŠ è½½ä¸€äº›æ•°æ®ã€‚è¿™æ ·åšæ—¶ï¼Œå®ƒå¸Œæœ›å‘ç”¨æˆ·æ˜¾ç¤ºä¸€ä¸ªåŠ è½½å±å¹•ï¼Œç„¶ååœ¨åŠ è½½æ•°æ®åï¼Œç§»é™¤åŠ è½½å±å¹•å¹¶æ˜¾ç¤ºå®é™…å†…å®¹ã€‚æˆ‘ä»¬å¦‚ä½•åšåˆ°è¿™ä¸€ç‚¹ï¼Ÿ

```jsx

function LoadDataFromServer() {
  // Create a state variable to hold the data returned from the server
  const [data, setData] = useState("");
  // Create a state variable to maintain loading state
  const [loading, setLoading] = useState(false);

  async function loadData() {
    // Set `loading` to `true` until API call returns a response
    setLoading(true);

    // Imaginary function that performs an API call to load
    // data from a server
    const data = await apiCall();
    setData(data);

    // We have the data, set `loading` to `false`
    setLoading(false);
  }

  // loadData is the function that is run
  // An empty dependency array means this code is run
  // once when the page loads
  useEffect(() => {
    loadData();
  }, []);

  // Display `"Loading..."` while `loading` is `true`,
  // otherwise display `data`
  return <div>{loading ? "Loading..." : data}</div>;
}
```

[è¿è¡Œä»£ç ](https://codesandbox.io/s/practical-cache-ib3c0f?file=/src/App.js:186-756)

å¦‚æœæ‚¨ä»é“¾æ¥è¿è¡Œä¸Šè¿°ä»£ç ï¼Œæ‚¨å°†çœ‹åˆ°å®ƒ`Loading...`åœ¨å±å¹•ä¸Šæ˜¾ç¤º 5 ç§’é’Ÿï¼Œç„¶åæ˜¾ç¤º`ABCDEF`. è¿™æ˜¯å› ä¸º`apiCall`æ˜¯ä¸€ä¸ªç­‰å¾… 5 ç§’ç„¶åè¿”å›å­—ç¬¦ä¸²çš„å‡½æ•°`ABCDEF`ã€‚

é¦–æ¬¡åŠ è½½é¡µé¢æ—¶çš„`useEffect`è°ƒç”¨`loadData`ï¼ˆç”±äºä¾èµ–é¡¹æ•°ç»„ä¸ºç©ºï¼‰å’ŒçŠ¶æ€å˜é‡ä½¿ HTML å‘ˆç°é€‚å½“çš„å†…å®¹ã€‚

è¿™å¯¹äºåœ¨é¡µé¢ç¬¬ä¸€æ¬¡åŠ è½½æ—¶è¿è¡Œä»£ç å¾ˆæœ‰ç”¨ï¼Œä½†æ˜¯æ¯æ¬¡çŠ¶æ€å˜é‡çš„å€¼å‘ç”Ÿå˜åŒ–æ—¶è¿è¡Œä¸€äº›ä»£ç å‘¢ï¼Ÿä¾‹å¦‚ï¼Œå½“æ‚¨åœ¨ Facebook ä¸Šæœç´¢æŸäººçš„å§“åæ—¶ï¼ŒFacebook å¦‚ä½•åœ¨æ‚¨æ¯æ¬¡æ·»åŠ /åˆ é™¤è§’è‰²æ—¶è·å–å¹¶æ˜¾ç¤ºæ¨èï¼Ÿ

ä½ ä¹Ÿå¯ä»¥`useEffect`é€šè¿‡åœ¨ä¾èµ–æ•°ç»„ä¸­æä¾›çŠ¶æ€å˜é‡æ¥åšåˆ°è¿™ä¸€ç‚¹ã€‚æ¯æ¬¡è¯¥å˜é‡çš„å€¼å‘ç”Ÿå˜åŒ–æ—¶ï¼Œéƒ½ä¼šè¿è¡Œæ•ˆæœã€‚

```jsx
function DependentEffect() {
  const names = ["Alice", "Bob", "Charlie", "David", "Emily"];

  const [recommendations, setRecommendations] = useState([]);
  const [searchText, setSearchText] = useState("");

  useEffect(() => {
    // If user is not searching for anything, don't show any recomendations
    if (searchText.length === 0) {
      setRecommendations([]);
    } 
    // Else, find recommendations
    else if (searchText.length > 0) {
      const newRecs = names.filter((name) =>
        name.toLowerCase().includes(searchText.toLowerCase())
      );
      setRecommendations(newRecs);
    }
  }, [searchText]);

  return (
    <div>
      <input type="text" onChange={(e) => setSearchText(e.target.value)} />
      <h2>Recommendations:</h2>
      <ul>
        {recommendations.map((rec, index) => (
          <li key={index}>{rec}</li>
        ))}
      </ul>
    </div>
  );
}
```

[è¿è¡Œä»£ç ](https://codesandbox.io/s/cold-darkness-eub0eh?file=/src/App.js)

å¦‚æœæ‚¨è¿è¡Œä¸Šè¿°ä»£ç å¹¶å°è¯•è¾“å…¥ä¸€äº›å­—æ¯ï¼Œæ‚¨å°†çœ‹åˆ°æ¨èåˆ—è¡¨ä¼šéšç€æ‚¨åœ¨æœç´¢æ¡†ä¸­æ·»åŠ /åˆ é™¤æ–°å­—ç¬¦è€Œè‡ªåŠ¨æ›´æ–°ã€‚è¿™æ˜¯å› ä¸ºå½“ä½ æ›´æ–°è¾“å…¥æ¡†æ—¶ï¼Œ`searchText`æ˜¯é€šè¿‡`onChange`å¤„ç†ç¨‹åºæ›´æ–°çš„ï¼Œå®ƒè§¦å‘äº†`useEffect`ï¼Œå®ƒæ›´æ–°äº†`recommendations`åˆ—è¡¨ï¼Œå®ƒæ›´æ–°äº† HTML è§†å›¾ã€‚

æ‚¨ä¹Ÿå¯ä»¥ç±»ä¼¼åœ°åˆ›å»ºä¾èµ–äºå¤šä¸ªçŠ¶æ€å˜é‡çš„å‰¯ä½œç”¨ï¼Œè€Œä¸ä»…ä»…æ˜¯ä¸€ä¸ªã€‚å¦‚æœä»»ä½•å› å˜é‡å‘ç”Ÿå˜åŒ–ï¼Œå°±ä¼šäº§ç”Ÿå‰¯ä½œç”¨ã€‚æ‚¨åªéœ€å°†æ›´å¤šçŠ¶æ€å˜é‡æ·»åŠ åˆ°ä¾èµ–é¡¹æ•°ç»„å³å¯ã€‚

```jsx
useEffect(() => {
    // Some code
}, [stateVar1, stateVar2, stateVar3, andSoOn])
```


## useRef

`useRef`æ˜¯å¦ä¸€ä¸ªæ¯”è¾ƒå¸¸ç”¨çš„ React é’©å­ã€‚å®ƒä¸è¡¨é¢ä¸Šéå¸¸ç›¸ä¼¼`useState`ï¼Œä½†æœ‰ä¸€äº›å®é™…ä¸Šéå¸¸é‡è¦çš„ç»†å¾®å·®åˆ«ä½¿å¾—è¿™ä¸ª React Hook å­¦ä¹ èµ·æ¥å¾ˆé‡è¦ã€‚

`useRef`å˜é‡åˆ›å»ºå¦‚ä¸‹ï¼š

```jsx

function Component() {
    const myValue = useRef();
    
    function updateMyValue(newValue) {
        myValue.current = newValue;
    }
    
    function printMyValue() {
        console.log(myValue.current);
    }
}
```

### 1 - æ²¡æœ‰é‡æ–°æ¸²æŸ“
ä¸ç±»ä¼¼`useState`ï¼Œ`useRef`é’©å­è¿˜å…è®¸æˆ‘ä»¬å°†å˜é‡å­˜å‚¨åœ¨å¯ä»¥éšæ—¶é—´æ›´æ–°çš„ç»„ä»¶ä¸­ã€‚ä½†æ˜¯ï¼Œä¸çŠ¶æ€å˜é‡ä¸åŒï¼Œæ›´æ–° ref å˜é‡çš„å€¼ä¸ä¼šå¯¼è‡´ HTML è§†å›¾é‡æ–°å‘ˆç°ã€‚

å› æ­¤ï¼Œå¦‚æœæ‚¨æœ‰ä¸€ä¸ª`useRef`å˜é‡å¹¶ä¸”æ‚¨åœ¨ HTML è§†å›¾ä¸­æ˜¾ç¤ºå®ƒçš„å€¼ï¼Œåˆ™æ›´æ–°è¯¥å˜é‡ä¸ä¼šæ›´æ–° HTML è§†å›¾ã€‚

```jsx

function CounterWithRef() {
    const myNumber = useRef();
    
    function increment() {
        if (myNumber.current !== undefined) {
            myNumber.current += 1;
        } else {
            myNumber.current = 1;
        }
        console.log(myNumber.current);
    }
    
    return (
        <div>
            <p>{myNumber}</p>
            <button onClick={increment}>Increment!</button>
        </div>
    )
}
```

[è¿è¡Œä»£ç ](https://codesandbox.io/s/small-paper-9ecbfp?file=/src/App.js)

å¦‚æœæ‚¨è¿è¡Œä¸Šé¢çš„ä»£ç ï¼Œæ‚¨ä¼šæ³¨æ„åˆ°æ¯æ¬¡å•å‡»æŒ‰é’®æ—¶ï¼Œå€¼éƒ½ä¼šé€’å¢å¹¶æ‰“å°åœ¨æµè§ˆå™¨æ§åˆ¶å°ä¸­ï¼Œä½† HTML è§†å›¾å®é™…ä¸Šå¹¶æ²¡æœ‰æ›´æ–°ã€‚äº‹å®ä¸Šï¼ŒHTML è§†å›¾ä¸æ˜¾ç¤ºä»»ä½•å†…å®¹ï¼Œå› ä¸º is çš„åˆå§‹å€¼ï¼Œ`myNumber.current`å¹¶ä¸”`undefined`ç”±äº HTML æ²¡æœ‰æ›´æ–°ï¼Œå› æ­¤`undefined`å³ä½¿å€¼å®é™…ä¸Šæ­£åœ¨æ›´æ–°ï¼Œå®ƒä»ç„¶ä¿æŒä¸ HTML ç›¸å…³çš„å†…å®¹ã€‚

### 2 - åŒæ­¥æ›´æ–°

![](https://hicoldcat.oss-cn-hangzhou.aliyuncs.com/img/20220703170339.png)

![](https://hicoldcat.oss-cn-hangzhou.aliyuncs.com/img/20220703170410.png)

æˆ‘ä»¬ä¹‹å‰æ²¡æœ‰æåˆ°`useState`çš„æ˜¯ï¼Œå½“æˆ‘ä»¬ä½¿ç”¨`setXYZ`å‡½æ•°æ›´æ–°çŠ¶æ€å˜é‡æ—¶ï¼Œå®ƒå®é™…ä¸Šå¹¶æ²¡æœ‰ç«‹å³æ›´æ–°ã€‚

åœ¨ React ä¸­ä¸ºçŠ¶æ€å˜é‡è®¾ç½®æ–°å€¼æ˜¯å¼‚æ­¥å‘ç”Ÿçš„ï¼Œè¿™æ„å‘³ç€å¦‚æœæ‚¨åœ¨å°†çŠ¶æ€å˜é‡è®¾ç½®ä¸ºæ–°å€¼åç«‹å³å°è¯•ä½¿ç”¨å®ƒçš„å€¼ï¼Œæ‚¨å¯èƒ½å®é™…ä¸Šçœ‹ä¸åˆ°æ–°å€¼è¢«åæ˜ ï¼Œå› ä¸ºå®ƒæ˜¯å¼‚æ­¥å‘ç”Ÿçš„ã€‚

æˆ‘ä»¬å†çœ‹ä¸€ä¸‹ä½¿ç”¨æ—¶çš„Counterä¾‹å­`useState`ã€‚

```jsx

function AsyncStateVariables() {
  const [number, setNumber] = useState(0);

  function increment() {
    setNumber(number + 1);
    console.log(number);
  }

  return (
    <div>
      <p>{number}</p>
      <button onClick={increment}>Increment</button>
    </div>
  );
}
```

[è¿è¡Œä»£ç ](https://codesandbox.io/s/reverent-lichterman-k4n448?file=/src/App.js)

å½“æ‚¨è¿è¡Œå®ƒæ—¶ï¼Œè¯·æ³¨æ„è§†å›¾ä¸Šå‘ç”Ÿäº†ä»€ä¹ˆä»¥åŠæ§åˆ¶å°ä¸­å‘ç”Ÿäº†ä»€ä¹ˆã€‚å½“æ‚¨ç¬¬ä¸€æ¬¡å•å‡»æŒ‰é’®æ—¶ï¼ŒçŠ¶æ€å˜é‡åº”è¯¥æ›´æ–°ä¸º`1`- è¿™å°±æ˜¯è§†å›¾ä¸Šå‘ç”Ÿçš„æƒ…å†µï¼Œç½‘é¡µæ˜¾ç¤º`1`. ä½†æ˜¯ï¼Œå¦‚æœæ‚¨æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°ï¼Œ`0`åˆ™ä¼šæ‰“å°è¯¥å€¼è€Œä¸æ˜¯`1`. å½“æ‚¨ç»§ç»­å•å‡»æŒ‰é’®æ—¶ï¼Œæ­¤æ¨¡å¼å°†ç»§ç»­ã€‚

è¿™æ˜¯å› ä¸º`setNumber`è°ƒç”¨æ˜¯å¼‚æ­¥è¿è¡Œçš„ï¼Œå½“æˆ‘ä»¬åˆ°è¾¾è¯¥`console.log(number)`è¡Œæ—¶ï¼Œè¯¥å€¼å°šæœªæ›´æ–°ï¼Œå› æ­¤å®ƒä¼šæ‰“å°`number`. å½“å®ƒç¡®å®è¢«æ›´æ–°æ—¶ï¼ŒHTML è¢«é‡æ–°æ¸²æŸ“ä»¥æ˜¾ç¤ºæ–°å€¼ã€‚

`useRef`å¦ä¸€æ–¹é¢ï¼Œå…è®¸åŒæ­¥æ›´æ–°ã€‚å½“æ‚¨ä½¿ç”¨å®ƒæ›´æ–°å¼•ç”¨å˜é‡çš„å€¼æ—¶ï¼Œ`myVar.current = newValue`å®ƒä¼šç«‹å³æ›´æ–°ï¼Œå¹¶ä¸”æ²¡æœ‰å»¶è¿Ÿã€‚è¿™æœ‰æ—¶ä¼šæ´¾ä¸Šç”¨åœºã€‚

### 3 - å¼•ç”¨ DOM å…ƒç´ 

è®©æˆ‘ä»¬åšçš„å¦ä¸€ä»¶å¾ˆé…·çš„äº‹æƒ…`useRef`æ˜¯å®ƒå…è®¸æˆ‘ä»¬ç›´æ¥å¼•ç”¨ DOM å…ƒç´ ã€‚è¿™æ˜¯`useState`.

ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥`input`ä½¿ç”¨ç›´æ¥å¼•ç”¨å…ƒç´ `useRef`

```jsx

function InputFocus() {
  const inputRef = useRef();

  useEffect(() => {
    inputRef.current.focus();
  }, []);

  return <input ref={inputRef} type="text" />;
}
```

[è¿è¡Œä»£ç ](https://codesandbox.io/s/input-focus-zntci?file=/src/App.js)

å½“æ‚¨è¿è¡Œä¸Šé¢çš„ç¤ºä¾‹æ—¶ï¼Œæ‚¨ä¼šæ³¨æ„åˆ°é¡µé¢åŠ è½½åï¼Œè¯¥`input`å…ƒç´ å·²ç»å¤„äºç„¦ç‚¹ä½ç½®ï¼Œå³æ‚¨å¯ä»¥å¼€å§‹è¾“å…¥è€Œæ— éœ€å…ˆå•å‡»å®ƒã€‚è¿™æ˜¯å› ä¸ºæˆ‘ä»¬æŒæœ‰ä¸€ä¸ªå¯¹`input`å…ƒç´ çš„å¼•ç”¨ï¼Œå¹¶ä¸”`useEffect`ç”±äºæœ‰ä¸€ä¸ªç©ºçš„ä¾èµ–æ•°ç»„ï¼Œå®ƒåœ¨é¡µé¢åŠ è½½æ—¶è¿è¡Œï¼Œå®ƒä¸“æ³¨äº`input`å…ƒç´ ã€‚


## Reactæ–‡ä»¶ç»“æ„

å¤ªå¥½äº†ï¼Œå¦‚æœä½ åˆšåˆšå¼€å§‹ä½¿ç”¨ Reactï¼Œæˆ‘ä»¬å·²ç»ä»‹ç»äº†ä½ åº”è¯¥çŸ¥é“çš„ä¸»è¦æ¦‚å¿µã€‚ä½†åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬åªå¤„ç†äº†å­¤ç«‹çš„ç»„ä»¶ç¤ºä¾‹ã€‚ä¸€ä¸ªå®é™…çš„ React é¡¹ç›®æ˜¯ä»€ä¹ˆæ ·å­çš„ï¼Ÿ

React åº”ç”¨ç¨‹åºé€šå¸¸ä½¿ç”¨`create-react-app`ï¼ˆCRAï¼‰ä¹‹ç±»çš„å·¥å…·åˆ›å»ºã€‚CRA æ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œå¯å¸®åŠ©æ‚¨è®¾ç½®æ–°çš„ React é¡¹ç›®å¹¶å®‰è£…æ‰€æœ‰å¿…éœ€çš„ä¾èµ–é¡¹ï¼Œè€Œæ— éœ€æ‰‹åŠ¨åˆ›å»ºæ‰€æœ‰æ ·æ¿ã€‚

å½“æ‚¨ä½¿ç”¨ CRA æ—¶ï¼Œæ‚¨æœ€ç»ˆä¼šå¾—åˆ°å¦‚ä¸‹æ‰€ç¤ºçš„æ–‡ä»¶ç»“æ„ã€‚

![](https://hicoldcat.oss-cn-hangzhou.aliyuncs.com/img/20220703170819.png)

è¯¥`package.json`æ–‡ä»¶åº”è¯¥æ˜¯å¯è¯†åˆ«çš„ã€‚CRA é€šè¿‡ Node.js ç¯å¢ƒå·¥ä½œï¼Œå¹¶ä¸”package.jsonæ˜¯åˆ›å»ºæ‰€æœ‰ä¾èµ–é¡¹å’Œé¡¹ç›®å…ƒæ•°æ®çš„åœ°æ–¹ - ä¸ä»»ä½•å…¶ä»– Node.js é¡¹ç›®ä¸€æ ·ã€‚

è¯¥`src/`æ–‡ä»¶å¤¹åŒ…å«ç»„ä»¶å’Œ CSS æ ·å¼ï¼ŒåŸºæœ¬ä¸Šæ˜¯ä»»ä½•ç‰¹å®šäº React çš„ä»£ç ã€‚è¿™é‡Œçš„ä¸»è¦ç»„ä»¶æ˜¯`App.js`ï¼Œå®ƒæ˜¯æ‚¨ç¬¬ä¸€æ¬¡è®¾ç½® React åº”ç”¨ç¨‹åºæ—¶åˆ›å»ºçš„è‡ªåŠ¨ç”Ÿæˆçš„ç»„ä»¶ã€‚`index.js`æ˜¯ React åº”ç”¨ç¨‹åºçš„ä¸»è¦å…¥å£ç‚¹ï¼Œä½†é€šå¸¸ä½ ä¸éœ€è¦å¤ªå¤šï¼ˆæˆ–æ ¹æœ¬ä¸éœ€è¦ï¼‰ä¿®æ”¹å®ƒã€‚å®ƒåªåŒ…å«ä¸€äº›æ ·æ¿ React ä»£ç ï¼Œè¿™äº›ä»£ç è·å–æ‚¨çš„ç»„ä»¶å¹¶å°†å…¶è½¬æ¢ä¸ºå¯ä»¥åœ¨æµè§ˆå™¨ä¸­è¿è¡Œçš„å®é™… HTML å’Œ JSã€‚

ç„¶åè¯¥`public/`æ–‡ä»¶å¤¹é»˜è®¤åªåŒ…å«ä¸€ä¸ªæ–‡ä»¶ - `index.html`. ä½ é€šå¸¸ä¸ä¼šè‡ªå·±ç¢°è¿™ä¸ªã€‚è¿™æ˜¯ä¸€ä¸ªè¶…çº§ç®€å•çš„å‡†ç³»ç»Ÿ HTML æ–‡ä»¶ã€‚å½“ä¸€ä¸ª React åº”ç”¨ç¨‹åºè¿è¡Œæ—¶ï¼ŒReact ä¼šåœ¨åå°æ‰§è¡Œä¸€äº›é­”æ³•ï¼Œå®ƒä¼šè·å–æ‰€æœ‰ç»„ä»¶å’Œ Javascript ä»£ç ï¼Œå°†å…¶è½¬æ¢ä¸ºå¯ä»¥åœ¨æµè§ˆå™¨ä¸­è¿è¡Œçš„å®é™… HTML å’Œ JSï¼Œå¹¶`index.html`ç”¨æ‰€æœ‰è¿™äº›æ›¿æ¢å…¶ä¸­çš„å†…å®¹ã€‚ç„¶åï¼Œæ›´æ–°`index.html`çš„å°±æ˜¯å‘ç”¨æˆ·æ˜¾ç¤ºçš„å†…å®¹ã€‚

å¦‚æœæ‚¨æƒ³å°†å›¾åƒã€å­—ä½“ã€éŸ³ä¹ç­‰æ·»åŠ åˆ°æ‚¨çš„ç½‘ç«™ï¼Œå®ƒä»¬ä¹Ÿä¼šè¿›å…¥è¯¥`public/`æ–‡ä»¶å¤¹ã€‚è¯¥`public/`æ–‡ä»¶å¤¹åŸºæœ¬ä¸ŠåŒ…å«æ‚¨å¸Œæœ›åœ¨æ‚¨çš„ç½‘ç«™ä¸Šç›´æ¥è®¿é—®çš„æ‰€æœ‰å†…å®¹ã€‚

ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨åœ¨æ–‡ä»¶å¤¹ä¸­æ·»åŠ äº†ä¸€ä¸ªåä¸ºçš„å›¾åƒ`avatar.png`ï¼Œ`public/`é‚£ä¹ˆæ‚¨å¯ä»¥åœ¨ React ç»„ä»¶ä¸­æ˜¾ç¤ºè¯¥å›¾åƒï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

`<img src="/avatar.png" />`

è™½ç„¶è¿™å¯èƒ½çœ‹èµ·æ¥å¾ˆå¥‡æ€ªï¼Œå› ä¸ºæ‚¨çš„ç»„ä»¶ä½äº`src/`æ–‡ä»¶å¤¹ä¸­è€Œä¸æ˜¯`public/`æ–‡ä»¶å¤¹ä¸­ - å®ƒå·¥ä½œçš„åŸå› æ˜¯å› ä¸ºå›¾åƒä¸ä½äºåŒä¸€æ–‡ä»¶å¤¹ä¸­`index.html`- å¹¶ä¸”`index.html`æ˜¯æ‚¨çš„ React ä»£ç å®é™…ç»“æŸçš„åœ°æ–¹ã€‚å› æ­¤ï¼Œå½“ä½¿ç”¨ çš„ç›¸å¯¹è·¯å¾„å¼•ç”¨å›¾åƒæ—¶`/avatar.png`ï¼Œå®ƒçŸ¥é“å®ƒ`avatar.png`å¿…é¡»åœ¨`public`æ–‡ä»¶å¤¹å†…ã€‚

## åç«¯éƒ¨åˆ†

![](https://hicoldcat.oss-cn-hangzhou.aliyuncs.com/img/20220703171108.png)

åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬ä¸€ç›´åœ¨è®¨è®º Reactï¼Œä»¥åŠå®ƒçš„æ‰€æœ‰å‰ç«¯åŠŸèƒ½ã€‚ä½†æ˜¯åç«¯å‘¢ï¼Ÿ

React ä¸æ˜¯åç«¯æ¡†æ¶ï¼Œå› æ­¤å¦‚æœæ‚¨æƒ³åˆ›å»ºè‡ªå·±çš„ API åç«¯ï¼Œåˆ™å¿…é¡»ä½¿ç”¨ Node.js å’Œ Express ä¹‹ç±»çš„ä¸œè¥¿å»ºç«‹ä¸€ä¸ªå•ç‹¬çš„é¡¹ç›®ã€‚ç„¶è€Œè¿™å¾ˆéº»çƒ¦ï¼Œå°±å¥½åƒåç«¯å’Œå‰ç«¯æ˜¯åŒä¸€ä¸ªé¡¹ç›®ä¸€æ ·ï¼Œä½ å¯èƒ½æœ‰å¾ˆå¤šä»£ç å¯ä»¥åœ¨ä¸¤è€…ä¹‹é—´é‡ç”¨å’Œå…±äº«ã€‚æ­¤å¤–ï¼Œç»´æŠ¤ä¸¤ä¸ªé¡¹ç›®æ€»æ˜¯æ¯”åªç»´æŠ¤ä¸€ä¸ªé¡¹ç›®æ›´éš¾ã€‚

è¾“å…¥ï¼ŒNext.js

æ¥ä¸‹æ¥æ˜¯ React çš„å…ƒæ¡†æ¶ã€‚è¿™æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿå—¯ï¼ŒReact æœ¬èº«å°±æ˜¯ä¸€ä¸ªæ„å»º Web åº”ç”¨ç¨‹åºçš„æ¡†æ¶ã€‚æ¥ä¸‹æ¥æ˜¯ä¸€ä¸ª React æ¡†æ¶ï¼Œå®ƒè¿˜å¼•å…¥äº†ä¸€äº› React æ²¡æœ‰çš„é™„åŠ åŠŸèƒ½ã€‚

å¦‚æœä½ äº†è§£ Reactï¼Œé‚£ä¹ˆ Next 90% æ˜¯å®Œå…¨ä¸€æ ·çš„ä¸œè¥¿ï¼Œä½ å¯ä»¥å¾ˆå¿«å¼€å§‹ä½¿ç”¨å®ƒï¼Œä½†æ˜¯æˆ‘æƒ³è°ˆè°ˆ Next å¸¦æ¥çš„è¿™äº›é¢å¤–åŠŸèƒ½ã€‚

é¦–å…ˆï¼Œæ­£å¦‚æ ‡é¢˜å’Œä»‹ç»æ‰€æš—ç¤ºçš„é‚£æ ·ï¼ŒNext å…è®¸æ‚¨åœ¨å•ä¸ªé¡¹ç›®ä¸­ç¼–å†™å‰ç«¯å’Œåç«¯ä»£ç ã€‚æ‚¨ä½¿ç”¨ React æ„å»ºå‰ç«¯ï¼Œå¹¶ä½¿ç”¨ä¸ä½¿ç”¨ Express ç±»ä¼¼çš„è¯­æ³•ç¼–å†™åç«¯ API ç«¯ç‚¹ - ä½†éƒ½åœ¨åŒä¸€ä¸ªé¡¹ç›®ä¸­ã€‚

å…¶æ¬¡ï¼ŒNext ä½¿åˆ›å»ºå¤šé¡µ Web åº”ç”¨ç¨‹åºå˜å¾—éå¸¸å®¹æ˜“ã€‚React æœ€åˆæ—¨åœ¨å¸®åŠ©åˆ›å»ºå•é¡µåº”ç”¨ç¨‹åºï¼ˆSPAï¼‰ï¼Œç»„ä»¶éå¸¸é€‚åˆï¼ä½†æ˜¯ï¼Œå¦‚æœæ‚¨çš„ç½‘ç«™æœ‰å¤šä¸ªé¡µé¢æ€ä¹ˆåŠï¼Ÿä¾‹å¦‚`https://learnweb3.io/`å’Œ`https://learnweb3.io/about`ç­‰ç­‰`https://learnweb3.io/tracks`ã€‚

ä¸ºæ­¤ï¼Œ`React Router`å¼•å…¥äº†è¯¸å¦‚æ­¤ç±»çš„åº“ï¼Œè¿™ä½¿ä¹‹æˆä¸ºå¯èƒ½ï¼Œä½†ä¹Ÿæœ‰ç‚¹éº»çƒ¦ã€‚â€œä¸‹ä¸€æ­¥â€é€šè¿‡å…è®¸åŸºäºæ–‡ä»¶åçš„è‡ªåŠ¨é¡µé¢è·¯ç”±å¤§å¤§ç®€åŒ–äº†è¿™ä¸€ç‚¹ã€‚

æœ€åï¼ŒNext è¿˜å…·æœ‰æœåŠ¡å™¨ç«¯æ¸²æŸ“ (SSR) å’Œé™æ€ç«™ç‚¹ç”Ÿæˆ (SSG)ã€‚è¿™äº›ä¸æ˜¯æˆ‘ä»¬å°†åœ¨æˆ‘ä»¬çš„æ›²ç›®ä¸­ä½¿ç”¨çš„åŠŸèƒ½ï¼Œæ‰€ä»¥æˆ‘ä¸ä¼šåœ¨è¿™é‡ŒèŠ±å¤ªå¤šæ—¶é—´ï¼Œä½†å¦‚æœæ‚¨æƒ³äº†è§£æ›´å¤šå…³äºå®ƒä»¬çš„ä¿¡æ¯ï¼Œè¯·éšæ—¶é˜…è¯»æ¨èé˜…è¯»ã€‚

## Nextä¸­çš„è·¯ç”±

åœ¨è®¨è®ºåˆ›å»ºåç«¯æœåŠ¡å™¨ä¹‹å‰ï¼Œæˆ‘ä»¬å°†è®¨è®ºè·¯ç”±ï¼Œå› ä¸ºè¿™å°†å¸®åŠ©æ‚¨äº†è§£å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚

ç±»ä¼¼äº`create-react-app`ï¼ŒNext æœ‰ä¸€ä¸ªåä¸ºçš„å·¥å…·`create-next-app`ï¼Œå¯ä»¥è‡ªåŠ¨å¸®åŠ©æ‚¨è½»æ¾è®¾ç½®æ–°çš„ Next.js é¡¹ç›®ã€‚

å½“æ‚¨åˆ›å»ºä¸€ä¸ªæ–°çš„ Next.js é¡¹ç›®æ—¶ï¼Œæ‚¨æœ€ç»ˆä¼šå¾—åˆ°ä¸€ä¸ªå¦‚ä¸‹æ‰€ç¤ºçš„æ–‡ä»¶ç»“æ„ï¼š

![](https://hicoldcat.oss-cn-hangzhou.aliyuncs.com/img/20220703171455.png)

è¿™æ˜¯å¾ˆå¤šæ–‡ä»¶ï¼ä½†åˆ«æ‹…å¿ƒï¼Œå…¶ä¸­å¾ˆå¤šä¸æˆ‘ä»¬å·²ç»è®¨è®ºè¿‡çš„ React ç±»ä¼¼ã€‚

è¯¥`public/`æ–‡ä»¶å¤¹çš„å·¥ä½œæ–¹å¼å®Œå…¨ç›¸åŒï¼Œä½†ä¸åŒ…å«`index.html`æ–‡ä»¶ã€‚ä½†æ˜¯ï¼Œå¦‚æœæ‚¨æƒ³æ·»åŠ å›¾åƒã€å›¾æ ‡ã€å­—ä½“ã€éŸ³ä¹ç­‰ï¼Œæ‚¨å¯ä»¥å°†å®ƒä»¬å…¨éƒ¨æ”¾åœ¨`public/`æ–‡ä»¶å¤¹ä¸­ã€‚

è¯¥`styles/`æ–‡ä»¶å¤¹æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„è¡¥å……ï¼Œä¸ºæ‚¨çš„æ‰€æœ‰ CSS æ–‡ä»¶æä¾›äº†ä¸€ä¸ªä¸“ç”¨ä½ç½®ã€‚

è¿™`pages/`å°±æ˜¯ä¼Ÿå¤§çš„ã€‚`_app.js`æ˜¯ä¸€ä¸ªè‡ªåŠ¨ç”Ÿæˆçš„æ–‡ä»¶ï¼Œé€šå¸¸æ‚¨ä¸ä¼šè‡ªå·±æ¥è§¦å®ƒï¼Œå¹¶è®¾ç½®äº†ä¸€äº›æ ·æ¿ä»£ç ï¼Œå…è®¸ Next å‘ˆç°æ­£ç¡®çš„ç»„ä»¶ã€‚

`pages/index.js`æ˜¯æ‚¨ç½‘ç«™çš„ä¸»é¡µã€‚åŸºæœ¬ä¸Šï¼Œæ–‡ä»¶`pages`å¤¹ä¸­çš„æ¯ä¸ªæ–‡ä»¶éƒ½æ˜¯æ‚¨ç½‘ç«™çš„è·¯çº¿ã€‚éµå¾ª Javascript/HTML æ ·å¼çš„å‘½åçº¦å®šï¼Œè¿™æ„å‘³ç€`index`æ–‡ä»¶æ˜¯â€œä¸»â€æ–‡ä»¶ã€‚å› æ­¤ï¼Œ`pages/index.js`å½“æ‚¨ç¬¬ä¸€æ¬¡æ‰“å¼€æ‚¨çš„ç½‘ç«™æ—¶å°†åŠ è½½çš„è§†å›¾ã€‚

å¦‚æœæ‚¨åœ¨`pages`æ–‡ä»¶å¤¹ä¸‹æ·»åŠ æ›´å¤šæ–‡ä»¶ï¼Œä¾‹å¦‚ä¸€ä¸ªåä¸º`about.js`- çš„æ–‡ä»¶ï¼Œå®ƒå°†åœ¨`YOUR_DOMAIN/about`ï¼ˆæœ‰è¶£çš„äº‹å®ï¼šLearnWeb3 çš„ç½‘ç«™æ˜¯ä½¿ç”¨ Next åˆ›å»ºçš„ï¼Œè¿™æ­£æ˜¯æˆ‘ä»¬`https://learnweb3.io/about`é¡µé¢çš„å·¥ä½œæ–¹å¼ï¼‰ã€‚

è¿™å¾ˆæ£’ï¼Œå› ä¸ºæ‚¨ä¸å¿…å¤„ç†è¯¸å¦‚ React Router ä¹‹ç±»çš„äº‹æƒ…ï¼Œå¹¶ä¸”æ„å»ºå¤šé¡µç½‘ç«™å°±åƒåœ¨`pages/`æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶ä¸€æ ·ç®€å•ï¼ŒNext ä¼šè‡ªåŠ¨ä¸ºæ‚¨ç”ŸæˆåŸºäºæ–‡ä»¶åçš„è·¯ç”±ã€‚

æ‚¨è¿˜å¯ä»¥é€šè¿‡åœ¨æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºå­æ–‡ä»¶å¤¹æ¥è¿›è¡Œå¤šçº§è·¯ç”±pages/ã€‚ä¾‹å¦‚ï¼Œç±»ä¼¼`pages/tracks/freshman.js`çš„ä¸œè¥¿ä¼šæœ‰ route `YOUR_DOMAIN/tracks/freshman`ã€‚

## åœ¨ Next ä¸­ç¼–å†™ API

ç„¶è€Œï¼Œä¸‹é¢æœ‰ä¸€ä¸ªç‰¹æ®Šçš„æ–‡ä»¶å¤¹ï¼Œ`pages/`å®ƒä¹Ÿæ˜¯è‡ªåŠ¨ç”Ÿæˆçš„ã€‚`pages/api`æ–‡ä»¶å¤¹ã€‚ä¸å‘ˆç° HTML è§†å›¾çš„å¸¸è§„é¡µé¢ä¸åŒï¼Œ`pages/api`æ–‡ä»¶å¤¹ä¸‹çš„ä»»ä½•å†…å®¹éƒ½å……å½“ API ç«¯ç‚¹ã€‚

è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹è‡ªåŠ¨ç”Ÿæˆçš„`pages/api/hello.js`æ–‡ä»¶ï¼š

```jsx

export default function handler(req, res) {
  res.status(200).json({ name: 'John Doe' })
}
```

è¿™æ˜¯ä¸€ä¸ªéå¸¸ç±»ä¼¼äº Express çš„åŠŸèƒ½ã€‚å¦‚æœä½ è¦å»`YOUR_DOMAIN/api/hello`- è€Œä¸æ˜¯å‘ˆç° HTML è§†å›¾ï¼Œè¿™å°†è¿”å›ä¸€ä¸ª JSON å¯¹è±¡`{name: 'John Doe'}`- è¿™æ˜¯ä¸€ä¸ªè¶…çº§ç®€å•çš„ API ç«¯ç‚¹ã€‚

ä¸å¸¸è§„çš„ HTML è§†å›¾ç±»ä¼¼ï¼Œæ‚¨å¯ä»¥`pages/api`é€šè¿‡åˆ›å»ºæ–°æ–‡ä»¶æ¥åˆ›å»º API ç«¯ç‚¹ï¼Œå¹¶ä¸”ç«¯ç‚¹è·¯ç”±åŸºäºæ–‡ä»¶åã€‚

## ç»“è®º
æˆ‘å¸Œæœ›è¿™ç¯‡æ–‡ç« å¯¹æ‚¨æœ‰æ‰€å¸®åŠ©ï¼Œå¹¶ä¸”å¯ä»¥ä½œä¸ºé€Ÿæˆè¯¾ç¨‹ã€‚æˆ‘æ•…æ„åœ¨è¿™é‡Œæ›´å¤šåœ°å…³æ³¨ React è€Œä¸æ˜¯ Nextï¼Œå› ä¸ºä¹ æƒ¯å‰ç«¯éƒ¨åˆ†å¯¹æˆ‘ä»¬æ¥è¯´å°†æ¯”åç«¯éƒ¨åˆ†æ›´ç›¸å…³ã€‚æ­¤å¤–ï¼Œåç«¯ä»£ç åŸºæœ¬ä¸Šæ˜¯å¸¸è§„çš„ Javascriptï¼Œè€Œå‰ç«¯æ˜¯ JSXï¼Œæˆ‘æƒ³è®©ä½ æ›´ç†Ÿæ‚‰å®ƒã€‚


## è¯»ç‰©/è§†é¢‘
- [30 åˆ†é’Ÿå­¦ä¼š React](https://www.youtube.com/watch?v=hQAHSlTtcmY)
- [Next.js in 100 Seconds // åŠ ä¸Šå®Œæ•´çš„æ•™ç¨‹](https://www.youtube.com/watch?v=Sklc_fQBmcs)
- [Scrimba çš„å®Œæ•´ React è¯¾ç¨‹](https://scrimba.com/learn/learnreact)
- [Next.js é€Ÿæˆç­](https://www.youtube.com/watch?v=mTz0GXj8NN0)


> åŸæ–‡ï¼š[https://www.learnweb3.io/tracks/sophomore/just-enough-react-and-nextjs](https://www.learnweb3.io/tracks/sophomore/just-enough-react-and-nextjs)

![](https://hicoldcat.oss-cn-hangzhou.aliyuncs.com/img/my.png)