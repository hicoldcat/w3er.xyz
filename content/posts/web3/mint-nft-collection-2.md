---
title: å»ºç«‹ä½ è‡ªå·±çš„ä»¥å¤ªåŠ NFT é›†åˆï¼ˆ2ï¼‰
description: null
author: æç•™ç™½
weight: 0
date: 2022-12-12T03:06:22.588Z
lastmod: 2022-12-12T03:06:31.867Z
tags: []
categories:
  - åŒºå—é“¾
  - WEB3.0
featuredImage: https://hicoldcat.oss-cn-hangzhou.aliyuncs.com/img/20221210103130.png
---

**ç›®å½•**

```
å…¥é—¨
  æˆ‘ä»¬åœ¨å»ºé€ ä»€ä¹ˆï¼Ÿ
é“¸é€ ä½ çš„ç¬¬ä¸€ä¸ª NFT
  ä»€ä¹ˆæ˜¯ NFT
  å¯åŠ¨å¹¶è¿è¡Œæ‚¨çš„æœ¬åœ°ç¯å¢ƒ
  åœ¨æœ¬åœ°é“¸é€  NFT
  åˆ›å»ºä¸€ä¸ªé“¸é€  NFT çš„åˆçº¦
åœ¨é“¾ä¸Šç”Ÿæˆ NFT
  ä»€ä¹ˆæ˜¯é“¾ä¸Šæ•°æ®ã€‚
  ä½¿ç”¨é™æ€ SVG é“¸é€  NFT
  åœ¨é“¾ä¸ŠåŠ¨æ€ç”Ÿæˆ SVG NFT
åˆ›å»º WEB å®¢æˆ·ç«¯
  è®¾ç½® React åº”ç”¨ç¨‹åºå’Œé’±åŒ…
  å°†é’±åŒ…è¿æ¥åˆ°ç½‘ç»œåº”ç”¨ç¨‹åº
  åˆ›å»ºä¸€ä¸ªè°ƒç”¨åˆçº¦å’Œé“¸é€  NFT çš„æŒ‰é’®
å®Œæˆå¹¶äº¤ä»˜
  Web åº”ç”¨ç¨‹åºçš„æœ€åå®Œå–„
  äº¤ä»˜
```

### ğŸ’ åœ¨æœ¬åœ°é“¸é€  NFT

#### ğŸ“ç¼–å†™æˆ‘ä»¬çš„åˆå§‹åˆçº¦

*æ³¨æ„ï¼šå¦‚æœæ‚¨å·²ç»ä»æˆ‘ä»¬è¿‡å»è¿è¡Œçš„`WavePortal`é¡¹ç›®ä¸­äº†è§£å¦‚ä½•æ‰§è¡Œæœ¬èŠ‚ä¸­çš„å¾ˆå¤šå†…å®¹ï¼Œé‚£å°±å¤ªæ£’äº†ï¼ ä½ ä¼šå¾ˆå¿«å®Œæˆè¿™ä¸ª:)ã€‚ å…¶ä¸­å¤§éƒ¨åˆ†æ“ä½œéƒ½æ˜¯é‡å¤çš„*ã€‚

å…ˆè®©æˆ‘ä»¬åšä¸€äº›æ¸…ç†å·¥ä½œã€‚

ç°åœ¨åœ¨æ‚¨æœ€å–œæ¬¢çš„ä»£ç ç¼–è¾‘å™¨ä¸­æ‰“å¼€é¡¹ç›®çš„ä»£ç ã€‚æˆ‘æœ€å–œæ¬¢çš„æ˜¯ VSCodeï¼æˆ‘ä»¬æƒ³åˆ é™¤ä¸ºæˆ‘ä»¬ç”Ÿæˆçš„æ‰€æœ‰è¹©è„šçš„åˆå§‹ä»£ç ã€‚æˆ‘ä»¬ä¸éœ€è¦è¿™äº›ï¼Œå› ä¸ºæˆ‘ä»¬æ˜¯ä¸“ä¸šäººå£«ï¼

ç»§ç»­å¹¶åˆ é™¤`test`ä¸‹çš„æ–‡ä»¶`Lock.js`ï¼›å¦å¤–ï¼Œåˆ é™¤`scripts` ä¸‹çš„ `deploy.js`ï¼›ç„¶åï¼Œåˆ é™¤`contracts`ä¸‹çš„`Lock.sol`ã€‚**ä¸è¦åˆ é™¤å®é™…çš„æ–‡ä»¶å¤¹ï¼**

ç°åœ¨ï¼Œåœ¨ VSCode ä¸­æ‰“å¼€é¡¹ç›®ï¼Œè®©æˆ‘ä»¬å¼€å§‹ç¼–å†™æˆ‘ä»¬çš„ NFT åˆçº¦ã€‚ å¦‚æœæ‚¨ä»æœªç¼–å†™è¿‡æ™ºèƒ½åˆçº¦ï¼Œè¯·ä¸è¦æ‹…å¿ƒã€‚**è¯·è·Ÿä¸Šæˆ‘ä»¬ï¼Œè°·æ­Œæœç´¢å›°æƒ‘ä½ çš„é—®é¢˜æˆ–è€…åœ¨ Discord ä¸­æé—®ã€‚**

åœ¨`contracts`ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º`MyEpicNFT.sol`çš„æ–‡ä»¶ã€‚ä½¿ç”¨`Hardhat`æ—¶æ–‡ä»¶ç›®å½•ç»“æ„éå¸¸é‡è¦ï¼Œæ‰€ä»¥ï¼Œè¯·æ³¨æ„ï¼

*æ³¨æ„ï¼šæˆ‘å»ºè®®ä¸º VSCode ä¸‹è½½ [Solidity æ‰©å±•](https://marketplace.visualstudio.com/items?itemName=JuanBlanco.solidity&utm_source=buildspace.so&utm_medium=buildspace_project)ï¼Œå®ƒæä¾›äº†å¾ˆå¥½çš„è¯­æ³•é«˜äº®æ˜¾ç¤ºã€‚*

æˆ‘æ€»æ˜¯å–œæ¬¢ä»ä¸€ä»½éå¸¸åŸºç¡€çš„åˆçº¦å¼€å§‹ï¼Œè¿™æ ·åšåªæ˜¯ä¸ºäº†è®©äº‹æƒ…é¡ºåˆ©è¿›è¡Œã€‚

```solidity
// SPDX-License-Identifier: UNLICENSED

pragma solidity ^0.8.17;

import "hardhat/console.sol";

contract MyEpicNFT {
    constructor() {
        console.log("This is my NFT contract. Whoa!");
    }
}
```

*æ³¨æ„:æœ‰æ—¶`VSCode` ä¼šæç¤ºéçœŸæ­£çš„é”™è¯¯ï¼Œä¾‹å¦‚ï¼Œå®ƒå¯èƒ½ä¼šåœ¨`Hardhat`å¯¼å…¥æ—¶åŠ ä¸‹åˆ’çº¿ï¼Œè¯´å®ƒä¸å­˜åœ¨ã€‚è¿™æ˜¯å› ä¸ºæ‚¨çš„å…¨å±€`Solidity`ç¼–è¯‘å™¨æ²¡æœ‰åœ¨æœ¬åœ°è®¾ç½®ã€‚å¦‚æœä½ ä¸çŸ¥é“å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä¸è¦æ‹…å¿ƒï¼Œç°åœ¨å…ˆå¿½ç•¥è¿™äº›ã€‚å¦å¤–ï¼Œæˆ‘å»ºè®®ä½ ä¸è¦ä½¿ç”¨VSCodeçš„ç»ˆç«¯ï¼Œä½¿ç”¨ä½ è‡ªå·±çš„ç‹¬ç«‹ç»ˆç«¯!å¦‚æœç¼–è¯‘å™¨æ²¡æœ‰è®¾ç½®ï¼ŒVSCodeç»ˆç«¯æœ‰æ—¶ä¼šå‡ºç°é—®é¢˜ã€‚*

è®©æˆ‘ä»¬é€è¡Œæ¥åˆ†æã€‚

```solidity
// SPDX-License-Identifier: UNLICENSED
```

åªæ˜¯ä¸€ä¸ªè¢«ç§°ä¸º`SPDXè®¸å¯è¯æ ‡è¯†ç¬¦`ï¼Œä½ å¯ä»¥åœ¨[è¿™é‡Œ](https://spdx.org/licenses/?utm_source=buildspace.so&utm_medium=buildspace_project)é˜…è¯»æ›´å¤šå…³äºå®ƒçš„ä¿¡æ¯ã€‚

```solidity
pragma solidity ^0.8.17;
```

è¿™æ˜¯æˆ‘ä»¬å¸Œæœ›åˆçº¦ä½¿ç”¨çš„`Solidity`ç¼–è¯‘å™¨ç‰ˆæœ¬ã€‚å®ƒè¯´çš„æ˜¯â€œ**ç¼–è¯‘åˆçº¦æ—¶ï¼Œåªèƒ½ä½¿ç”¨çš„ç‰ˆæœ¬ä¸ä½äº 0.8.17 ä½†ä¸é«˜äº 0.9.0 çš„ Solidity ç¼–è¯‘å™¨**â€ã€‚è¯·æ³¨æ„ï¼Œç¡®ä¿åœ¨`hardhat.config.js`ä¸­è®¾ç½®äº†ç›¸åº”åœ°çš„ç¼–è¯‘å™¨ï¼ˆä¾‹å¦‚ 0.8.17ï¼‰ï¼Œæ¯”å¦‚ï¼š

```solidity
import "hardhat/console.sol";
```

Hardhat ç»™äº†æˆ‘ä»¬ä¸€äº›é­”åŠ›ï¼Œå…è®¸æˆ‘ä»¬åœ¨åˆçº¦ä¸­è®°å½•ä¸€äº›æ§åˆ¶å°æ—¥å¿—ã€‚å®é™…ä¸Šï¼Œè°ƒè¯•æ™ºèƒ½åˆçº¦å…·æœ‰æŒ‘æˆ˜æ€§ï¼Œä½†è¿™æ­£æ˜¯ Hardhat çš„ä¼˜åŠ¿ä¹‹å¤„ï¼Œä½¿å·¥ä½œå˜å¾—æ›´åŠ å®¹æ˜“ã€‚

```solidity
contract MyEpicNFT {
    constructor() {
        console.log("This is my NFT contract. Whoa!");
    }
}
```

æ‰€ä»¥ï¼Œæ™ºèƒ½åˆçº¦æœ‰ç‚¹åƒå…¶ä»–è¯­è¨€çš„`ç±»`ï¼Œå¦‚æœä½ è§è¿‡çš„è¯ï¼ ä¸€æ—¦æˆ‘ä»¬åˆå§‹åŒ–è¿™ä¸ªåˆçº¦ï¼Œæ„é€ å‡½æ•°å°±ä¼šè¿è¡Œå¹¶è¾“å‡ºä»¥ä¸Šæ•°æ®è¡Œã€‚å¯ä»¥éšæ„ä¿®æ”¹ä¸Šæ–¹çš„å­—æ®µè¡Œï¼Œç¥ä½ ç©å¾—å¼€å¿ƒã€‚

#### ğŸ˜²æˆ‘ä»¬å¦‚ä½•è¿è¡Œï¼Ÿ

å¤ªæ£’äº†â€”â€”æˆ‘ä»¬å·²ç»æœ‰ä¸€ä»½æ™ºèƒ½åˆçº¦ï¼ä½†æ˜¯ï¼Œæˆ‘ä»¬è¿˜ä¸çŸ¥é“å®ƒæ˜¯å¦æœ‰æ•ˆã€‚å®é™…ä¸Šæˆ‘ä»¬éœ€è¦ï¼š

1. ç¼–è¯‘å®ƒã€‚
2. å°†å…¶éƒ¨ç½²åˆ°æˆ‘ä»¬çš„æœ¬åœ°åŒºå—é“¾ã€‚
3. ä¸€æ—¦å‡†å¤‡å°±ç»ªï¼Œ`console.log`å°±ä¼šè¿è¡Œã€‚

æˆ‘ä»¬åªéœ€è¦ç¼–å†™ä¸€ä¸ªè‡ªå®šä¹‰è„šæœ¬æ¥å®Œæˆä»¥ä¸Šä¸‰ä¸ªæ­¥éª¤ã€‚

è¿›å…¥ `scripts` ç›®å½•å¹¶åˆ›å»ºä¸€ä¸ªåä¸º `run.js` çš„æ–‡ä»¶ï¼Œä¸‹é¢æ˜¯ `run.js` çš„å†…å®¹ï¼š

```javascript
const main = async () => {
  const nftContractFactory = await hre.ethers.getContractFactory('MyEpicNFT');
  const nftContract = await nftContractFactory.deploy();
  await nftContract.deployed();
  console.log("Contract deployed to:", nftContract.address);
};

const runMain = async () => {
  try {
    await main();
    process.exit(0);
  } catch (error) {
    console.log(error);
    process.exit(1);
  }
};

runMain();
```

#### ğŸ¤”å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„?

*æ³¨æ„:VSCodeå¯èƒ½ä¼šè‡ªåŠ¨å¯¼å…¥`ethersåº“`ï¼Œæ— éœ€æ‰‹åŠ¨ã€‚*

æˆ‘ä»¬è¿˜æ˜¯é€è¡Œæ¥åˆ†æã€‚

```javascript
const nftContractFactory = await hre.ethers.getContractFactory("MyEpicNFT");
```

è¿™å®é™…ä¸Šä¼šç¼–è¯‘æˆ‘ä»¬çš„åˆçº¦ï¼Œå¹¶åœ¨`artifacts`ç›®å½•ä¸‹ç”Ÿæˆæˆ‘ä»¬ä½¿ç”¨åˆçº¦çš„å¿…è¦æ–‡ä»¶ã€‚åœ¨ä½ è¿è¡Œä¹‹åå»çœ‹çœ‹å§:)ã€‚

```javascript
const nftContract = await nftContractFactory.deploy();
```

è¿™æ˜¯çœŸçš„å¾ˆç¥å¥‡ã€‚

ç°åœ¨çš„æƒ…å†µæ˜¯ï¼Œ`Hardhat`å°†ä¸ºæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæœ¬åœ°Ethereumç½‘ç»œï¼Œä½†ä»…ä»…åªæ˜¯ä¸ºäº†è¿è¡Œè¿™ä¸ªåˆçº¦ã€‚ç„¶åï¼Œè„šæœ¬å®Œæˆåï¼Œå®ƒä¼šæ’¤é”€æœ¬åœ°ç½‘ç»œã€‚æ¯æ¬¡è¿è¡Œåˆçº¦ï¼Œå®ƒéƒ½æ˜¯ä¸€ä¸ªæ–°çš„åŒºå—é“¾ã€‚è¿™æœ‰ä»€ä¹ˆæ„ä¹‰ï¼Ÿè¿™æœ‰ç‚¹åƒæ¯æ¬¡é‡ç½®ä½ çš„æœ¬åœ°æœåŠ¡å™¨ï¼Œæ‰€ä»¥ä½ æ€»æ˜¯ä»å¤´å¼€å§‹ï¼Œè¿™ä½¿å¾—è°ƒè¯•é”™è¯¯å˜å¾—å¾ˆå®¹æ˜“ã€‚

```javascript
await nftContract.deployed();
```

æˆ‘ä»¬éœ€è¦ç­‰å¾…æˆ‘ä»¬çš„åˆçº¦è¢«æ­£å¼é‡‡ç”¨å¹¶éƒ¨ç½²åˆ°æœ¬åœ°åŒºå—é“¾ï¼æ²¡é”™ï¼Œhardhat å®é™…ä¸Šæ˜¯åœ¨ä½ çš„æœºå™¨ä¸Šåˆ›å»ºäº†è™šæ‹Ÿçš„â€œçŸ¿å·¥â€ï¼Œä»¥å°½é‡æ¨¡ä»¿çœŸå®çš„åŒºå—é“¾ã€‚

æˆ‘ä»¬çš„`æ„é€ å‡½æ•°`ä¼šåœ¨æˆ‘ä»¬å®Œæˆéƒ¨ç½²æ—¶è¿è¡Œï¼

```javascript
console.log("Contract deployed to:", nftContract.address);
```

æœ€åï¼Œä¸€æ—¦å®ƒè¢«éƒ¨ç½²ï¼Œ`nftContract.address` ä¸€èˆ¬ä¼šä¸ºæˆ‘ä»¬æä¾›å·²éƒ¨ç½²åˆçº¦çš„åœ°å€ã€‚è¿™ä¸ªåœ°å€æ˜¯æˆ‘ä»¬å¯ä»¥åœ¨åŒºå—é“¾ä¸Šé¢çœŸå®æ‰¾åˆ°çš„çš„åˆçº¦ï¼Œä½†ç°åœ¨åªæ˜¯éƒ¨ç½²åœ¨æˆ‘ä»¬è‡ªå·±çš„æœ¬åœ°åŒºå—é“¾ä¸Šã€‚æ‰€ä»¥ï¼Œè¿™å¹¶ä¸æ˜¯é‚£ä¹ˆé…·ã€‚

ä½†æ˜¯ï¼ŒçœŸå®çš„åŒºå—é“¾ä¸Šæœ‰æ•°ç™¾ä¸‡ä¸ªåˆçº¦ã€‚æ‰€ä»¥ï¼Œè¿™ä¸ªåœ°å€è®©æˆ‘ä»¬å¯ä»¥è½»æ¾è®¿é—®æˆ‘ä»¬æ„Ÿå…´è¶£çš„åˆçº¦ï¼å½“æˆ‘ä»¬åœ¨åç»­çš„è¯¾ç¨‹éƒ¨ç½²åˆ°çœŸå®çš„åŒºå—é“¾æ—¶ï¼Œè¿™ä¼šæ´¾ä¸Šç”¨åœºã€‚

#### ğŸ’¨è¿è¡Œé¡¹ç›®

åœ¨è¿è¡Œæ­¤ä¹‹å‰ï¼Œè¯·åŠ¡å¿…å°† `hardhat.config.js` ä¸­çš„ `solidity: "0.8.4",` æ›´æ”¹ä¸º `solidity: "0.8.17",`ã€‚

ç„¶åç»§ç»­è¿è¡Œï¼æ‰“å¼€ä½ çš„ç»ˆç«¯å¹¶è¿è¡Œï¼š

```bash
npx hardhat run scripts/run.js
```

ä½ åº”è¯¥çœ‹åˆ°ä½ çš„ `console.log` ä»åˆçº¦ä¸­è¿è¡Œï¼Œç„¶åä½ è¿˜åº”è¯¥çœ‹åˆ°è¾“å‡ºçš„åˆçº¦åœ°å€ï¼ï¼ï¼

è¿™æ˜¯æˆ‘çœ‹åˆ°çš„ï¼š

![](https://hicoldcat.oss-cn-hangzhou.aliyuncs.com/img/20221210110224.png)

#### ğŸ©Hardhat & HRE

åœ¨è¿™äº›ä»£ç å—ä¸­ï¼Œæ‚¨ä¼šç»å¸¸æ³¨æ„åˆ°æˆ‘ä»¬ä½¿ç”¨äº† `hre.ethers`ï¼Œä½†æ˜¯ `hre` ä»æ¥æ²¡æœ‰å¯¼å…¥è¿‡ä»»ä½•åœ°æ–¹ï¼Ÿè¿™æ˜¯ä»€ä¹ˆç±»å‹çš„é­”æ³•ï¼Ÿ

ç›´æ¥ä» Hardhat æ–‡æ¡£æœ¬èº«ï¼Œæ‚¨ä¼šæ³¨æ„åˆ°è¿™ä¸€ç‚¹ï¼š

> Hardhat è¿è¡Œæ—¶çš„ç¯å¢ƒï¼Œç®€ç§° HREï¼Œæ˜¯ä¸€ä¸ªåŒ…å« Hardhat åœ¨è¿è¡Œä»»åŠ¡ã€æµ‹è¯•æˆ–è„šæœ¬æ—¶å…¬å¼€çš„æ‰€æœ‰åŠŸèƒ½çš„å¯¹è±¡ã€‚å®é™…ä¸Šï¼ŒHardhat å°±æ˜¯ HREã€‚

é‚£ä¹ˆè¿™æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿå¥½å§ï¼Œæ¯æ¬¡è¿è¡Œä»¥`npx hardhat`å¼€å¤´çš„ç»ˆç«¯å‘½ä»¤æ—¶ï¼Œæ‚¨éƒ½ä¼šä½¿ç”¨ä»£ç ä¸­æŒ‡å®šçš„`hardhat.config.j` å³æ—¶æ„å»ºè¿™ä¸ª `hre` å¯¹è±¡ï¼è¿™æ„å‘³ç€æ‚¨æ°¸è¿œä¸å¿…å®é™…å¯¹æ–‡ä»¶è¿›è¡ŒæŸç§å¯¼å…¥ï¼Œä¾‹å¦‚ï¼š

```
const hardhat = require("hardhat")
```

**ä½ ä¼šåœ¨æˆ‘ä»¬çš„ä»£ç ä¸­çœ‹åˆ°å¾ˆå¤š `hre`ï¼Œä½†ä»æœªå¯¼å…¥ä»»ä½•åœ°æ–¹ï¼æŸ¥çœ‹è¿™ä¸ªå¾ˆæ£’çš„ [Hardhat æ–‡æ¡£](https://hardhat.org/advanced/hardhat-runtime-environment.html?utm_source=buildspace.so&utm_medium=buildspace_project) ä»¥äº†è§£æ›´å¤šä¿¡æ¯ï¼**

### ğŸ’åˆ›å»ºä¸€ä¸ªé“¸é€  NFT çš„åˆçº¦

*æ³¨æ„:è¿™èŠ‚è¯¾æ¯”ä»¥å¾€å…¶ä»–è¯¾ç¨‹è¦é•¿ä¸€ç‚¹!*

ç°åœ¨æˆ‘ä»¬å·²ç»å‡†å¤‡å¥½äº†æ‰€æœ‰çš„è„šæœ¬å¹¶æŒæ¡äº†ç›¸å…³åŸºç¡€çŸ¥è¯†ï¼Œæˆ‘ä»¬å°†åˆ¶ä½œä¸€äº›NFTã€‚è¿™æ˜¯æˆ‘æ›´æ–°åçš„ `MyEpicNFT.sol` æ–‡ä»¶å†…å®¹ï¼š

```solidity
// SPDX-License-Identifier: UNLICENSED

pragma solidity ^0.8.17;

// We first import some OpenZeppelin Contracts.
import "@openzeppelin/contracts/token/ERC721/ERC721.sol";
import "@openzeppelin/contracts/utils/Counters.sol";
import "hardhat/console.sol";

// We inherit the contract we imported. This means we'll have access
// to the inherited contract's methods.
contract MyEpicNFT is ERC721 {
  // Magic given to us by OpenZeppelin to help us keep track of tokenIds.
  using Counters for Counters.Counter;
  Counters.Counter private _tokenIds;

  // We need to pass the name of our NFTs token and its symbol.
  constructor() ERC721 ("SquareNFT", "SQUARE") {
    console.log("This is my NFT contract. Woah!");
  }

  // A function our user will hit to get their NFT.
  function makeAnEpicNFT() public {
     // Get the current tokenId, this starts at 0.
    uint256 newItemId = _tokenIds.current();

     // Actually mint the NFT to the sender using msg.sender.
    _safeMint(msg.sender, newItemId);
    
    // Return the NFT's metadata
    tokenURI(newItemId);

    // Increment the counter for when the next NFT is minted.
    _tokenIds.increment();
  }

  // Set the NFT's metadata
  function tokenURI(uint256 _tokenId) public view override returns (string memory) {
    require(_exists(_tokenId));
    return "blah";
  }
}
```

è¿™é‡Œå‘ç”Ÿäº†å¾ˆå¤šäº‹æƒ…ã€‚é¦–å…ˆï¼Œå½“æˆ‘å£°æ˜åˆçº¦æ—¶ï¼Œæ‚¨ä¼šçœ‹åˆ°æˆ‘ä½¿ç”¨ `is ERC721`**ç»§æ‰¿**äº†ä¸€ä¸ª OpenZeppelin åˆçº¦ã€‚æ‚¨å¯ä»¥åœ¨ [æ­¤å¤„](https://solidity-by-example.org/inheritance/?utm_source=buildspace.so&utm_medium=buildspace_project) æŸ¥é˜…æ›´å¤šå…³äº**ç»§æ‰¿**çš„ä¿¡æ¯ã€‚ä½†åŸºæœ¬ä¸Šï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥ä»æˆ‘ä»¬çš„åˆçº¦ä¸­è°ƒç”¨å…¶ä»–åˆçº¦ï¼Œå·®ä¸å¤šå°±æ˜¯å¯¼å…¥å‡½æ•°ä¾›æˆ‘ä»¬è‡ªå·±ä½¿ç”¨äº†ï¼

NFT æ ‡å‡†è¢«ç§°ä¸º `ERC721`ï¼Œæ‚¨å¯ä»¥åœ¨ [æ­¤å¤„](https://eips.ethereum.org/EIPS/eip-721?utm_source=buildspace.so&utm_medium=buildspace_project) é˜…è¯»ä¸€äº›ç›¸å…³å†…å®¹ã€‚OpenZeppelin æœ¬è´¨ä¸Šä¸ºæˆ‘ä»¬å®ç°äº† NFT æ ‡å‡†ï¼Œç„¶åè®©æˆ‘ä»¬åœ¨å…¶ä¹‹ä¸Šç¼–å†™è‡ªå·±çš„é€»è¾‘ä»¥å¯¹å…¶è¿›è¡Œè‡ªå®šä¹‰ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬ä¸éœ€è¦ç¼–å†™æ ·æ¿ä»£ç ã€‚

ä»å¤´å¼€å§‹ç¼–å†™HTTPæœåŠ¡å™¨è€Œä¸ä½¿ç”¨æ ·æ¿åº“æ˜¯å¾ˆç–¯ç‹‚çš„ï¼Œå¯¹å§? å½“ç„¶ï¼Œé™¤éä½ æƒ³æ¢ç´¢ä¸€ä¸‹,å“ˆå“ˆã€‚ä½†æˆ‘ä»¬åªæƒ³å°½å¿«å¼€å§‹å·¥ä½œã€‚

åŒæ ·â€”â€”ä»å¤´å¼€å§‹ç¼–å†™ NFT åˆçº¦æ˜¯å¾ˆç–¯ç‹‚çš„ï¼æ‚¨å¯ä»¥æ¢ç´¢æˆ‘ä»¬ä» [æ­¤å¤„](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/master/contracts/token/ERC721/ERC721.sol?utm_source=buildspace.so&utm_medium=buildspace_project) ç»§æ‰¿çš„â€œERC721â€åˆçº¦ã€‚

è®©æˆ‘ä»¬é€šè¿‡ `makeAnEpicNFT` å‡½æ•°é€æ­¥äº†è§£å®ƒã€‚

```solidity
uint256 newItemId = _tokenIds.current();
```

`_tokenIds`æ˜¯ä»€ä¹ˆé¬¼?è¿˜è®°å¾—æ¯•åŠ ç´¢çš„ä¾‹å­å—?ä»–æœ‰ 100 ä¸ª NFT è‰å›¾ï¼Œå‘½åä¸º Sketch #1ã€Sketch #2ã€Sketch #3 ç­‰ã€‚è¿™äº›éƒ½æ˜¯å”¯ä¸€æ ‡è¯†ç¬¦ã€‚

åŒæ ·ï¼Œæˆ‘ä»¬ä½¿ç”¨ `_tokenIds` æ¥è·Ÿè¸ª NFT çš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œå®ƒåªæ˜¯ä¸€ä¸ªæ•°å­—ï¼å½“æˆ‘ä»¬å£°æ˜ `private _tokenIds` æ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨åˆå§‹åŒ–ä¸º `0`ã€‚ å› æ­¤ï¼Œå½“æˆ‘ä»¬ç¬¬ä¸€æ¬¡è°ƒç”¨ `makeAnEpicNFT` æ—¶ï¼Œ`newItemId` ä¸º `0`ã€‚å½“æˆ‘ä»¬å†æ¬¡è¿è¡Œæ—¶ï¼Œ`newItemId` å°†ä¸º `1`ï¼Œä¾æ­¤ç±»æ¨ï¼

`_tokenIds` æ˜¯ä¸€ä¸ª**çŠ¶æ€å˜é‡**ï¼Œè¿™æ„å‘³ç€å¦‚æœæˆ‘ä»¬æ›´æ”¹å®ƒï¼Œè¯¥å€¼å°†ç›´æ¥å­˜å‚¨åœ¨åˆçº¦ä¸­ã€‚

```solidity
_safeMint(msg.sender, newItemId);
```

å½“æˆ‘ä»¬æ‰§è¡Œ `_safeMint(msg.sender, newItemId) `æ—¶ï¼Œå®ƒå‡ ä¹æ˜¯åœ¨è¯´ï¼šâ€œå°† ID ä¸º `newItemId` çš„ NFT é“¸é€ ç»™åœ°å€ä¸º `msg.sender` çš„ç”¨æˆ·â€ã€‚ åœ¨è¿™é‡Œï¼Œ`msg.sender` æ˜¯ä¸€ä¸ªç”±[Solidityæä¾›](https://docs.soliditylang.org/en/develop/units-and-global-variables.html#block-and-transaction-properties?utm_source=buildspace.so&utm_medium=buildspace_project)çš„å˜é‡ï¼Œè®©æˆ‘ä»¬å¯ä»¥è½»æ¾è®¿é—®è°ƒç”¨åˆçº¦çš„äººçš„**å…¬å…±åœ°å€**ã€‚

è¿™é‡Œæœ€æ£’çš„æ˜¯ï¼Œè¿™æ˜¯ä¸€ç§è·å–ç”¨æˆ·å…¬å…±åœ°å€**è¶…çº§å®‰å…¨çš„æ–¹æ³•**ã€‚å°†å…¬å…±åœ°å€è‡ªèº«ä¿å¯†ä¸æ˜¯é—®é¢˜ï¼Œè¿™å·²ç»å…¬å¼€äº†ï¼ï¼ ä½†æ˜¯ï¼Œé€šè¿‡ä½¿ç”¨ `msg.sender` ä½ ä¸èƒ½â€œä¼ªé€ â€åˆ«äººçš„å…¬å…±åœ°å€ï¼Œé™¤éä½ æœ‰ä»–ä»¬çš„é’±åŒ…å‡­è¯å¹¶ä»£è¡¨ä»–ä»¬è°ƒç”¨åˆçº¦ï¼

**ä½ ä¸èƒ½åŒ¿åè°ƒç”¨åˆçº¦**ï¼Œä½ éœ€è¦è¿æ¥ä½ çš„é’±åŒ…ã€‚ è¿™å‡ ä¹å°±åƒâ€œç™»å½•â€å¹¶é€šè¿‡èº«ä»½éªŒè¯ã€‚

```solidity
_tokenIds.increment();
```

ç„¶åï¼Œæˆ‘ä»¬é‡å†™ `ERC721.sol` ä¸­çš„`tokenURI()`å‡½æ•°ï¼Œè¯¥å‡½æ•°å°†è®¾ç½® NFT çš„å”¯ä¸€æ ‡è¯†ç¬¦ä»¥åŠä¸è¯¥æ ‡è¯†ç¬¦ç›¸å…³è”çš„æ•°æ®ã€‚ä»å­—é¢ä¸Šçœ‹ï¼Œæ˜¯æˆ‘ä»¬è®¾ç½®äº†ä½¿ NFT æœ‰ä»·å€¼çš„å®é™…æ•°æ®ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å°†å…¶è®¾ç½®ä¸º`blah`ï¼Œè¿™â€¦â€¦å…¶å®æ²¡ä»€ä¹ˆä»·å€¼ï¼›ï¼‰ã€‚ å®ƒä¹Ÿä¸éµå¾ª `ERC721` çš„æ ‡å‡†ã€‚ æˆ‘ä»¬ç¨åä¼šè¯¦ç»†ä»‹ç» `tokenURI`ã€‚

```solidity
function tokenURI(uint256 _tokenId) public view override returns (string memory);
```

NFT ç”Ÿæˆåï¼Œæˆ‘ä»¬ä½¿ç”¨ `_tokenIds.increment()` å¢åŠ  `tokenIds`ï¼ˆè¿™æ˜¯ OpenZeppelin ç»™æˆ‘ä»¬çš„ä¸€ä¸ªå‡½æ•°ï¼‰ã€‚ å¯ç¡®ä¿ä¸‹æ¬¡é“¸é€  NFT æ—¶ï¼Œå…·æœ‰ä¸åŒçš„`tokenIds`æ ‡è¯†ç¬¦ã€‚æ²¡æœ‰äººå¯ä»¥æ‹¥æœ‰å·²ç»é“¸é€ çš„`tokenIds`ã€‚

#### ğŸŸåœ¨æœ¬åœ°ç”Ÿæˆ`tokenURI`

`tokenURI` å®é™… NFT æ•°æ®æ‰€åœ¨çš„ä½ç½®ã€‚å®ƒé€šå¸¸**é“¾æ¥**åˆ°ä¸€ä¸ªåä¸º`å…ƒæ•°æ®`çš„ JSON æ–‡ä»¶ï¼Œçœ‹èµ·æ¥åƒè¿™æ ·ï¼š

```bash
{
    "name": "Spongebob Cowboy Pants",
    "description": "A silent hero. A watchful protector.",
    "image": "https://i.imgur.com/v7U019j.png"
}
```

æ‚¨å¯ä»¥å¯¹å…¶è¿›è¡Œè‡ªå®šä¹‰ï¼Œä½†æ˜¯ï¼Œå‡ ä¹æ¯ä¸ª NFT éƒ½æœ‰åå­—ã€æè¿°ä»¥åŠæŒ‡å‘è§†é¢‘ã€å›¾åƒç­‰å†…å®¹çš„é“¾æ¥ã€‚å®ƒç”šè‡³å¯ä»¥å…·æœ‰è‡ªå®šä¹‰å±æ€§ï¼è¯·æ³¨æ„å…ƒæ•°æ®çš„ç»“æ„ï¼Œå¦‚æœæ‚¨çš„ç»“æ„ä¸ç¬¦åˆ [OpenSea è¦æ±‚](https://docs.opensea.io/docs/metadata-standards?utm_source=buildspace.so&utm_medium=buildspace_project)ï¼Œæ‚¨çš„ NFT å°†åœ¨ç½‘ç«™ä¸Šæ˜¾ç¤ºä¸ºæŸåã€‚

è¿™äº›éƒ½æ˜¯`ERC721`æ ‡å‡†çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒå…è®¸äººä»¬åœ¨éåŠŸèƒ½æ€§æ•°æ®çš„åŸºç¡€ä¸Šå»ºç«‹ç½‘ç«™ã€‚ä¾‹å¦‚ï¼Œ[OpenSea](https://testnets.opensea.io/?utm_source=buildspace.so&utm_medium=buildspace_project)æ˜¯ä¸€ä¸ªæŸ¥çœ‹ NFT çš„å¹³å°ã€‚è€Œä¸”ï¼ŒOpenSeaä¸Šçš„æ¯ä¸ªNFTéƒ½éµå¾ª`ERC721`å…ƒæ•°æ®æ ‡å‡†ï¼Œè¿™ä½¿å¾—äººä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°æŸ¥çœ‹ä»–ä»¬çš„NFTã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœæ¯ä¸ªäººéƒ½éµå¾ªä»–ä»¬è‡ªå·±çš„ NFT æ ‡å‡†ï¼Œå¹¶æŒ‰ç…§è‡ªå·±çš„æ„æ„¿æ„å»ºä»–ä»¬çš„å…ƒæ•°æ®ï¼Œé‚£å°†ä¼šæ˜¯ä¸€ç‰‡æ··ä¹±!

æˆ‘ä»¬å¯ä»¥å¤åˆ¶`Spongebob Cowboy Pants`çš„JSONå…ƒæ•°æ®ï¼Œå¹¶å°†å…¶ç²˜è´´åˆ°[è¿™ä¸ª](https://jsonkeeper.com/?utm_source=buildspace.so&utm_medium=buildspace_project)ç½‘ç«™ã€‚è¿™ä¸ªç½‘ç«™åªæ˜¯ä¸€ä¸ªæ–¹ä¾¿äººä»¬æ‰˜ç®¡JSONæ•°æ®çš„åœ°æ–¹ï¼Œç›®å‰æˆ‘ä»¬å°†ä½¿ç”¨å®ƒæ¥ä¿å­˜NFT æ•°æ®ã€‚å½“ä½ ç‚¹å‡»`ä¿å­˜`ï¼Œä½ ä¼šå¾—åˆ°ä¸€ä¸ªJSONæ–‡ä»¶çš„é“¾æ¥ï¼Œ(ä¾‹å¦‚ï¼Œæˆ‘çš„æ˜¯[`https://jsonkeeper.com/b/RUUS`](https://jsonkeeper.com/b/RUUS?utm_source=buildspace.so&utm_medium=buildspace_project)ã€‚ä¸€å®šè¦å…ˆæµ‹è¯•ä½ çš„é“¾æ¥ï¼Œç¡®ä¿å®ƒèƒ½æ­£å¸¸ä½¿ç”¨!

***æ³¨æ„:æˆ‘å¸Œæœ›ä½ åˆ›å»ºè‡ªå·±çš„JSONå…ƒæ•°æ®ï¼Œè€Œä¸åªæ˜¯å¤åˆ¶æˆ‘çš„ã€‚ä½¿ç”¨ä½ è‡ªå·±çš„å›¾ç‰‡ã€åå­—å’Œæè¿°ã€‚ä¹Ÿè®¸ä½ æƒ³è®©ä½ çš„NFTæ˜¯ä½ æœ€å–œæ¬¢çš„åŠ¨ç”»è§’è‰²ï¼Œæœ€å–œæ¬¢çš„ä¹é˜Ÿï¼Œæ— è®ºæ˜¯ä»€ä¹ˆ!!è®©å®ƒæˆä¸ºå®šåˆ¶å“ã€‚åˆ«æ‹…å¿ƒï¼Œæˆ‘ä»¬å°†æ¥ä¼šæ”¹å˜è¿™ä¸€ç‚¹!***

å¦‚æœæ‚¨å†³å®šä½¿ç”¨è‡ªå·±çš„å›¾ç‰‡ï¼Œè¯·ç¡®ä¿ URL ç›´æ¥æŒ‡å‘å®é™…å›¾ç‰‡ï¼Œè€Œä¸æ˜¯æ‰˜ç®¡å›¾ç‰‡çš„ç½‘ç«™ï¼ç›´æ¥çš„ Imgur é“¾æ¥çœ‹èµ·æ¥åƒè¿™æ · - `https://i.imgur.com/123123.png` è€Œä¸æ˜¯ `https://imgur.com/gallery/123123`ã€‚æœ€ç®€å•çš„åˆ¤æ–­æ–¹æ³•æ˜¯æ£€æŸ¥ URL æ˜¯å¦ä»¥å›¾åƒæ‰©å±•åç»“å°¾ï¼Œä¾‹å¦‚ `.png` æˆ– `.jpg`ã€‚æ‚¨å¯ä»¥å³é”®å•å‡» imgur å›¾ç‰‡å¹¶â€œå¤åˆ¶å›¾ç‰‡åœ°å€â€ï¼Œè¿™å°†ä¸ºæ‚¨æä¾›æ­£ç¡®çš„ URLã€‚

ç°åœ¨ï¼Œè®©æˆ‘ä»¬å‰å¾€æˆ‘ä»¬çš„æ™ºèƒ½åˆçº¦å¹¶æ›´æ”¹ `tokenURI()` ä¸­çš„ä¸€è¡Œã€‚æ›¿æ¢ï¼š

```solidity
return "blah";
```

æˆ‘ä»¬å®é™…ä¸Šè¦å°† URL è®¾ç½®ä¸ºæˆ‘ä»¬çš„ JSON æ–‡ä»¶é“¾æ¥ã€‚

```solidity
return "INSERT_YOUR_JSON_URL_HERE";
```

æˆ‘ä»¬è¿˜å¯ä»¥æ·»åŠ ä¸€ä¸ª `console.log` æ¥å¸®åŠ©æˆ‘ä»¬æŸ¥çœ‹ NFT çš„é“¸é€ æ—¶é—´å’Œé“¸é€ å¯¹è±¡ï¼

```solidity
console.log("An NFT w/ ID %s has been minted to %s", newItemId, msg.sender);
```

è¿™å°±æ˜¯æ‚¨çš„ `tokenURI` å‡½æ•°ç°åœ¨çš„æ ·å­ã€‚ `_exists` æ˜¯ä¸€ä¸ªå†…ç½®å‡½æ•°ï¼Œç”¨äºéªŒè¯åˆçº¦ä¸­æ˜¯å¦å­˜åœ¨ `tokenId`ã€‚ æ‚¨å¯ä»¥åœ¨ [æ­¤å¤„](https://docs.openzeppelin.com/contracts/3.x/api/token/erc721#ERC721-_exists-uint256-?utm_source=buildspace.so&utm_medium=buildspace_project)äº†è§£æ›´å¤šä¿¡æ¯ã€‚

```solidity
function tokenURI(uint256 _tokenId) public view override returns (string memory) {
  require(_exists(_tokenId));
  console.log("An NFT w/ ID %s has been minted to %s", _tokenId, msg.sender);
  return "INSERT_YOUR_JSON_URL_HERE";
}
```

#### ğŸ‰åœ¨æœ¬åœ°é“¸é€  NFT

ä»è¿™é‡Œå¼€å§‹ï¼Œæˆ‘ä»¬éœ€è¦åšçš„å°±æ˜¯æ›´æ”¹æˆ‘ä»¬çš„ `run.js` æ–‡ä»¶ä»¥çœŸå®è°ƒç”¨æˆ‘ä»¬çš„ `makeAnEpicNFT() `å‡½æ•°ã€‚

ä¸‹æ–¹ä»£ç å°±æ˜¯æˆ‘ä»¬éœ€è¦åšçš„æ‰€æœ‰äº‹æƒ…ï¼š

```javascript
const main = async () => {
  const nftContractFactory = await hre.ethers.getContractFactory('MyEpicNFT');
  const nftContract = await nftContractFactory.deploy();
  await nftContract.deployed();
  console.log("Contract deployed to:", nftContract.address);

  // Call the function.
  let txn = await nftContract.makeAnEpicNFT()
  // Wait for it to be mined.
  await txn.wait()

  // Mint another NFT for fun.
  txn = await nftContract.makeAnEpicNFT()
  // Wait for it to be mined.
  await txn.wait()

};

const runMain = async () => {
  try {
    await main();
    process.exit(0);
  } catch (error) {
    console.log(error);
    process.exit(1);
  }
};

runMain();
```

å½“æˆ‘ä»¬è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```bash
npx hardhat run scripts/run.js
```

æˆ‘ä»¬å°†çœ‹åˆ°ï¼š

![](https://hicoldcat.oss-cn-hangzhou.aliyuncs.com/img/20221210110400.png)

BOOMï¼æˆ‘ä»¬åˆšåˆšåœ¨æœ¬åœ°ç»™æˆ‘ä»¬è‡ªå·±é“¸é€ äº†ä¸€ä¸ª ID ä¸º`0`çš„ NFTï¼æ‰€ä»¥ï¼Œæˆ‘ä»¬çŸ¥é“ä»£ç æ˜¯å¯ä»¥æ­£å¸¸è¿è¡Œï¼Œæ²¡æœ‰ä»»ä½•é”™è¯¯ã€‚ ä»¤äººæƒŠå¹çš„æ‚¨æ€»æ˜¯å¸Œæœ›ä½¿ç”¨`run.js`ï¼Œä»¥ç¡®ä¿å†…å®¹åœ¨æœ¬åœ°è¿è¡Œè€Œä¸ä¼šå´©æºƒ,è¿™æ˜¯ä½ è‡ªå·±çš„å°å°è¯•éªŒåœºï¼

æ‰€ä»¥ï¼Œç°åœ¨æ¯æ¬¡æœ‰äººç”¨è¿™ä¸ªåŠŸèƒ½é“¸é€ ä¸€ä¸ª NFTï¼Œå®ƒæ€»æ˜¯åŒä¸€ä¸ª NFTâ€”â€”â€œSpongebob Cowboy Pantsâ€ï¼ æˆ‘ä»¬å°†åœ¨æ¥ä¸‹æ¥çš„éƒ¨åˆ†ä¸­å­¦ä¹ å¦‚ä½•æ”¹å˜è¿™ä¸€ç‚¹ï¼Œä»¥ä¾¿æ¯ä¸ªä¸æ‚¨ä¸€èµ·é“¸é€  NFT çš„äººéƒ½å°†è·å¾—ä¸€ä¸ªéšæœºçš„ã€ç‹¬ç‰¹çš„ NFTã€‚

ç°åœ¨ï¼Œè®©æˆ‘ä»¬è¿›å…¥ä¸‹ä¸€æ­¥â€”â€”éƒ¨ç½²åˆ°æµ‹è¯•ç½‘ã€‚

#### ğŸ‰éƒ¨ç½²åˆ°Goerliå¹¶åœ¨OpenSeaä¸ŠæŸ¥çœ‹

ç”±äºOpenSeaä¸æ”¯æŒGoerliï¼Œæˆ‘ä»¬å¿…é¡»å¯»æ‰¾æ›¿ä»£æ–¹æ¡ˆã€‚å½“éƒ¨ç½²åˆ°Goerliæ—¶ï¼Œæ‚¨å¯ä»¥ç™»å½•[OpenSea](https://testnets.opensea.io/?utm_source=buildspace.so&utm_medium=buildspace_project)æŸ¥çœ‹æ‚¨çš„ NFTã€‚å½“æˆ‘ä»¬ä½¿ç”¨ `run.js`æ—¶ï¼Œåªæ˜¯åœ¨æˆ‘ä»¬åœ¨æœ¬åœ°å·¥ä½œã€‚

ä¸‹ä¸€æ­¥æ˜¯æµ‹è¯•ç½‘ï¼Œæ‚¨å¯ä»¥å°†å…¶è§†ä¸ºâ€œå½©æ’â€æ¼”ç»ƒç¯å¢ƒã€‚å½“æˆ‘ä»¬éƒ¨ç½²åˆ°æµ‹è¯•ç½‘æ—¶ï¼Œæˆ‘ä»¬å®é™…ä¸Šèƒ½å¤Ÿ**åœ¨çº¿æŸ¥çœ‹æˆ‘ä»¬çš„ NFT**ï¼Œå¹¶ä¸”æˆ‘ä»¬è·ç¦»å°†å…¶æäº¤ç»™**çœŸå®ç”¨æˆ·æ›´è¿‘äº†ä¸€æ­¥ã€‚**

#### ğŸ’³äº¤æ˜“

å› æ­¤ï¼Œå½“æˆ‘ä»¬æƒ³è¦æ‰§è¡Œæ›´æ”¹åŒºå—é“¾çš„æ“ä½œæ—¶ï¼Œæˆ‘ä»¬å°†å…¶ç§°ä¸º*äº¤æ˜“*ã€‚ ä¾‹å¦‚ï¼Œå‘æŸäººå‘é€ ETH æ˜¯ä¸€ç¬”äº¤æ˜“ï¼Œå› ä¸ºæˆ‘ä»¬æ­£åœ¨æ›´æ”¹è´¦æˆ·ä½™é¢ã€‚ åœ¨æˆ‘ä»¬çš„åˆçº¦ä¸­åšä¸€äº›æ›´æ–°å˜é‡çš„äº‹æƒ…ä¹Ÿè¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªäº¤æ˜“ï¼Œå› ä¸ºæˆ‘ä»¬æ­£åœ¨æ”¹å˜æ•°æ®ã€‚é“¸é€  NFT æ˜¯ä¸€é¡¹äº¤æ˜“ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨åˆçº¦ä¸Šä¿å­˜äº†æ•°æ®ã€‚

**éƒ¨ç½²æ™ºèƒ½åˆçº¦ä¹Ÿæ˜¯ä¸€é¡¹äº¤æ˜“ã€‚**

è¯·è®°ä½ï¼ŒåŒºå—é“¾æ˜¯å»ä¸­å¿ƒåŒ–çš„ã€‚å®ƒä¸€ä¸ªæ˜¯ç”±ä¸–ç•Œå„åœ°çš„**çŸ¿å·¥**é€šè¿‡å¤§é‡è®¡ç®—æœºè¿è¡Œçš„åŒºå—é“¾å‰¯æœ¬ã€‚

å½“æˆ‘ä»¬éƒ¨ç½²åˆçº¦æ—¶ï¼Œæˆ‘ä»¬éœ€è¦å‘Šè¯‰**æ‰€æœ‰è¿™äº›**çŸ¿å·¥ï¼Œâ€œå˜¿ï¼Œè¿™æ˜¯ä¸€ä¸ªæ–°çš„æ™ºèƒ½åˆçº¦ï¼Œè¯·å°†æˆ‘çš„æ™ºèƒ½åˆçº¦æ·»åŠ åˆ°åŒºå—é“¾ï¼Œç„¶åä¹Ÿå‘Šè¯‰å…¶ä»–äººâ€ã€‚

è¿™å°±æ˜¯[QuickNode](https://www.quicknode.com/?utm_source=buildspace&utm_campaign=generic&utm_content=sign-up&utm_medium=buildspace)å‘æŒ¥ä½œç”¨çš„åœ°æ–¹ã€‚

QuickNodeåŸºæœ¬ä¸Šå¸®åŠ©æˆ‘ä»¬å¹¿æ’­æˆ‘ä»¬çš„åˆçº¦åˆ›å»ºäº¤æ˜“ï¼Œä»¥ä¾¿çŸ¿å·¥èƒ½å°½å¯èƒ½å¿«åœ°è·å–å®ƒã€‚ä¸€æ—¦äº¤æ˜“è¢«æŒ–æ˜ï¼Œå®ƒå°†ä½œä¸ºåˆæ³•äº¤æ˜“å¹¿æ’­åˆ°åŒºå—é“¾ã€‚ä»é‚£é‡Œï¼Œæ¯ä¸ªäººå¯ä»¥æ›´æ–°ä»–ä»¬çš„åŒºå—é“¾å‰¯æœ¬ã€‚

è¿™æ˜¯å¾ˆå¤æ‚çš„ã€‚è€Œä¸”ï¼Œå¦‚æœæ‚¨ä¸å®Œå…¨ç†è§£å®ƒï¼Œè¯·ä¸è¦æ‹…å¿ƒã€‚å½“æ‚¨è§è¯†è¿‡æ›´å¤šä»£ç å¹¶å®é™…æ„å»ºæ­¤åº”ç”¨ç¨‹åºæ—¶ï¼Œå®ƒè‡ªç„¶ä¼šæ›´æœ‰æ„ä¹‰ã€‚

æ‰€ä»¥ï¼Œåœ¨QuickNode[ è¿™é‡Œ ](https://www.quicknode.com/?utm_source=buildspace&utm_campaign=generic&utm_content=sign-up&utm_medium=buildspace)æ³¨å†Œä¸€ä¸ªå¸æˆ·ã€‚

ç„¶åçœ‹çœ‹æˆ‘ä¸‹é¢çš„è§†é¢‘ï¼Œå­¦ä¹ å¦‚ä½•è·å¾—æµ‹è¯•ç½‘çš„APIå¯†é’¥:

https://www.loom.com/share/c079028c612340e8b7439d0d2103a313

#### ğŸ•¸æµ‹è¯•ç½‘

æˆ‘ä»¬æš‚æ—¶ä¸ä¼šéƒ¨ç½²åˆ°â€œEthereumä¸»ç½‘â€ã€‚ ä¸ºä»€ä¹ˆï¼Ÿ å› ä¸ºå®ƒè¦èŠ±è´¹çœŸé‡‘ç™½é“¶ï¼Œä¸€æ—¦æç ¸å¾ˆä¸å€¼!æˆ‘ä»¬ç°åœ¨è¿˜åœ¨å­¦ä¹ ï¼Œæˆ‘ä»¬å°†ä»`æµ‹è¯•ç½‘`å¼€å§‹ï¼Œå®ƒæ˜¯`ä¸»ç½‘`çš„å…‹éš†ï¼Œä½†å®ƒä½¿ç”¨æµ‹è¯•å¸ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å°½å¯èƒ½å¤šåœ°æµ‹è¯•è¿™äº›å†…å®¹ã€‚ä½†æ˜¯ï¼Œé‡è¦çš„æ˜¯è¦çŸ¥é“æµ‹è¯•ç½‘æ˜¯ç”±çœŸå®çŸ¿å·¥è¿è¡Œå¹¶æ¨¡ä»¿â€œEthereumä¸»ç½‘â€ä¸–ç•Œçš„åœºæ™¯ã€‚

è¿™å¤ªæ£’äº†ï¼Œå› ä¸ºæˆ‘ä»¬å¯ä»¥åœ¨å®é™…åœºæ™¯ä¸­æµ‹è¯•æˆ‘ä»¬çš„dappï¼Œæˆ‘ä»¬å®é™…ä¸Šå°†è¦ï¼š

1. å¹¿æ’­æˆ‘ä»¬çš„äº¤æ˜“
2. ç­‰ç€è¢«çœŸå®çš„çŸ¿å·¥å‘ç°
3. ç­‰ç€å®ƒè¢«æŒ–å‡ºæ¥
4. ç­‰å¾…å®ƒè¢«å¹¿æ’­å›åŒºå—é“¾å‘Šè¯‰æ‰€æœ‰å…¶ä»–çŸ¿å·¥æ›´æ–°ä»–ä»¬çš„å‰¯æœ¬

#### ğŸ¤‘è·å–ä¸€äº›æµ‹è¯•å¸

Ethereumæœ‰å¾ˆå¤šæµ‹è¯•ç½‘ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨â€œGoerliâ€æµ‹è¯•ç½‘ï¼Œå®ƒç”±ä»¥å¤ªåŠåŸºé‡‘ä¼šè¿è¡Œçš„ã€‚

ä¸ºäº†éƒ¨ç½²åˆ° `Goerli`ï¼Œæˆ‘ä»¬éœ€è¦ç”¨åˆ°`GoerliETH`ã€‚ä¸ºä»€ä¹ˆï¼Ÿ å› ä¸ºå¦‚æœä½ è¦éƒ¨ç½²åˆ°Ethereumä¸»ç½‘ä¸Šï¼Œä½ è¦ç”¨åˆ°ä¸»ç½‘ETH ï¼ å› æ­¤ï¼Œæµ‹è¯•ç½‘å…‹éš†äº†ä¸»ç½‘çš„å·¥ä½œæ–¹å¼ï¼Œå”¯ä¸€çš„åŒºåˆ«æ˜¯ä¸æ¶‰åŠåˆ°çœŸé’±ã€‚

ä¸ºäº†è·å¾—æµ‹è¯•çš„ETHï¼Œæˆ‘ä»¬å¿…é¡»å‘ç½‘ç»œç´¢è¦ä¸€äº›ã€‚ **è¿™ä¸ªæµ‹è¯• ETH åªèƒ½åœ¨è¿™ä¸ªç‰¹å®šçš„æµ‹è¯•ç½‘ä¸Šå·¥ä½œ**ï¼Œä½ å¯ä»¥é€šè¿‡æ°´é¾™å¤´ä¸º Goerli è·å–ä¸€äº› æµ‹è¯•ETHã€‚ä½ åªéœ€è¦æ‰¾åˆ°ä¸€ä¸ªæœ‰æ•ˆçš„æ°´é¾™å¤´ï¼Œå“ˆå“ˆã€‚

å¯¹äº MyCryptoï¼Œæ‚¨éœ€è¦è¿æ¥æ‚¨çš„é’±åŒ…ï¼Œæ³¨å†Œä¸€ä¸ªå¸æˆ·ï¼Œç„¶åå†æ¬¡å•å‡»ç›¸åŒçš„é“¾æ¥ä»¥è¯·æ±‚èµ„é‡‘ã€‚Goerliå®˜æ–¹æ°´é¾™å¤´ï¼Œéœ€è¦ç™»å½• Alchemy è´¦æˆ·ï¼Œå¯ä»¥è·å¾—2å€çš„æ•°é‡ã€‚

ä½ å¯ä»¥ä»ä¸‹é¢é€‰æ‹©æ°´é¾™å¤´ç½‘å€ï¼š

| ç½‘ç«™            | ç½‘å€                                                         | æ•°é‡ | æ—¶é—´é™åˆ¶ |
| --------------- | ------------------------------------------------------------ | ---- | -------- |
| MyCrypto        | [https://app.mycrypto.com/faucet](https://app.mycrypto.com/faucet?utm_source=buildspace.so&utm_medium=buildspace_project) | 0.01 | None     |
| Official Goerli | [https://goerlifaucet.com/](https://goerlifaucet.com/?utm_source=buildspace.so&utm_medium=buildspace_project) | 0.25 | 24 Hours |
| Chainlink       | [https://faucets.chain.link/goerli](https://faucets.chain.link/goerli?utm_source=buildspace.so&utm_medium=buildspace_project) | 0.1  | None     |

#### ğŸš€è®¾ç½®`deploy.js`æ–‡ä»¶

å°† `deploy.js` ä¸ `run.js` åˆ†å¼€æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å®è·µç»éªŒã€‚`run.js` æ˜¯æˆ‘ä»¬ç»å¸¸æç ¸çš„åœ°æ–¹ï¼Œæˆ‘ä»¬æƒ³æŠŠå®ƒä»¬åˆ†å¼€ã€‚åœ¨`scripts` æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º `deploy.js` çš„æ–‡ä»¶ã€‚å¤åˆ¶ `run.js` ä¸­çš„æ‰€æœ‰å†…å®¹åˆ°`deploy.js`ä¸­ã€‚ç°åœ¨ä»–ä»¬çš„å†…å®¹å®Œå…¨ä¸€æ ·äº†ï¼Œä¸è¿‡ï¼Œæˆ‘æ·»åŠ äº†ä¸€äº› `console.log` è¯­å¥ã€‚

```javascript
const main = async () => {
  const nftContractFactory = await hre.ethers.getContractFactory('MyEpicNFT');
  const nftContract = await nftContractFactory.deploy();
  await nftContract.deployed();
  console.log("Contract deployed to:", nftContract.address);

  // Call the function.
  let txn = await nftContract.makeAnEpicNFT()
  // Wait for it to be mined.
  await txn.wait()
  console.log("Minted NFT #1")

  txn = await nftContract.makeAnEpicNFT()
  // Wait for it to be mined.
  await txn.wait()
  console.log("Minted NFT #2")
};

const runMain = async () => {
  try {
    await main();
    process.exit(0);
  } catch (error) {
    console.log(error);
    process.exit(1);
  }
};

runMain();
```

#### ğŸ“ˆ éƒ¨ç½²åˆ° `Goerli` æµ‹è¯•ç½‘

æˆ‘ä»¬éœ€è¦ä¿®æ”¹æˆ‘ä»¬çš„ `hardhat.config.js` æ–‡ä»¶,æ‚¨å¯ä»¥åœ¨æ™ºèƒ½åˆçº¦é¡¹ç›®çš„æ ¹ç›®å½•ä¸­æ‰¾åˆ°å®ƒã€‚

```javascript
require("@nomicfoundation/hardhat-toolbox");
require("dotenv").config();

module.exports = {
  solidity: '0.8.17',
  networks: {
    goerli: {
      url: process.env.QUICKNODE_API_KEY_URL,
      accounts: [process.env.GOERLI_PRIVATE_KEY],
    },
  },
};
```

è¿™é‡Œæˆ‘ä»¬åŸºæœ¬ä¸Šæ˜¯åœ¨é…ç½®æˆ‘ä»¬çš„ `hardhat.config.js` æ¥å®‰å…¨ä½¿ç”¨æˆ‘ä»¬çš„`.env`å˜é‡ï¼Œå³**process.env.quicknode_api_key_url** & **process.env.GOERLI_PRIVATE_KEY**ã€‚æ‚¨ç°åœ¨éœ€è¦æ‰“å¼€ç»ˆç«¯å¹¶è¾“å…¥:

```
npm install dotenv
```

è¿™åŸºæœ¬ä¸Šåªæ˜¯å®‰è£…äº†å…è®¸æˆ‘ä»¬ä½¿ç”¨ç¯å¢ƒå˜é‡çš„ `dotenv` åŒ…ã€‚

ç°åœ¨æ‚¨å¯ä»¥åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ª **.env** æ–‡ä»¶ã€‚ å¯ä»¥è‚¯å®šçš„æ˜¯ï¼Œå®ƒåº”è¯¥ä¸åŒ…å« **hardhat.config.js** æ–‡ä»¶çš„è·¯å¾„ç›¸åŒ¹é…ã€‚

æ‚¨å¯ä»¥ä» QuickNode ä»ªè¡¨æ¿è·å– API URL å¹¶å°†å…¶ç²˜è´´ã€‚ç„¶åï¼Œæ‚¨éœ€è¦æ‚¨çš„**ç§é’¥**ï¼ˆä¸æ˜¯æ‚¨çš„å…¬å…±åœ°å€ï¼ï¼‰ï¼Œæ‚¨å¯ä»¥ä»[Meatmask](https://metamask.zendesk.com/hc/en-us/articles/360015289632-How-to-Export-an-Account-Private-Key?utm_source=buildspace.so&utm_medium=buildspace_project)ä¸­è·å–å¹¶å°†å…¶ç²˜è´´åˆ°ç›¸åº”ä½ç½®ã€‚

æ‰“å¼€ **.env** æ–‡ä»¶å¹¶ç²˜è´´æˆ‘ä»¬ä»`quicknode`ä¸­è·å–çš„çš„é“¾æ¥ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚

```
QUICKNODE_API_KEY_URL=<YOUR API URL>
GOERLI_PRIVATE_KEY=<YOUR PRIVATE KEY>
```

ä¸è¦å¿˜è®°åœ¨æ·»åŠ  `YOUR API URL`å’Œ `YOUR PRIVATE KEY`ğŸ”‘ååˆ é™¤ `<` `>` ã€‚

***æ³¨æ„:ä¸è¦æäº¤è¿™ä¸ªæ–‡ä»¶åˆ°GITHUBã€‚å®ƒåŒ…å«æ‚¨çš„ç§é’¥,ä½ å¯èƒ½ä¼šè¢«é»‘å®¢æŠ¢åŠ«,æ­¤ç§é’¥ä¸æ‚¨çš„ä¸»ç½‘ç§é’¥ç›¸åŒã€‚***

***æ‰“å¼€æ‚¨çš„`.gitignore`æ–‡ä»¶ï¼Œå¹¶åœ¨é‡Œé¢æ·»åŠ ä¸€è¡Œ`.env`ã€‚ï¼ˆå¦‚æœä¹‹å‰æ²¡æœ‰è¿™è¡Œä»£ç çš„è¯ï¼‰***

ä½ çš„`.gitignore`æ–‡ä»¶çœ‹èµ·åº”è¯¥æ˜¯è¿™ä¸ªæ ·å­ã€‚

```
node_modules
.env
coverage
coverage.json
typechain

#Hardhat files
cache
artifacts
```

ä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨ç§é’¥ï¼Ÿ å› ä¸ºä¸ºäº†æ‰§è¡Œåƒéƒ¨ç½²åˆçº¦è¿™æ ·çš„äº¤æ˜“ï¼Œæ‚¨éœ€è¦ `ç™»å½•` åˆ°åŒºå—é“¾å¹¶ç­¾ç½²/éƒ¨ç½²åˆçº¦ã€‚è€Œä¸”ï¼Œæ‚¨çš„ç”¨æˆ·åæ˜¯æ‚¨çš„å…¬å…±åœ°å€ï¼Œæ‚¨çš„å¯†ç æ˜¯æ‚¨çš„ç§é’¥ï¼Œè¿™æœ‰ç‚¹åƒç™»å½• AWS æˆ– GCP è¿›è¡Œéƒ¨ç½²ã€‚

ä¸€æ—¦æ‚¨å®Œæˆäº†é…ç½®ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨æˆ‘ä»¬ä¹‹å‰ç¼–å†™çš„`éƒ¨ç½²è„šæœ¬`è¿›è¡Œéƒ¨ç½²ã€‚

ä» `epic-nfts` çš„æ ¹ç›®å½•è¿è¡Œæ­¤å‘½ä»¤ï¼š

```bash
npx hardhat run scripts/deploy.js --network goerli
```

éƒ¨ç½²é€šå¸¸éœ€è¦20-40ç§’ã€‚æˆ‘ä»¬ä¸ä»…ä»…æ˜¯åœ¨éƒ¨ç½²ï¼Œæˆ‘ä»¬ä¹Ÿåœ¨ `deploy.js`ä¸­åˆ›å»ºNFTï¼Œæ‰€ä»¥è¿™ä¹Ÿéœ€è¦ä¸€äº›æ—¶é—´ã€‚æˆ‘ä»¬å®é™…ä¸Šéœ€è¦ç­‰å¾…äº¤æ˜“è¢«çŸ¿å·¥æŒ–æ˜ã€‚ç›¸å½“çš„ç¥å¥‡ï¼Œå°±è¿™ä¸€ä¸ªå‘½ä»¤å¯ä»¥åšåˆ°è¿™ä¸€åˆ‡!

å½“æˆ‘è¿è¡Œå‘½ä»¤ï¼Œå°†è¾“å‡ºå¦‚ä¸‹(å½“ç„¶ä½ çš„åˆçº¦åœ°å€åº”è¯¥ä¸ä¸€æ ·):

![](https://hicoldcat.oss-cn-hangzhou.aliyuncs.com/img/20221210110437.png)

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ [Goerli Etherscan](https://goerli.etherscan.io/?utm_source=buildspace.so&utm_medium=buildspace_project) æ¥æŸ¥çœ‹åˆçº¦åœ°å€å¹¶ç¡®ä¿ä»–åœ¨æ­£å¸¸çŠ¶æ€ï¼

è¦ä¹ æƒ¯ä½¿ç”¨ Etherscanï¼Œå› ä¸ºå®ƒæ˜¯è·Ÿè¸ªéƒ¨ç½²æ˜¯å¦å‡ºé”™çš„æœ€ç®€å•åŠæ³•ã€‚å¦‚æœEtherscanæ²¡æœ‰æ˜¾ç¤ºï¼Œé‚£å°±æ„å‘³ç€å®ƒè¦ä¹ˆè¿˜åœ¨å¤„ç†ï¼Œè¦ä¹ˆå°±æ˜¯å‡ºäº†é—®é¢˜!

å¦‚æœå®ƒæœ‰æ•ˆâ€”â€”å¤ªæ£’äº†ï¼Œä½ åˆšåˆšéƒ¨ç½²äº†ä¸€ä¸ªåˆçº¦! YESSSSã€‚

#### ğŸŒŠåœ¨OpenSeaä¸ŠæŸ¥çœ‹

ä¿¡ä¸ä¿¡ç”±ä½ ã€‚æ‚¨åˆšåˆšåˆ›å»ºçš„NFTå°†ä¼šå‡ºç°åœ¨OpenSeaçš„TestNetç«™ç‚¹ä¸Šã€‚

1. å‰å¾€[`https://testnets.opensea.io/`](https://testnets.opensea.io/?utm_source=buildspace.so&utm_medium=buildspace_project)
2. åˆ›å»ºæ­¤urlï¼š[`https://testnets.opensea.io/assets/goerli/æ›¿æ¢ä½ çš„åˆçº¦åœ°å€/TOKEN_ID`](https://testnets.opensea.io/assets/goerli/INSERT_DEPLOY_CONTRACT_ADDRESS_HERE/TOKEN_ID?utm_source=buildspace.so&utm_medium=buildspace_project)

ä¾‹å¦‚ï¼Œè¿™æ˜¯æˆ‘çš„Spongebob NFT é“¾æ¥ï¼š[https://testnets.opensea.io/assets/goerli/0x78d1e929cfc5256643b3cc67c50e2d7ec3580842/0](https://testnets.opensea.io/assets/goerli/0x78d1e929cfc5256643b3cc67c50e2d7ec3580842/0?utm_source=buildspace.so&utm_medium=buildspace_project) ï¼Œæˆ‘çš„`tokenId`æ˜¯'0'ï¼Œå› ä¸ºå®ƒæ˜¯è¯¥åˆçº¦é“¸é€ çš„ç¬¬ä¸€ä¸ªNFTã€‚

**åŸºæœ¬ä¸Šï¼Œå¦‚æœæ‚¨åœ¨å‡ åˆ†é’Ÿå†…æ²¡æœ‰åœ¨ OpenSea ä¸Šçœ‹åˆ°æ‚¨çš„ NFTï¼Œè¯·åˆ·æ–°é¡µé¢å¹¶å†ç­‰å¾… 15 åˆ†é’Ÿ**

![](https://hicoldcat.oss-cn-hangzhou.aliyuncs.com/img/20221210110454.png)

æ‰€ä»¥åœ¨è¿™é‡Œï¼Œä½ ç‚¹å‡»`Collection`ä¸‹çš„ `SquareNFT` ï¼Œç„¶åä½ ä¼šçœ‹åˆ°ä½ é“¸é€ çš„ NFTï¼

![](https://hicoldcat.oss-cn-hangzhou.aliyuncs.com/img/20221210110509.png)

éå¸¸äº†ä¸èµ·ï¼Œæˆ‘ä»¬å·²ç»åˆ›å»ºäº†è‡ªå·±çš„ NFT åˆçº¦*å¹¶*é“¸é€ äº†ä¸¤ä¸ªNFTã€‚è™½ç„¶è¿™æ˜¯å²è¯—çº§åˆ«çš„ï¼Œä½†å®ƒâ€œæœ‰ç‚¹è¹©è„šâ€ï¼Œå¯¹å§?æ¯æ¬¡éƒ½æ˜¯åŒæ ·çš„Spongebobå›¾ç‰‡!æˆ‘ä»¬å¦‚ä½•åœ¨æ­¤æ·»åŠ ä¸€äº›éšæœºæ€§å¹¶å¿«é€Ÿç”Ÿæˆå†…å®¹?è¿™å°±æ˜¯æˆ‘ä»¬æ¥ä¸‹æ¥è¦è®¨è®ºçš„é—®é¢˜:)ã€‚

#### ğŸ’»ä»£ç 

[æ­¤å¤„](https://gist.github.com/farzaa/483c04bd5929b92d6c4a194bd3c515a5?utm_source=buildspace.so&utm_medium=buildspace_project)æ˜¯åˆ°ç›®å‰ä¸ºæ­¢æ‰€æœ‰ä»£ç çš„é“¾æ¥ã€‚

> åŸæ–‡é“¾æ¥ï¼šhttps://buildspace.so/p/mint-nft-collection

![](https://hicoldcat.oss-cn-hangzhou.aliyuncs.com/img/profile.jpg)
