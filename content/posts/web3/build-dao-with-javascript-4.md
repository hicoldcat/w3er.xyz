---
title: Web3æ•™ç¨‹ï¼šä»…ä»…ä¸€ä¸ªå‘¨æœ«ï¼Œåªç”¨Javascriptå°±å¯ä»¥æ„å»ºå‡ºä½ è‡ªå·±çš„DAOï¼ˆ4ï¼‰
description: null
author: æç•™ç™½
weight: 0
date: 2022-11-06T14:52:40.676Z
lastmod: 2022-11-06T15:01:17.386Z
tags: []
categories:
  - åŒºå—é“¾
  - WEB3.0
featuredImage: https://hicoldcat.oss-cn-hangzhou.aliyuncs.com/img/202211032050628.png
---

### ç›®å½•

**ğŸ— å¼€å§‹**

- ğŸ¥‘ è®©æˆ‘ä»¬æ„å»ºä¸€äº›å¾ˆé…·çš„ä¸œè¥¿ã€‚
- ğŸ¤” ä»€ä¹ˆæ˜¯ DAOï¼Ÿ

**ğŸ’» ä¸º DAO è®¾ç½®å®¢æˆ·ç«¯åº”ç”¨ç¨‹åº**

- ğŸ›  è·å–å®¢æˆ·ç«¯ä»£ç  + è·å–è®¾ç½®ã€‚
- ğŸ‘œ å°†â€œè¿æ¥åˆ°é’±åŒ…â€æ·»åŠ åˆ°æ‚¨çš„ DAO ä»ªè¡¨æ¿ã€‚

**ğŸ˜ åˆ›å»ºä¼šå‘˜ NFT**
- ğŸŒˆ éƒ¨ç½²ä½ çš„ NFT åŒ…ã€‚
- ğŸ˜¤ éƒ¨ç½² NFT å…ƒæ•°æ®ã€‚
- ğŸ˜² è®©ç”¨æˆ·é“¸é€ ä½ çš„ NFTã€‚

**ğŸ’ åˆ›å»ºä»£å¸+æ²»ç†**

- ğŸ˜ˆ éƒ¨ç½² ERC-20 åˆçº¦ã€‚
- ğŸ˜‡ åœ¨ DAO Dashboard ä¸Šå±•ç¤ºä»£å¸æŒæœ‰è€…ã€‚
- ğŸ‘©â€âš–ï¸ å»ºåº“+æ²»ç†ã€‚
- âœ… è®©ç”¨æˆ·å¯¹ææ¡ˆè¿›è¡ŒæŠ•ç¥¨ã€‚

**ğŸŒŸæ”¶å°¾å·¥ä½œ**
- ğŸ¤  åˆ é™¤æ‚¨çš„ç®¡ç†å‘˜æƒé™å¹¶å¤„ç†åŸºæœ¬é”™è¯¯ã€‚
- ğŸ‰ å®Œæˆå¹¶åº†ç¥ã€‚



## ğŸ’ åˆ›å»ºä»£å¸+æ²»ç†

### ğŸ˜ˆ éƒ¨ç½² ERC-20 åˆçº¦

æˆ‘ä»¬çš„æˆå‘˜ç°åœ¨æœ‰ä¸€ä¸ª NFT æ¥è¯æ˜è‡ªå·±ä½œä¸ºæˆ‘ä»¬ DAO çš„æˆå‘˜ã€‚å¾ˆå¥½ã€‚è®©æˆ‘ä»¬æ›´è¿›ä¸€æ­¥ã€‚è®©æˆ‘ä»¬å®é™…åˆ›å»ºä¸€ä¸ªâ€œæ²»ç†ä»£å¸â€ç©ºæŠ•ç»™æˆ‘ä»¬çš„ä¼šå‘˜ã€‚

[ä½ å¯èƒ½è¿˜è®°å¾—è¿™é‡Œ](https://decrypt.co/85894/ethereum-name-service-market-cap-hits-1-billion-just-days-after-ens-airdrop?utm_source=buildspace.so&utm_medium=buildspace_project)çš„ ENS DAO æ²»ç†ä»£å¸ç©ºæŠ•ã€‚è¿™æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿ[ä¸ºä»€ä¹ˆâ€œæ²»ç†ä»£å¸â€ç°åœ¨](https://coinmarketcap.com/currencies/ethereum-name-service/?utm_source=buildspace.so&utm_medium=buildspace_project)å¸‚å€¼è¿‘åäº¿ç¾å…ƒï¼Ÿ

åŸºæœ¬ä¸Šï¼Œæ²»ç†ä»£å¸å…è®¸ç”¨æˆ·å¯¹ææ¡ˆè¿›è¡ŒæŠ•ç¥¨ã€‚ä¾‹å¦‚ï¼Œææ¡ˆå¯èƒ½ä¼šè¯´â€œæˆ‘å¸Œæœ› Naruto DAO å‘`0xf79a3bb8d5b93686c4068e2a97eaec5fe4843e7d`é’±åŒ…åœ°å€å‘é€ 100,000 ç¾å…ƒ HOKAGE ï¼Œä»¥æˆä¸ºå°Šè´µæˆå‘˜â€ã€‚ç„¶åï¼Œæˆå‘˜å°†å¯¹å…¶è¿›è¡ŒæŠ•ç¥¨ã€‚

æ‹¥æœ‰æ›´å¤šæ²»ç†ä»¤ç‰Œçš„ç”¨æˆ·æ›´å¼ºå¤§ã€‚é€šå¸¸ï¼Œä»£å¸ä¼šå¥–åŠ±ç»™å¸¦æ¥æœ€å¤§ä»·å€¼çš„ç¤¾åŒºæˆå‘˜ã€‚

ä¾‹å¦‚ï¼Œå¯¹äº ENS ç©ºæŠ•ï¼Œè·å¾—æœ€å¤šä»£å¸çš„äººæ˜¯æ ¸å¿ƒå¼€å‘å›¢é˜Ÿå’Œ Discord ä¸­çš„æ´»è·ƒç”¨æˆ·ã€‚ä½†æ˜¯ï¼Œæ ¹æ®æ‚¨æŒæœ‰ ENS åŸŸï¼ˆä¾‹å¦‚`farza.eth`ï¼‰çš„æ—¶é—´é•¿çŸ­ï¼Œæ‚¨ä¹Ÿä¼šæ”¶åˆ° ENS DAO ä»¤ç‰Œã€‚é¡ºä¾¿è¯´ä¸€å¥ï¼Œå¦‚æœæ‚¨ä¸çŸ¥é“çš„è¯ï¼Œä¸€ä¸ªENS åç§°å°±æ˜¯ä¸€ä¸ª NFTã€‚

å› æ­¤ï¼Œæ‚¨æ‹¥æœ‰æ­¤ NFT çš„æ—¶é—´è¶Šé•¿ï¼Œæ‚¨è·å¾—çš„ä»£å¸å°±è¶Šå¤šã€‚

ä¸ºä»€ä¹ˆï¼Ÿå› ä¸º ENS å›¢é˜Ÿå¸Œæœ›ç½‘ç»œçš„æ—©æœŸæ”¯æŒè€…å¾—åˆ°å¥–åŠ±ã€‚è¿™æ˜¯ä»–ä»¬çš„å…¬å¼ï¼š

![](https://hicoldcat.oss-cn-hangzhou.aliyuncs.com/img/202211062223474.png)

æˆ‘æƒ³è¯´æ˜çš„æ˜¯ï¼Œè¿™æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰çš„å…¬å¼ï¼ä½ çš„DAOä¹Ÿå¯ä»¥æœ‰ä¸€ä¸ªè‡ªå®šä¹‰çš„å…¬å¼ã€‚ä½ çš„DAOä¹Ÿå¯ä»¥æœ‰ä¸€ä¸ªè‡ªå®šä¹‰çš„å…¬å¼ã€‚ä¹Ÿè®¸ä½ è¿˜æƒ³æ ¹æ®äººä»¬æ‹¥æœ‰ä¼šå‘˜èµ„æ ¼NFTçš„æ—¶é—´é•¿çŸ­ï¼Œå¯¹ä½ çš„DAOä¸­çš„äººç»™äºˆæ›´å¤šå¥–åŠ±ã€‚è¿™ä¸€åˆ‡éƒ½å–å†³äºä½ ã€‚

### ğŸ¥µ éƒ¨ç½²ä½ çš„ä»£å¸

è®©æˆ‘ä»¬åˆ›å»ºå’Œéƒ¨ç½²æˆ‘ä»¬çš„ä»£å¸æ™ºèƒ½åˆçº¦ï¼å‰å¾€`scripts/5-deploy-token.js`å¹¶æ·»åŠ ï¼š

```jsx
import { AddressZero } from "@ethersproject/constants";
import sdk from "./1-initialize-sdk.js";

(async () => {
  try {
    // Deploy a standard ERC-20 contract.
    const tokenAddress = await sdk.deployer.deployToken({
      // What's your token's name? Ex. "Ethereum"
      name: "NarutoDAO Governance Token",
      // What's your token's symbol? Ex. "ETH"
      symbol: "HOKAGE",
      // This will be in case we want to sell our token,
      // because we don't, we set it to AddressZero again.
      primary_sale_recipient: AddressZero,
    });
    console.log(
      "âœ… Successfully deployed token contract, address:",
      tokenAddress,
    );
  } catch (error) {
    console.error("failed to deploy token contract", error);
  }
})();
```

æˆ‘ä»¬è°ƒç”¨`sdk.deployer.deployToken`ï¼Œä¸ºä½ éƒ¨ç½²ä¸€ä¸ªæ ‡å‡†çš„[ERC-20 ä»£](https://docs.openzeppelin.com/contracts/2.x/api/token/erc20?utm_source=buildspace.so&utm_medium=buildspace_project)å¸åˆçº¦ï¼Œè¿™æ˜¯ä»¥å¤ªåŠä¸Šæ‰€æœ‰å¤§é‡ä»£å¸æ‰€é‡‡ç”¨çš„æ ‡å‡†ã€‚ä½ éœ€è¦ç»™å®ƒçš„åªæ˜¯ä½ çš„ä»¤ç‰Œçš„`name`å’Œ`symbol`ï¼ç©å¾—å¼€å¿ƒï¼Œå½“ç„¶ä¸è¦æ¨¡ä»¿æˆ‘ã€‚æˆ‘å¸Œæœ›ä½ æ­£åœ¨æ„å»ºä¸€äº›ä½ è‡ªå·±è®¤ä¸ºå¾ˆé…·çš„ä¸œè¥¿ï¼

åœ¨è¿™é‡Œï¼Œæˆ‘ç»™æˆ‘çš„ä»¤ç‰Œç¬¦å· HOKAGEã€‚å¦‚æœä½ ä¸çŸ¥é“é‚£æ˜¯ä»€ä¹ˆâ€”â€”çœ‹çœ‹[è¿™ä¸ª](https://naruto.fandom.com/wiki/Hokage?utm_source=buildspace.so&utm_medium=buildspace_project)ï¼Œå“ˆå“ˆã€‚TLDRï¼šå¦‚æœä½ æ˜¯hokageï¼Œä½ å°±æ˜¯æœ‰å²ä»¥æ¥æœ€å¥½çš„å¿è€…ä¹‹ä¸€ã€‚

[é¡ºä¾¿è¯´ä¸€å¥â€”â€”ä½ å¯ä»¥åœ¨è¿™é‡Œ](https://github.com/thirdweb-dev/contracts/blob/main/contracts/token/TokenERC20.sol?utm_source=buildspace.so&utm_medium=buildspace_project)çœ‹åˆ° thirdweb ä½¿ç”¨çš„ç¡®åˆ‡åˆåŒã€‚

è¿™æ˜¯æˆ‘è¿è¡Œå®ƒæ—¶å¾—åˆ°çš„ç»“æœï¼š

```plaintext
buildspace-dao-starter % node scripts/5-deploy-token.js
ğŸ‘‹ SDK initialized by address: 0xF11D6862e655b5F4e8f62E00471261D2f9c7E380
âœ… Successfully deployed token contract, address: 0xF93B8AE0a84325D1d7Aa09593DCA3Ad5Fe868eA7
```

è½°ï¼å®ƒéƒ¨ç½²äº†ä¸€ä¸ªæ–°çš„ä»£å¸åˆçº¦ã€‚å¦‚æœæ‚¨å‰å¾€[`https://goerli.etherscan.io/`](https://goerli.etherscan.io/?utm_source=buildspace.so&utm_medium=buildspace_project)å¹¶æœç´¢ä»¤ç‰Œæ¨¡å—çš„åœ°å€ï¼Œæ‚¨å°†çœ‹åˆ°åˆšåˆšéƒ¨ç½²çš„åˆçº¦ã€‚åŒæ ·ï¼Œæ‚¨ä¼šçœ‹åˆ°å®ƒä»**æ‚¨çš„é’±åŒ…**ä¸­éƒ¨ç½²ï¼Œå› æ­¤**æ‚¨æ‹¥æœ‰å®ƒ**ã€‚

![](https://hicoldcat.oss-cn-hangzhou.aliyuncs.com/img/202211062223578.png)

æ‚¨ç”šè‡³å¯ä»¥å°†æ‚¨çš„ä»¤ç‰Œä½œä¸ºè‡ªå®šä¹‰ä»¤ç‰Œæ·»åŠ åˆ° Metamaskã€‚

åªéœ€å•å‡»â€œå¯¼å…¥ä»¤ç‰Œâ€ï¼š

![](https://hicoldcat.oss-cn-hangzhou.aliyuncs.com/img/202211062224038.png)

ç„¶åï¼Œç²˜è´´æ‚¨çš„ ERC-20 åˆçº¦åœ°å€ï¼Œæ‚¨å°†çœ‹åˆ° Metamask ç¥å¥‡åœ°è‡ªåŠ¨æŠ“å–æ‚¨çš„ä»£å¸ç¬¦å·ï¼š

![](https://hicoldcat.oss-cn-hangzhou.aliyuncs.com/img/202211062224000.png)

ç„¶åï¼Œå›åˆ°ä½ çš„é’±åŒ…ï¼Œå‘ä¸‹æ»šåŠ¨ï¼Œç„¶åå¯ä»¥äº†ï¼

![](https://hicoldcat.oss-cn-hangzhou.aliyuncs.com/img/202211062224252.png)

æ‚¨æ­£å¼æ‹¥æœ‰è‡ªå·±çš„ä»¤ç‰Œ:)ã€‚

### ğŸ’¸ åˆ›å»ºä½ çš„ä»£å¸ä¾›åº”

ç›®å‰ï¼Œ**å¯ä¾›äººä»¬ç´¢å–çš„ä»£å¸ä¸ºé›¶ã€‚**æˆ‘ä»¬çš„ ERC-20 åˆçº¦å¹¶ä¸çŸ¥é“æœ‰å¤šå°‘ä»£å¸å¯ç”¨ã€‚æˆ‘ä»¬å¿…é¡»å‘Šè¯‰å®ƒï¼

å‰å¾€`6-print-money.js`å¹¶æ·»åŠ ï¼š

```jsx
import sdk from "./1-initialize-sdk.js";

(async () => {
  try {
    // This is the address of our ERC-20 contract printed out in the step before.
    const token = await sdk.getContract("INSERT_TOKEN_ADDRESS", "token");
    // What's the max supply you want to set? 1,000,000 is a nice number!
    const amount = 1_000_000;
    // Interact with your deployed ERC-20 contract and mint the tokens!
    await token.mint(amount);
    const totalSupply = await token.totalSupply();

    // Print out how many of our token's are out there now!
    console.log("âœ… There now is", totalSupply.displayValue, "$HOKAGE in circulation");
  } catch (error) {
    console.error("Failed to print money", error);
  }
})();
```

è¯·è®°ä½ï¼Œæ­¤å¤„æ’å…¥çš„åœ°å€æ˜¯æ‚¨çš„**ä»£å¸åˆçº¦åœ°å€**ã€‚å¦‚æœæ‚¨è¾“å…¥é”™è¯¯çš„åœ°å€ï¼Œæ‚¨å¯èƒ½ä¼šæ”¶åˆ°ç±»ä¼¼è¿™æ ·çš„é”™è¯¯ï¼šâ€œUNPREDICTABLE_GAS_LIMITâ€ã€‚

åŒæ ·ï¼Œå¦‚æœä½ ä¸¢å¤±äº†è¿™ä¸ªåœ°å€ï¼Œä½ å¯ä»¥å‚è€ƒä½ å¾ˆé…·çš„[thirdwebä»ªè¡¨æ¿ï¼](https://thirdweb.com/dashboard?utm_source=buildspace&utm_medium=buildspace_project)æ‚¨ç°åœ¨åº”è¯¥çœ‹åˆ°ä»£å¸åˆçº¦å·²ç»éƒ¨ç½²ï¼![](https://hicoldcat.oss-cn-hangzhou.aliyuncs.com/img/202211062225236.png)

å› æ­¤ï¼Œè¿™é‡Œæˆ‘ä»¬å®é™…ä¸Šæ˜¯åœ¨é“¸é€ ä»£å¸ä¾›åº”é‡ï¼Œå¹¶å°†æˆ‘ä»¬æƒ³è¦é“¸é€ çš„ä»£å¸`amount`è®¾ç½®ä¸ºæœ€å¤§ä¾›åº”é‡ã€‚

è¿™æ˜¯æˆ‘è¿è¡Œè„šæœ¬æ—¶å¾—åˆ°çš„ç»“æœï¼š

```plaintext
buildspace-dao-starter % node scripts/6-print-money.js
ğŸ‘‹ Your app address is: 0xa002D595189bF9D50D5897C64b6e07BE5bdEe9b8
âœ… There now is 1000000.0 $HOKAGE in circulation
```

ç°åœ¨æ˜¯å²è¯—èˆ¬çš„éƒ¨åˆ†ã€‚å›åˆ° Etherscan ä¸­çš„ ERC-20 åˆçº¦ã€‚æ‚¨ç°åœ¨å°†çœ‹åˆ°æ‚¨æ‹¥æœ‰è‡ªå·±çš„ä»¤ç‰Œè·Ÿè¸ªå™¨ï¼

![](https://hicoldcat.oss-cn-hangzhou.aliyuncs.com/img/202211062225207.png)

ç»§ç»­å¹¶å•å‡»è·Ÿè¸ªå™¨ï¼Œæ‚¨å°†çœ‹åˆ°æ‰€æœ‰ä¾›åº”ä¿¡æ¯ä»¥åŠä»¥ä¸‹å†…å®¹ï¼šè°æŒæœ‰æ‚¨çš„ä»£å¸ï¼Œè°åœ¨è½¬ç§»ä»£å¸ï¼Œä»¥åŠè½¬ç§»äº†å¤šå°‘ä»£å¸ã€‚æ‚¨è¿˜ä¼šåœ¨è¿™é‡Œçœ‹åˆ°æˆ‘ä»¬æœ‰ä¸€ä¸ªâ€œæœ€å¤§æ€»ä¾›åº”é‡â€ã€‚

å¾ˆé…·ã€‚æˆ‘ä»¬ç”¨å‡ è¡Œ Javascript å®Œæˆäº†è¿™ä¸€åˆ‡ã€‚è¿™å¾ˆç–¯ç‹‚ã€‚å¦‚æœä½ æƒ³å¤§å£°ç¬‘ï¼Œä½ å¯ä»¥åœ¨è¿™ä¸€ç‚¹ä¸Šåˆ¶ä½œä¸‹ä¸€ä¸ªçºªå¿µå¸ã€‚

![](https://hicoldcat.oss-cn-hangzhou.aliyuncs.com/img/202211062225108.png)

### âœˆï¸ç©ºæŠ•å®ƒ

ç°åœ¨æ˜¯ç©ºæŠ•æ—¶é—´ã€‚ç°åœ¨ä½ å¯èƒ½æ˜¯ä½ çš„ DAO çš„å”¯ä¸€æˆå‘˜ï¼Œæ²¡å…³ç³»ï¼

æ‰“å¼€`7-airdrop-token.js`å¹¶æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š

```jsx
import sdk from "./1-initialize-sdk.js";

(async () => {
  try {
    // This is the address to our ERC-1155 membership NFT contract.
    const editionDrop = await sdk.getContract("INSERT_EDITION_DROP_ADDRESS", "edition-drop");
    // This is the address to our ERC-20 token contract.
    const token = await sdk.getContract("INSERT_TOKEN_ADDRESS", "token");
    // Grab all the addresses of people who own our membership NFT, which has 
    // a tokenId of 0.
    const walletAddresses = await editionDrop.history.getAllClaimerAddresses(0);

    if (walletAddresses.length === 0) {
      console.log(
        "No NFTs have been claimed yet, maybe get some friends to claim your free NFTs!",
      );
      process.exit(0);
    }

    // Loop through the array of addresses.
    const airdropTargets = walletAddresses.map((address) => {
      // Pick a random # between 1000 and 10000.
      const randomAmount = Math.floor(Math.random() * (10000 - 1000 + 1) + 1000);
      console.log("âœ… Going to airdrop", randomAmount, "tokens to", address);

      // Set up the target.
      const airdropTarget = {
        toAddress: address,
        amount: randomAmount,
      };

      return airdropTarget;
    });

    // Call transferBatch on all our airdrop targets.
    console.log("ğŸŒˆ Starting airdrop...");
    await token.transferBatch(airdropTargets);
    console.log("âœ… Successfully airdropped tokens to all the holders of the NFT!");
  } catch (err) {
    console.error("Failed to airdrop tokens", err);
  }
})();
```

è¿™æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„é—®é¢˜ã€‚ä½†ä½ ç°åœ¨å·²ç»æ˜¯ç¬¬ä¸‰ç½‘ç»œçš„ä¸“å®¶äº†ï¼ŒEzpzã€‚

é¦–å…ˆï¼Œæ‚¨ä¼šçœ‹åˆ°æˆ‘ä»¬éœ€è¦`editionDrop`å’Œ`token`åˆåŒï¼Œå› ä¸ºæˆ‘ä»¬å°†ä¸è¿™ä¸¤ä¸ªåˆåŒè¿›è¡Œäº¤äº’ã€‚

æˆ‘ä»¬éœ€è¦é¦–å…ˆä» `editionDrop` ä¸­è·å–NFT æŒæœ‰è€…ï¼Œç„¶åä½¿ç”¨`token`ä¸Šçš„å‡½æ•°å°†ä»–ä»¬çš„ä»£å¸é“¸é€ å‡ºæ¥ã€‚

æˆ‘ä»¬`getAllClaimerAddresses`ç”¨æ¥è·å–æ‰€æœ‰æ‹¥æœ‰æˆ‘ä»¬ NFT w/tokenId `"0"` ä¼šå‘˜èµ„æ ¼çš„äººçš„`walletAddresses`ã€‚

ä»é‚£é‡Œï¼Œæˆ‘ä»¬éå†æ‰€æœ‰`walletAddresses`å¹¶é€‰æ‹©ä¸€ä¸ª`randomAmount`ä»¤ç‰Œç©ºæŠ•ç»™æ¯ä¸ªç”¨æˆ·ï¼Œå¹¶å°†è¿™äº›æ•°æ®å­˜å‚¨åœ¨`airdropTarget`å­—å…¸ä¸­ã€‚

æœ€åï¼Œæˆ‘ä»¬åœ¨æˆ‘æ‰€æœ‰çš„`airdropTargets`ä¸Šè¿è¡Œ`transferBatch`ã€‚å°±æ˜¯è¿™æ ·ï¼`transferBatch`å°†è‡ªåŠ¨å¾ªç¯éå†æ‰€æœ‰ç›®æ ‡ï¼Œå¹¶å‘é€ä»¤ç‰Œï¼

å½“æˆ‘è¿è¡Œè„šæœ¬æ—¶ï¼Œè¿™æ˜¯æˆ‘å¾—åˆ°çš„ï¼š

```plaintext
buildspace-dao-starter % node scripts/7-airdrop-token.js
ğŸ‘‹ SDK initialized by address: 0xF11D6862e655b5F4e8f62E00471261D2f9c7E380
âœ… Going to airdrop 8761 tokens to 0xF11D6862e655b5F4e8f62E00471261D2f9c7E380
âœ… Going to airdrop 9606 tokens to 0x14fb3a9B317612ddc6d6Cc3c907CD9F2Aa091eE7
âœ… Going to airdrop 7376 tokens to 0xF79A3bb8d5b93686c4068E2A97eAeC5fE4843E7D
âœ… Going to airdrop 9418 tokens to 0xc33817A8e3DD0687FB830666c2658eBBf4696245
âœ… Going to airdrop 8311 tokens to 0xe50b229DC4D053b95fA586EBd1874423D9Be5145
âœ… Going to airdrop 9603 tokens to 0x7FA42Aa5BF1CA8084f51F3Bab884c3aCB5180C86
ğŸŒˆ Starting airdrop...
âœ… Successfully airdropped tokens to all the holders of the NFT!
```

yoooã€‚ä½ åˆšåˆšåšäº†ä¸€ä¸ªç©ºæŠ•ï¼Œå¤ªæ£’äº†ï¼åœ¨æˆ‘çš„ä¾‹å­ä¸­ï¼Œä½ å¯ä»¥çœ‹åˆ°æˆ‘çš„ DAO ä¸­æœ‰ 6 ä¸ªç‹¬ç‰¹çš„æˆå‘˜ï¼Œä»–ä»¬éƒ½æ”¶åˆ°äº†ç©ºæŠ•ã€‚å°±æ‚¨è€Œè¨€ï¼Œç°åœ¨å¯èƒ½åªæœ‰æ‚¨ä¸€ä¸ªäººï¼éšç€æ›´å¤šæˆå‘˜çš„åŠ å…¥ï¼Œè¯·éšæ—¶å†æ¬¡è¿è¡Œæ­¤è„šæœ¬ã€‚

**åœ¨ç°å®ä¸–ç•Œ**ä¸­ï¼Œç©ºæŠ•é€šå¸¸åªå‘ç”Ÿä¸€æ¬¡ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬ç°åœ¨åªæ˜¯åœ¨é—²é€›ï¼Œæ‰€ä»¥æ²¡å…³ç³»ã€‚å¦å¤–ï¼Œè¿™ä¸ªä¸–ç•Œæ²¡æœ‰çœŸæ­£çš„è§„åˆ™ï¼Œå“ˆå“ˆã€‚å¦‚æœæ‚¨æƒ³æ¯å¤©è¿›è¡Œ 4 æ¬¡ç©ºæŠ•ï¼Œé‚£å°±å»å§ï¼

æ‚¨å¯ä»¥åƒ ENS ä¸€æ ·åˆ›å»ºè‡ªå·±çš„å°ç©ºæŠ•å…¬å¼ï¼Œä¾‹å¦‚ï¼š

![](https://hicoldcat.oss-cn-hangzhou.aliyuncs.com/img/202211062226844.png)

ä½ ä¼šæƒ³â€”â€”â€œæ”¶åˆ°ä»£å¸çš„äººå°†å¯¹ DAO æ‹¥æœ‰æ›´å¤šçš„æƒåŠ›ã€‚è¿™ä¸ªå¥½å—ï¼Ÿæœ€å¤§çš„ä»£å¸æŒæœ‰è€…ä¼šä¸º DAO åšæ­£ç¡®çš„äº‹å—ï¼Ÿâ€ã€‚è¿™æ¶‰åŠåˆ°éå¸¸å¹¿æ³›çš„ä»£å¸ç»æµå­¦ä¸»é¢˜ï¼Œæ‚¨å¯ä»¥åœ¨[æ­¤å¤„](https://www.google.com/search?q=tokenomics&utm_source=buildspace.so&utm_medium=buildspace_project)é˜…è¯»ã€‚

å¥½çš„ï¼Œç°åœ¨å¦‚æœæˆ‘å›åˆ°æˆ‘åœ¨ Etherscan ä¸Šçš„ ERC-20 åˆçº¦ï¼Œæˆ‘å¯ä»¥çœ‹åˆ°æˆ‘æ‰€æœ‰çš„æ–°ä»£å¸æŒæœ‰è€…ä»¥åŠä»–ä»¬æ‹¥æœ‰å¤šå°‘`$HOKAGE`ã€‚

è®©æˆ‘ä»¬å¼€å§‹å§ã€‚

![](https://hicoldcat.oss-cn-hangzhou.aliyuncs.com/img/202211062226766.png)

## ğŸ˜‡ åœ¨ DAO Dashboard ä¸Šå±•ç¤ºä»£å¸æŒæœ‰è€…

### ğŸ¥º åœ¨ç½‘ç»œåº”ç”¨ç¨‹åºä¸Šæ£€ç´¢ä»£å¸æŒæœ‰è€…

å¦‚æœæˆ‘ä»¬çš„ DAO çš„æ‰€æœ‰æˆå‘˜èƒ½å¤Ÿè½»æ¾åœ°çœ‹åˆ° DAO ä¸­æŒæœ‰ä»£å¸çš„æ‰€æœ‰äººä»¥åŠä»–ä»¬æŒæœ‰çš„ä»£å¸æ•°é‡ï¼Œé‚£å°±å¤ªå¥½äº†ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬éœ€è¦ä»å®¢æˆ·ç«¯å®é™…è°ƒç”¨æˆ‘ä»¬çš„æ™ºèƒ½åˆçº¦å¹¶æ£€ç´¢è¯¥æ•°æ®ã€‚

å‰å¾€`App.jsx`ï¼Œç„¶ååœ¨`editionDrop`ä¸‹æ–¹ï¼Œæ·»åŠ æ‚¨çš„`token`.

```jsx
// Initialize our token contract
const { contract: token } = useContract('INSERT_TOKEN_ADDRESS', 'token');
```

æˆ‘ä»¬éœ€è¦è¿™ä¸ªï¼Œä»¥ä¾¿æˆ‘ä»¬å¯ä»¥ä¸ ERC-1155 åˆçº¦å’Œ ERC-20 åˆçº¦è¿›è¡Œäº¤äº’ã€‚ä» ERC-1155ï¼Œæˆ‘ä»¬å°†è·å¾—æ‰€æœ‰æˆå‘˜çš„åœ°å€ã€‚ä» ERC-20 ä¸­ï¼Œæˆ‘ä»¬å°†æ£€ç´¢æ¯ä¸ªæˆå‘˜æ‹¥æœ‰çš„ä»£å¸æ•°ã€‚

æ¥ä¸‹æ¥ï¼Œåœ¨`const hasClaimedNFT...`ä¸‹é¢æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š

```jsx
// Holds the amount of token each member has in state.
const [memberTokenAmounts, setMemberTokenAmounts] = useState([]);
// The array holding all of our members addresses.
const [memberAddresses, setMemberAddresses] = useState([]);

// A fancy function to shorten someones wallet address, no need to show the whole thing.
const shortenAddress = (str) => {
  return str.substring(0, 6) + '...' + str.substring(str.length - 4);
};

// This useEffect grabs all the addresses of our members holding our NFT.
useEffect(() => {
  if (!hasClaimedNFT) {
    return;
  }

  // Just like we did in the 7-airdrop-token.js file! Grab the users who hold our NFT
  // with tokenId 0.
  const getAllAddresses = async () => {
    try {
      const memberAddresses = await editionDrop?.history.getAllClaimerAddresses(
        0,
      );
      setMemberAddresses(memberAddresses);
      console.log('ğŸš€ Members addresses', memberAddresses);
    } catch (error) {
      console.error('failed to get member list', error);
    }
  };
  getAllAddresses();
}, [hasClaimedNFT, editionDrop?.history]);

// This useEffect grabs the # of token each member holds.
useEffect(() => {
  if (!hasClaimedNFT) {
    return;
  }

  const getAllBalances = async () => {
    try {
      const amounts = await token?.history.getAllHolderBalances();
      setMemberTokenAmounts(amounts);
      console.log('ğŸ‘œ Amounts', amounts);
    } catch (error) {
      console.error('failed to get member balances', error);
    }
  };
  getAllBalances();
}, [hasClaimedNFT, token?.history]);

// Now, we combine the memberAddresses and memberTokenAmounts into a single array
const memberList = useMemo(() => {
  return memberAddresses.map((address) => {
    // We're checking if we are finding the address in the memberTokenAmounts array.
    // If we are, we'll return the amount of token the user has.
    // Otherwise, return 0.
    const member = memberTokenAmounts?.find(({ holder }) => holder === address);

    return {
      address,
      tokenAmount: member?.balance.displayValue || '0',
    };
  });
}, [memberAddresses, memberTokenAmounts]);
```

ä¹ä¸€çœ‹å¥½åƒå¾ˆå¤šï¼ä½†åªè¦çŸ¥é“æˆ‘ä»¬æ­£åœ¨åšä¸‰ä»¶äº‹ï¼š

1. æˆ‘ä»¬è°ƒç”¨`getAllClaimerAddresses`ä»æˆ‘ä»¬çš„ ERC-1155 åˆçº¦ä¸­è·å–æŒæœ‰ NFT çš„æ‰€æœ‰æˆå‘˜çš„åœ°å€ã€‚
2. æˆ‘ä»¬è°ƒç”¨`getAllHolderBalances`è·å–åœ¨ ERC-20 åˆçº¦ä¸­æŒæœ‰æˆ‘ä»¬ä»£å¸çš„æ¯ä¸ªäººçš„ä»£å¸ä½™é¢ã€‚
3. æˆ‘ä»¬å°†æ•°æ®ç»„åˆæˆ`memberList`æ•°ç»„ï¼Œè¯¥æ•°ç»„ç»“åˆäº†æˆå‘˜çš„åœ°å€å’Œä»–ä»¬çš„ä»£å¸ä½™é¢ã€‚éšä¾¿çœ‹çœ‹[è¿™é‡Œ](https://reactjs.org/docs/hooks-reference.html#usememo?utm_source=buildspace.so&utm_medium=buildspace_project)`useMemo`æœ‰ä»€ä¹ˆã€‚è¿™æ˜¯ React ä¸­å­˜å‚¨è®¡ç®—å˜é‡çš„ä¸€ç§å¥‡ç‰¹æ–¹å¼ã€‚

ç°åœ¨ï¼Œæ‚¨å¯èƒ½ä¼šé—®è‡ªå·±ï¼Œâ€œæˆ‘ä»¬ä¸èƒ½ç›´æ¥ä½¿ç”¨`getAllHolderBalancesè·å–æ‰€æœ‰æŒæœ‰æˆ‘ä»¬ä»£å¸çš„äººå—ï¼Ÿâ€ã€‚å¥½å§ï¼ŒåŸºæœ¬ä¸Šï¼Œæœ‰äººå¯ä»¥åœ¨æˆ‘ä»¬çš„ DAO ä¸­å¹¶æŒæœ‰é›¶ä»£å¸ï¼*è€Œä¸”ï¼Œè¿™ä¹Ÿæ²¡å…³ç³»ã€‚*æ‰€ä»¥ä»ç„¶å¸Œæœ›ä»–ä»¬å‡ºç°åœ¨åå•ä¸Šã€‚

åœ¨æˆ‘çš„æ§åˆ¶å°ä¸­ï¼Œæˆ‘å¾—åˆ°äº†ç±»ä¼¼è¿™æ ·çš„ä¿¡æ¯ï¼Œæˆ‘ç°åœ¨æˆåŠŸåœ°ä»æˆ‘çš„ä¸¤ä¸ªåˆçº¦â€”â€”ERC-20 å’Œæˆ‘çš„ ERC-1155 ä¸­æ£€ç´¢æ•°æ®ã€‚æ˜¯çš„ï¼ï¼éšæ„åœ¨è¿™é‡Œæ”¹åŠ¨å¹¶æ£€æŸ¥æ‰€æœ‰æ•°æ®ã€‚

![](https://hicoldcat.oss-cn-hangzhou.aliyuncs.com/img/202211062228690.png)

### ğŸ¤¯ åœ¨ DAO Dashboard ä¸Šå‘ˆç°æˆå‘˜æ•°æ®

ç°åœ¨æˆ‘ä»¬å·²ç»åœ¨ React åº”ç”¨ç¨‹åºçš„çŠ¶æ€ä¸­å¾ˆå¥½åœ°ä¿å­˜äº†æ‰€æœ‰æ•°æ®ï¼Œè®©æˆ‘ä»¬æ¸²æŸ“å®ƒã€‚

**æ›¿æ¢** `if (hasClaimedNFT) { }`ä¸ºä»¥ä¸‹å†…å®¹ï¼š

```jsx
// If the user has already claimed their NFT we want to display the internal DAO page to them
// only DAO members will see this. Render all the members + token amounts.
if (hasClaimedNFT) {
  return (
    <div className="member-page">
      <h1>ğŸªDAO Member Page</h1>
      <p>Congratulations on being a member</p>
      <div>
        <div>
          <h2>Member List</h2>
          <table className="card">
            <thead>
              <tr>
                <th>Address</th>
                <th>Token Amount</th>
              </tr>
            </thead>
            <tbody>
              {memberList.map((member) => {
                return (
                  <tr key={member.address}>
                    <td>{shortenAddress(member.address)}</td>
                    <td>{member.tokenAmount}</td>
                  </tr>
                );
              })}
            </tbody>
          </table>
        </div>
      </div>
    </div>
  );
}
```

å¾ˆç®€å•ï¼æˆ‘ä»¬åªæ˜¯åœ¨æ¸²æŸ“ä¸€ä¸ªæ¼‚äº®çš„å°è¡¨æ ¼ï¼Œå®ƒå°†å±•ç¤ºæˆ‘ä»¬çš„`memberList`. ä¸€æ—¦ä½ æ£€æŸ¥äº†ä½ çš„é¡µé¢ï¼Œä½ ä¼šçœ‹åˆ°ç±»ä¼¼ä¸‹é¢çš„æˆªå›¾ï¼*æ³¨æ„ï¼šæ²¡æœ‰å±…ä¸­ï¼Œè¿™æ˜¯æ•…æ„çš„ã€‚ç¨åæˆ‘ä»¬å°†æ·»åŠ å…¶ä»–å†…å®¹ï¼*

![](https://hicoldcat.oss-cn-hangzhou.aliyuncs.com/img/202211062228331.png)

ç°åœ¨ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªåœ°æ–¹å¯ä»¥è®©æˆ‘ä»¬çš„æ‰€æœ‰æˆå‘˜åœ¨ä¸€ä¸ªå†…éƒ¨çš„ã€ç”±ä»¤ç‰Œæ§åˆ¶çš„DAOä»ªè¡¨æ¿ä¸Šçœ‹åˆ°å…¶ä»–æˆå‘˜ã€‚çœŸæ£’ :)ã€‚


> Githubæºç ï¼šhttps://github.com/buildspace/buildspace-projects/tree/main/JS_DAO/
>
> åŸæ–‡é“¾æ¥ï¼šhttps://buildspace.so/p/build-dao-with-javascript

![](https://hicoldcat.oss-cn-hangzhou.aliyuncs.com/img/profile.jpg)
