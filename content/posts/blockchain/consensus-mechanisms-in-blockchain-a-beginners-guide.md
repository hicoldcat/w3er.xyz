---
title: 区块链中的共识机制：初学者指南
description: null
author: 李留白
weight: 0
date: 2023-02-21T15:26:39.566Z
lastmod: 2023-02-21T15:30:19.439Z
tags: []
categories:
  - 区块链
featuredImage: https://hicoldcat.oss-cn-hangzhou.aliyuncs.com/img/20230221232654.png
---

## 介绍

区块链技术是一种数字分类账，可以跟踪网络上发生的每一笔交易；这些交易极其安全且不可更改，因为黑客无法更改任何信息，并且区块链网络上的所有交易活动都是公开的。没有公司实体或政府机构控制或证明区块链网络上的交易，因为它是去中心化和透明的。

由于区块链网络是自治和分散的，因此需要自动化程序，以确保参与节点仅同意有效交易。为了在区块链网络上提供有用的服务，这些协议被设置为防止“双花”攻击等恶意行为。

简单地说，这些协议是规范区块链网络上所有活动的算法。本文将介绍区块链网络使用的一些共识方法。在了解不同的共识方式之前，我们先了解一下什么是共识和共识机制

## 什么是共识？

就共识而言，我们的意思是达成了普遍协议。想想看电影的个人聚会。如果对建议的电影选择没有分歧，则达成共识。如果存在分歧，小组必须有能力决定观看哪部电影。在可怕的情况下，这个群体最终会崩溃。

对于以太坊区块链，流程是形式化的，达成共识意味着网络上至少有 66% 的节点同意网络的全局状态。

![](https://hicoldcat.oss-cn-hangzhou.aliyuncs.com/img/20230221232739.png)

## 什么是共识机制？

术语共识机制是指允许节点网络就区块链状态达成一致的协议、激励和想法的整个堆栈。

以太坊使用基于权益证明的共识机制，该机制从一组适用于堆叠器锁定资本的奖励和惩罚中获得其加密经济安全性。这种激励结构鼓励个人堆叠器操作诚实的验证器，惩罚那些不这样做的人，并为攻击网络创造极高的成本。

然后，有一个协议管理如何选择诚实的验证者来提议或验证区块、处理交易并投票支持他们对链头的看法。在极少数情况下，多个块位于链头附近的相同位置，有一种分叉选择机制选择构成“最重”链的块，由投票给加权块的验证者数量来衡量通过他们抵押的以太币余额。

一些概念对于未在代码中明确定义的共识很重要，例如潜在的带外社会协调提供的额外安全性作为抵御网络攻击的最后一道防线。这些组件共同构成了共识机制。现在让我们深入探讨共识机制的类型。

## 共识机制的类型

### 工作证明

工作证明 (PoW) 是一种共识算法，用于保护和验证区块链网络上的交易。在 PoW 系统中，矿工相互竞争以解决密码难题，这是一个需要计算努力才能解决的数学问题。

第一个解决难题的矿工可以创建一个新区块，验证交易并将其添加到区块链中。然后将该块广播到网络，其他节点验证该块及其交易以确保一切都是合法的。如果大多数节点同意该块是有效的，它就成为区块链的永久部分。

密码难题被设计成难以解决，但易于验证。这意味着一旦矿工解出谜题，其他节点可以快速验证解法是否正确，保证了系统的安全和公平。就像解魔方很难，但验证解出的魔方很容易。

工作量证明被设计成一个困难且资源密集的过程，因为它需要大量的计算能力来解决这个难题。这使得单个矿工或矿工群体很难接管网络并验证虚假交易，因为这样做需要大量的计算能力。

### 权益证明

权益证明 (PoS) 也是一种共识算法，用于保护和验证区块链网络上的交易。与使用计算能力来验证交易的工作量证明 (PoW) 不同，PoS 使用不同的机制。

在 PoS 系统中，不是矿工竞争解决密码难题，而是选择验证者来验证交易并根据他们在网络中拥有的股份数量创建新区块。Stake 是指验证者持有并锁定为抵押品的加密货币数量。

在 PoS 系统中创建新块和验证交易的过程称为锻造或铸币。选择拥有最大股份的验证者来创建新块并验证交易。这个验证者被激励诚实地行事，因为如果他们验证虚假交易或从事恶意活动，他们的权益就会面临风险。

PoS 旨在比 PoW 更节能，因为它不需要大量的计算能力来验证交易。这也使得单个验证器或验证器组更难以接管网络，因为他们需要控制网络中总权益的很大一部分。

### 委托权益证明（DPoS）

委托权益证明 (DPoS) 是权益证明 (PoS) 算法的一种变体，可实现更高的可扩展性和更快的交易处理时间。

在 DPoS 系统中，代币持有者投票选出一组代表或验证者，他们负责创建新区块和验证交易。这些代表被激励诚实行事，因为他们是由社区选举产生的，如果他们从事恶意活动，可能会被投票淘汰。

在 DPoS 系统中创建新区块和验证交易的过程称为区块生产。选择得票最多的代表创建下一个区块，其他代表作为见证人来验证区块中的交易。

DPoS 旨在比传统的 PoS 和 PoW 算法更高效和可扩展，因为它减少了负责创建和验证块的验证器的数量。这允许更快的交易处理时间和增加的网络吞吐量。

### 活动证明（PoA）

活动证明 (PoA) 是一种混合共识算法，它结合了工作证明 (PoW) 和股权证明 (PoS) 算法的要素。它用于保护和验证区块链网络上的交易。

在 PoA 系统中，块是使用 PoW 和 PoS 的组合创建的。矿工们竞相解决一个密码学难题，就像在 PoW 中一样，但是一旦创建了一个块，就会选择一个验证器将块添加到区块链中。该验证器是根据其在网络中的权益来选择的，就像在 PoS 中一样。

在 PoA 系统中创建新区块的过程分为两步。首先，矿工解决密码难题并创建一个新块。接下来，选择验证器将块添加到区块链。这个验证者被激励诚实地行事，因为如果他们验证虚假交易或从事恶意活动，他们的权益就会面临风险。

PoA 旨在提供 PoW 的安全性和去中心化以及 PoS 的能源效率和可扩展性。这使其成为需要高级别安全性和可扩展性的区块链网络的潜在有吸引力的选择。

### 权威证明（PoA）

权威证明 (PoA) 与工作量证明 (PoW) 和权益证明 (PoS) 等其他共识算法不同，PoA 使用一组受信任的个人或组织（称为验证者）来验证交易并创建新区块。

在 PoA 网络中，验证器是预先选择的，并且可以通过数字签名公开验证其身份。这使得在不需要密集计算能力或大量股权的情况下建立对网络的信任成为可能。

在 PoA 网络中创建新区块和验证交易的过程称为区块生产。验证者负责创建和验证区块，他们被激励诚实行事，因为如果他们从事恶意活动，他们的声誉和信任就会受到威胁。

PoA 旨在比传统的 PoW 和 PoS 算法更高效和可扩展，因为它减少了负责创建和验证块的验证器的数量。这允许更快的交易处理时间和增加的网络吞吐量。

### 燃烧证明 (PoB)

燃烧证明 (PoB) 是一种工作量证明 (PoW) 算法，旨在比传统的 PoW 算法更节能、更环保。

在 PoB 系统中，参与者通过将代币发送到不可花费的地址来“销毁”或销毁代币，从而有效地将代币从流通中移除。通过销毁代币，参与者展示了对网络的承诺，并表明他们与网络的成功息息相关。参与者销毁的代币越多，他们获得的挖矿能力就越多，从而允许他们创建新区块并验证交易。

在 PoB 系统中创建新区块和验证交易的过程称为区块生产。被销毁代币最多的参与者拥有最高的挖矿算力，更有可能被选中创建下一个区块。

PoB 旨在减少在区块链网络上保护和验证交易所需的计算能力和能量，使其成为传统 PoW 算法的更环保的替代方案。

### 历史证明

历史证明 (PoH) 旨在提供一种安全、防篡改且高效的方法来记录区块链网络中的时间流逝。

在 PoH 系统中，受信任的一方，例如中央机构或一组机构，定期生成一系列密码哈希并将它们发布在区块链上。这一系列的哈希值被称为“历史证明序列”，作为网络中发生的所有交易的时间戳。

当参与者想要在区块链上记录交易时，他们必须在交易中包含来自历史证明序列的当前哈希值。这确保交易在特定时间点被记录，并且可以被网络验证。

PoH 提供了高水平的安全性和效率，因为它消除了对密集计算能力的需求并降低了恶意行为的风险。生成历史证明序列的可信方可以被审计并被追究责任，确保时间戳过程的完整性。

### 重要性证明（PoI）

重要性证明 (PoI) 是权益证明 (PoS) 的一种变体，它考虑了参与者在网络中的整体重要性，而不仅仅是他们持有的股份数量。

在 PoI 系统中，每个参与者都根据多种因素分配一个“重要性分数”，例如他们持有的货币数量、他们参与的交易数量以及他们的网络规模。参与者越重要，他们就越有可能被选中来验证交易和创建新区块。

PoI 背后的想法是激励参与者积极使用和参与网络，而不是简单地持有他们的股份。这有助于促进更加去中心化和活跃的网络，因为参与者会因其贡献和参与而获得奖励。

PoI 在安全性、去中心化和效率之间提供了平衡，因为它奖励参与者在网络中的整体重要性和活动，而不仅仅是他们的股份。这有助于防止中心化并降低恶意行为的风险。

### 委托拜占庭容错

委托拜占庭容错 (dBFT) 旨在在存在“拜占庭故障”或可能试图操纵或破坏网络的恶意行为者时提供高级别的安全性和效率。

在 dBFT 系统中，选择了一组“代表”来验证交易并创建新块。这些代表由网络中的参与者根据他们的声誉和可信度选出。然后，代表们使用共识就交易的有效性达成一致，并将它们添加到区块链中。

dBFT 的主要优势在于它能够在恶意行为者存在的情况下保持共识。如果恶意代表试图操纵网络，他们将被检测到并被排除在共识过程之外。这有助于确保网络的安全性和稳定性，即使存在拜占庭故障。

dBFT 在安全性、去中心化和效率之间提供了平衡，因为它依赖于一小组受信任的代表来验证交易，而不是整个网络。这有助于减少达成共识所需的计算能力并加快流程，同时仍保持高水平的安全性。

## 结论

总之，共识机制在维护区块链网络的完整性和安全性方面发挥着关键作用。它们使分散的节点网络能够就分类账的状态达成协议，而无需中央机构或中介机构。

有多种类型的共识机制，每种都有其优点和缺点。工作量证明 (PoW) 是最著名和使用最广泛的机制，但它因其高能耗而受到批评。其他机制，例如股权证明 (PoS)，已成为更节能的替代方案。

无论使用何种具体机制，共识过程都是区块链技术运行的基础。它确保网络能够抵御攻击，并确保交易得到安全和透明的验证和记录。

随着区块链技术不断发展并获得更广泛的采用，我们可能会看到共识机制的进一步创新和完善。通过了解共识的基本原理，我们可以更好地理解区块链技术的潜力及其改变各行各业和应用的能力。

> 原文：https://0xaira.hashnode.dev/consensus-mechanisms-in-blockchain-a-beginners-guide

![](https://hicoldcat.oss-cn-hangzhou.aliyuncs.com/img/profile.jpg)