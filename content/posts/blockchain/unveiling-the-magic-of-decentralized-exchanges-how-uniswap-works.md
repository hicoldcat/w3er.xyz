---
title: 揭开去中心化交易所的魔力：Uniswap 的工作原理
description: null
author: 李留白
weight: 0
date: 2023-10-25T14:15:48.183Z
lastmod: 2023-10-25T14:17:21.690Z
tags: []
categories:
    - 区块链
featuredImage: https://hicoldcat.oss-cn-hangzhou.aliyuncs.com/img/20231025221556.png
---

![](https://hicoldcat.oss-cn-hangzhou.aliyuncs.com/img/20231025221556.png)

**介绍**

我们中的许多人都熟悉 Binance 和 Coinbase 等中心化加密货币交易所，我们在其中交易和投资各种数字资产。然而，这些平台面临着重大挑战，包括安全漏洞和财务违规行为。为了解决这些问题，去中心化交易所（DEX）的概念诞生了。在本文中，我们将深入探讨 DEX 的世界，重点关注突破性的 Uniswap 及其数学基础。

**去中心化交易所的必要性**

中心化交易所在订单簿系统上运行，用户在其中下达买卖订单，交易所对这些订单进行匹配。尽管该系统有效，但它也有其缺点，例如需要将您的资产信任第三方。此外，以太坊区块链上基于订单簿的系统的高昂 Gas 成本和复杂性给早期 DEX 尝试带来了挑战。最近发生了黑客攻击的例子。

1. Coincheck：5.3 亿美元的抢劫
   2018 年，日本加密货币交易所 Coincheck 遭受了数字货币历史上最大的抢劫之一。黑客渗透了交易所的安全系统，盗走了数量惊人的 5.23 亿个 NEM 代币，当时价值约 5.3 亿美元。此次黑客攻击在加密社区引起了轩然大波，并对交易所采用的安全措施提出了严重质疑。

2. QuadrigaCX：神秘失踪
   2019 年，加拿大的 QuadrigaCX 交易所以最奇特、最悲惨的方式崩溃了。该交易所创始人杰拉尔德·科顿 (Gerald Cotten) 在前往印度旅行时意外去世。让这起事件尤其令人痛心的是，科顿是该交易所私钥的唯一持有者。这些密钥对于访问和管理客户资金至关重要。随着他的英年早逝，超过 2 亿美元的客户资产变得无法使用，导致数千名用户陷入财务困境。QuadrigaCX 案例强调了加密货币行业中应急计划和安全密钥管理的至关重要性。

3. FTX：壮观的崩溃

   快进到 2022 年，全球最大的加密货币交易所之一 FTX 发现自己卷入了一场史无前例的丑闻。该交易所创始人 Sam Bankman-Fried 因欺诈和洗钱指控被捕，FTX 被曝资不抵债。这一消息在加密货币领域引起了轩然大波，因为 FTX 以其在行业中的快速崛起和突出地位而闻名。这一事件清楚地提醒人们，加密世界中不道德行为者所面临的监管挑战和潜在风险。

**Uniswap 的诞生**

![](https://hicoldcat.oss-cn-hangzhou.aliyuncs.com/img/20231025221630.png)

Uniswap 在以太坊网络上运行，在 DEX 的发展中发挥了关键作用。它的灵感来自以太坊联合创始人**Vitalik Buterin的一篇博客文章，由****Hayden Adams**开发。Uniswap 引入了一种新的去中心化交易方法，使用户能够直接通过智能合约交换加密货币，而无需订单簿。Uniswap 已经出现了多个版本，包括 v1、v2、v3 和 v4，每次迭代都会带来改进和增加的功能。

核心方程：**x * y = k**

Uniswap 功能的核心是一个简单的数学方程：x * y = k。该等式与交易池中两种资产的余额相关，其中：

- x 代表一项资产（例如 ETH）的余额。
- y 代表另一种资产（例如 TOKEN）的余额。
- k是一个保持不变的常数值。

该等式确保当用户进行交换时，两种资产的余额会进行调整，而其余额的乘积保持不变。这个概念用公式表示：(x + Δx) * (y - Δy) = k，其中 Δx 是换入池中的一项资产的数量，Δy 是换出的数量。

**滑点和价格变动**

由于 x * y = k 方程的性质，Uniswap 上的价格出现滑点。相对于其储备价值而言，交易的代币越多，价格就越低。这是因为储备会无限发挥作用，防止水池完全排空。

**设置初始价格**

当引入新的加密货币时，第一个将资产添加到池中的流动性提供者可以设定初始价格。该初始提供者必须以特定比例贡献资产，以确保价格稳定。后续的流动性提供者必须遵守这个比率，以防止价格操纵。

**流动性提供者代币（LP代币）**

为了奖励流动性提供者，Uniswap 引入了流动性提供者代币（LP 代币）。这些代币代表池中的份额，并使持有者有权获得一部分交易费用。当流动性添加到池中时，LP 代币就会被铸造，而当流动性被撤回时，这些代币可以兑换为资产并赚取费用。即使添加或删除额外的流动性，Uniswap 也能确保 LP Token 份额保持准确。

**收费和分配**

Uniswap 从每次互换中收取费用以奖励流动性提供者。费用以与存入资产相同的货币收取。例如，如果用户将 ETH 换成 TOKEN，则费用将从 ETH 侧扣除并添加到 TOKEN 储备中。这种机制确保流动性提供者按照与其持有的 LP Token 成比例的平衡资产组合收取费用。

**结论**

Uniswap 优雅的设计和数学基础彻底改变了去中心化交易所的世界。其核心方程 x * y = k 确保价格稳定并防止池完全排水。LP Token 和收费机制进一步激励流动性提供者参与 Uniswap。Uniswap 的设计使用户能够直接在区块链上交换加密货币，从而促进去信任和高效的交易。Uniswap 的发展不断进步，不断改进和发展，使其成为 DeFi 生态系统中的重要参与者。

>原文：https://atharvbobade.hashnode.dev/unveiling-the-magic-of-decentralized-exchanges-how-uniswap-works